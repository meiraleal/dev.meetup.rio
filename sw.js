const FILE_BUNDLE={"/index.js":{content:`const ensureSWController=()=>{const o=new Promise((r,t)=>{setTimeout(()=>t(new Error("Service Worker timed out.")),100)}),e=new Promise(r=>{if(navigator.serviceWorker.controller)return r();navigator.serviceWorker.addEventListener("controllerchange",()=>r())});return Promise.race([e,o])},startApp=async()=>{if(!("serviceWorker"in navigator))throw console.warn("Service Worker not supported."),new Error("Platform not supported");await navigator.serviceWorker.register("/sw.js",{scope:"/"});try{console.log("Waiting for Service Worker to take control..."),await ensureSWController(),console.log("\\u2705 Service Worker is in control!"),await import("/bootstrap.js"),await import("/app.js")}catch{console.warn("Service Worker did not take control in time. Reloading..."),window.location.reload()}};startApp();
`,metaType:"application/javascript"},"/bootstrap.js":{content:'self.sleep=(e=0)=>new Promise(t=>setTimeout(t,e));const j=["test","types","mvc","date"],l=e=>{const t=new Map,s=new Set;e.listeners=t,e.on=(n,o)=>{if(!o)return console.error(`Error adding listener to ${n}: no callback passed`);t.has(n)||t.set(n,new Set),t.get(n).add(o)},e.off=(n,o)=>{const i=t.get(n);i&&(i.delete(o),i.size===0&&t.delete(n))},e.onAny=n=>{if(!n)return console.error("Error adding onAny listener: no callback passed");s.add(n.bind(e))},e.offAny=n=>{s.delete(n)},e.emit=(n,o)=>{const i=[];return t.get(n)?.forEach(r=>{try{const a=r;i.push(a(o))}catch(a){console.error(`Error in listener for key "${n}":`,a)}}),s.forEach(r=>{try{const a=r.bind(e);i.push(a({key:n,data:o}))}catch(a){console.error(`Error in onAny listener for key "${n}":`,a)}}),i}},f={};l(f);const m={add:function(...e){return e.forEach(t=>!this.includes(t)&&this.push(t)),this},remove:function(e){const t=Number.parseInt(e,10);return!Number.isNaN(t)&&t>=0&&t<this.length&&this.splice(t,1),this},list:function(){return[...this]},get:function(e){const t=Number.parseInt(e,10);return!Number.isNaN(t)&&t>=0&&t<this.length?this[t]:void 0}},p={set:function(...e){return e.length===1&&typeof e[0]=="object"&&e[0]!==null?Object.entries(e[0]).forEach(([t,s])=>{this[t]=s}):e.length===2&&typeof e[0]=="string"&&(this[e[0]]=e[1]),this},add:function(e,t){if(typeof t=="object")return this[e]||(this[e]={}),Object.entries(t).forEach(([s,n])=>{this[e][s]=n}),this},get:function(...e){const[t,s]=e;if(e.length!==0)return e.length===2?this[t]?.[s]:this[t]},remove:function(...e){return e.length===2?delete this[e[0]][e[1]]:delete this[e[0]],this},list:function(){return Object.entries(this)},keys:function(){return Object.keys(this)}},b=(e={})=>{const t=Object.create(Object.getPrototypeOf(e)),s=Array.isArray(e)?m:p;return Object.assign(t,s),Object.setPrototypeOf(e,t),e},d={modules:{name:"modules",description:"Global modules store"},storage:{name:"storage",description:"Storage Module",base:{install:b}},error:{name:"error",base:console.error,frontend:!0,backend:!0},log:{name:"log",base:console.log,frontend:!0,backend:!0},icons:{name:"icons",alias:"Icons",base:self.__icons||{}},theme:{name:"theme"},components:{name:"components"},hooks:{name:"hooks",description:"Global Hooks store",functions:({$APP:e})=>({get:function(t){return this[t]||[]},add:function(t,s){this[t]=Array.isArray(this[t])?[...this[t],s]:[s]},set:function(t){Object.entries(t).forEach(([s,n])=>this.add(s,n))},run:async function(t,...s){try{if(Array.isArray(this[t]))for(const n of this[t])await n(...s)}catch(n){e.error(`Error running hook \'${t}\':`,n)}},clear:function(t){this[t]=null}})},settings:{name:"settings",description:"Global settings store",base:{dev:!0,backend:!1,frontend:!0,mv3:!1,mv3Injected:!1,basePath:"",...self.__settings||{}},hooks:({context:e})=>({moduleAdded({module:t}){t.settings&&(e[t.name]=t.settings)}})},events:{name:"events",description:"Global events Store",base:f,functions:{install:l}},data:{name:"data",description:"Data Migration store"},routes:{name:"routes",description:"Routes store"},devFiles:{name:"devFiles",base:[]},fs:{dev:!0,name:"fs",description:"FileSytem Module",functions:({$APP:e,context:t})=>({async import(s,{tag:n,module:o}={}){try{const i=await import(s);return t[s]={tag:n,path:s,module:o,extension:n?"component":"js"},i}catch(i){return console.error(`Failed to import ${s}:`,i),{error:!0}}},async fetchResource(s,n,o){try{const i=await fetch(s);if(t[s]={path:s,extension:o},i.ok)return await n(i)}catch(i){console.warn(`Resource not found at: ${s}`,i)}return null},list(){const s={};return Object.values(t).forEach(n=>{const{extension:o}=n;s[n.extension]||(s[o]=[]),s[o].push(n)}),s},assets(){return Object.values(t).filter(({extension:s})=>!["js","component"].includes(s))},components(){return Object.values(t).filter(({tag:s,extension:n})=>n==="js"&&!!s)},json(s){return t.fetchResource(s,n=>n.json(),"json")},css:async(s,n=!1)=>{const o=await t.fetchResource(s,async r=>await r.text(),"css");if(!n)return o;const i=document.createElement("style");return i.textContent=o,document.head.appendChild(i),o},getFilePath(s){return e.settings.mv3Injected?chrome.runtime.getURL(s):`${e.settings.basePath}${s.startsWith("/")?s:`/${s}`}`},getModulePath(s,n){t.getFilePath(`modules/${s}/${n}`)},getRequestPath(s){const n=new URL(s);return n.pathname+n.search}})}},y={imports:[],async bootstrap({modules:e=[],backend:t=!1,settings:s={},theme:n},o={}){return this.settings.set({...s,...o,backend:t,frontend:!t,modules:e}),this.settings.dev&&(await this.importModules(j),e.length&&await this.importModules(e)),t||(u.fs.css("theme.css",!0),n&&this.theme.set({theme:n})),u.hooks.run("init"),this},getPath({module:e,version:t,file:s="index.js"}){return["/modules",e,t&&t!=="latest"&&t,s].filter(Boolean).join("/")},async importModule(e){const[t,s]=Array.isArray(e)?e:[e];if(!this.imports.includes(t))try{await this.fs.import(this.getPath({module:t,version:s}),{module:t});const n=this.modules[t];if(this.imports.push(t),!n)return;n.modules&&await this.importModules(n.modules),n.frontend&&this.settings.frontend&&await this.fs.import(this.getPath({module:t,version:s,file:"frontend.js"}),{module:t}),n.backend&&this.settings.backend&&await this.fs.import(this.getPath({module:t,version:s,file:"backend.js"}),{module:t})}catch(n){u.error(`Error loading module \'${t}\':`,n)}},async importModules(e){for(const t of e)await this.importModule(t)},installModulePrototype:b,addHooks({hooks:e,base:t}){if(!this.hooks)return t;e&&Object.entries(typeof e=="function"?e({$APP:this,context:t}):e).map(([s,n])=>this.hooks.add(s,n))},updateModule(e,t=!1){const{alias:s,path:n,library:o,functions:i,name:r,hooks:a}=e,c=e.base??this[r];return e.base&&this.setModuleBase({base:c,name:r,alias:s}),o&&this.setLibrary({base:c,name:r,alias:s}),this.modules[r]||this.setModuleMeta({name:r,module:{...e,base:c}}),i&&this.addFunctions({name:r,functions:i}),a&&this.addHooks({hooks:a,name:r,base:c}),n&&!this.modules[n]&&(this.modules[n]=this.modules[r]),t||this.hooks?.get("moduleUpdated").map(g=>g.bind(this[e.name])({module:e})),c},setLibrary({base:e,name:t,alias:s}){this[t]=e,s&&(this[s]=e),this.modules?.[t]&&(this.modules[t].base=e)},setModuleBase({base:e,name:t,alias:s}){this.installModulePrototype(e),this.setLibrary({base:e,name:t,alias:s})},setModuleMeta({name:e,module:t}){this.modules&&this.modules.set(e,t)},addModule(e){if(e.dev&&this.settings.dev!==!0||this?.modules?.[e.name])return;e.base||(e.base={});const t=this.updateModule(e,!0);return this.hooks?.get("moduleAdded").map(s=>s.bind(this[e.name])({module:e})),this.log&&this.log(`Module \'${e.name}\' added successfully`),t},addFunctions({name:e,functions:t}){if(!this[e])throw new Error(`Module \'${e}\' not found`);const s=Object.getPrototypeOf(this[e]);return Object.assign(s,typeof t=="function"?t({$APP:this,context:this[e]}):t),this[e]}},h=(e=y)=>{const t=Object.create(e);for(const s in d)t.addModule(d[s]);return t},u=h();self.initApp=h,self.$aux={initApp:h,ArrayStorageFunctions:m,ObjectStorageFunctions:p,prototypeAPP:y,coreModules:d};export default u;\n',metaType:"application/javascript"},"/app.js":{content:`import a from"/bootstrap.js";a.bootstrap({name:"Habits Tracker",modules:["apps/habits","icon-lucide","font/manrope","uix","apps/bundler","p2p"],theme:{font:{family:"'Manrope'"}}});
`,metaType:"application/javascript"},"/modules/test/index.js":{content:"export default {}"},"/modules/test/assert/index.js":{content:"export default {}"},"/modules/test/mock/index.js":{content:"export default {}"},"/modules/types/index.js":{content:'const g={email:/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/},x=n=>{try{return n in c?n:JSON.parse(n)}catch{return}},c={undefined:void 0,null:null,"":null,[void 0]:void 0},y={any:n=>n,function:n=>n,extension:()=>{},boolean:(n,{attribute:e=!0}={})=>e&&n===""||["true",1,"1",!0].includes(n),string:n=>n in c?c[n]:String(n),array:(n,e={})=>{if(Array.isArray(n))return n;const{itemType:t}=e;try{if(!n)throw n;const r=x(n);if(!Array.isArray(r))throw r;return t?r.map(s=>typeof s!="object"?s:Object.entries(s).reduce((i,[f,d])=>(i[f]=y[t[f]?.type]?y[t[f].type](d,e):d,i),{})):r}catch{return[]}},number:n=>n&&Number(n),date:n=>new Date(n),object:(n,e={})=>{const t=typeof n=="string"?x(n):n;return e.properties&&Object.entries(e.properties).map(([r,s])=>{s.defaultValue!==void 0&&(t[r]=s.defaultValue)}),t}},w=(n,e={})=>{const{type:t}=e;return(y[t]||(r=>r))(n,e)},O={number:(n,e={})=>{if("min"in e&&n<e.min)return["minimum",null];if("max"in e&&n>e.max)return["maximum",null];if(Number.isNaN(Number(n)))return["NaN",null]}},A=(n,e)=>{if(e.required===!0&&(n==null||n===""))return["required",null];const t=y[e.type];if(e.relationship)return e.many?[null,Array.isArray(n)?n.map(i=>e.mixed?i:i?.id??i):[]]:[null,n?.id??n];const r=t?t(n,e):[void 0,null,""].includes(n)?e.defaultValue??null:n,s=O[e.type];if(s){const i=s(n,e);if(i)return i}if("format"in e||g[e.key]){const i="format"in e?e.format:g[e.key];if(!(typeof i=="function"?e.format:a=>i.test(a))(r))return["invalid",null]}return[null,r]};function T(n,e){return n.replace(/\\${(.*?)}/g,(t,r)=>e[r.trim()])}const _=(n,{schema:e,row:t={},undefinedProps:r=!0,validateVirtual:s=!1})=>{if(!e)return[null,n];const i={};let f=!1;const d=r?e:n;for(const u in d){const l={...e[u],key:u};if("virtual"in l||l.persist===!1)continue;const[o,b]=[void 0,null,""].includes(n[u])&&!l.required?[null,l.defaultValue]:A(n[u],l);o?(f=!0,i[u]=o):b!==void 0&&(n[u]=b)}const a=Object.fromEntries(Object.entries(e).filter(([u,l])=>"virtual"in l));for(const u in a)if(s){const[l,o]=A(T(a[u].virtual,{...t,...n}),a[u]);l?(f=!0,i[u]=l):o!==void 0&&(n[u]=o)}else n[u]=T(a[u].virtual,{...t,...n});return f?[i,null]:[null,n]},N=(n={})=>new Proxy(n,{get(e,t,r){return t==="$"?{...e}:t in e?Reflect.get(e,t,r):s=>(e[t]=s===void 0||s,r)}}),m=(n,e)=>{const t=typeof e=="object"&&!Array.isArray(e)&&e!==null?e:{defaultValue:e};return N({type:n,persist:!0,attribute:!0,...t})},H=n=>(...e)=>{const t=e[0];let r,s=e[2];typeof e[1]=="string"?r=e[1]:s=e[1];const i=V.includes(n);return N({type:i?n==="belongs_many"?"array":"string":n==="one"?"object":"array",many:C.includes(n),belongs:i,persist:i,relationship:n,defaultValue:n==="belongs_many"?[]:null,polymorphic:t==="*"||Array.isArray(t),targetModel:t,targetForeignKey:r,index:V.includes(n),...s})},$={createType:m,stringToType:w,validateType:_},q=["one","many","belongs","belongs_many"],C=["many","belongs_many"],V=["belongs","belongs_many"],E={get(n,e){if(n[e])return n[e];const t=e.toLowerCase();return q.includes(e)?H(e):t==="extension"?(r={})=>m("extension",{...r,persist:!1,extension:!0}):(r={})=>{if(!y[t])throw new Error(`Unknown type: ${t}`);return m(t,r)}}},F=new Proxy($,E);export default F;\n',metaType:"application/javascript"},"/modules/mvc/index.js":{content:`import m from"/bootstrap.js";m.addModule({name:"mvc",modules:["mvc/view","mvc/model","mvc/controller","app"]});
`,metaType:"application/javascript"},"/modules/mvc/view/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"view",path:"mvc/view",alias:"View",frontend:!0,backend:!0,modules:["mvc/view/fonts"]});
`,metaType:"application/javascript"},"/modules/mvc/view/fonts/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"fonts",path:"mvc/view/fonts",frontend:!0,base:[]});
`,metaType:"application/javascript"},"/modules/mvc/view/fonts/frontend.js":{content:`import a from"/bootstrap.js";const d={ttf:"truetype"},m={extralight:200,light:300,regular:400,medium:500,semibold:600,bold:700,extrabold:800},i=(t,o)=>{const{variants:e,name:n,type:s="woff2"}=o;return e.map(f=>{const c=m[f]||400;return\`@font-face {
      font-family: '\${n}';
      font-weight: \${c};
      src: url('\${a.settings.basePath}/modules/font/\${t}/\${f}.\${s}') format('\${d[s]||s}');
    }\`}).join(\`
\`)},r=(t,o)=>{const e=i(t,o),n=document.createElement("style");n.textContent=e,document.head.appendChild(n)};a.addFunctions({name:"fonts",functions:{load:r}}),a.addHooks({name:"fonts",hooks:{moduleAdded({module:t}){t.font&&r(t.name,t.font)}}});
`,metaType:"application/javascript"},"/modules/mvc/view/frontend.js":{content:'import f from"/bootstrap.js";import l from"/modules/mvc/view/html/index.js";import i from"/modules/types/index.js";const g=i.object({properties:{model:i.string().$,id:i.string().$,method:i.string().$,filter:i.object().$,includes:i.string().$,order:i.string().$,limit:i.number().$,offset:i.number().$,count:i.number().$,rows:i.array().$,row:i.object().$}}).$,C=i.object({}).$,_=i.object({}).$,$=i.array({}).$,A=i.object({}).$;function b(n,t){t?.constructor&&(b(n,Object.getPrototypeOf(t)),t.constructor.tag&&n.classList.add(t.constructor.tag))}class m extends HTMLElement{static get observedAttributes(){return Object.keys(this.properties).filter(t=>this.properties[t].attribute!==!1)}static properties={_data:g,_actions:C,_map:_,_rows:$,_row:A};static _attrs={};static plugins=[];state={};_hasUpdated=!1;_ignoreAttributeChange=!1;_changedProps={};constructor(){super(),f.events.install(this)}connectedCallback(){this.constructor.properties&&this.initProps(),b(this,Object.getPrototypeOf(this));for(const t of this.constructor.plugins){const{event:e,fn:s,test:r}=t;s&&(!r||r({instance:this,component:this.constructor}))&&this.on(e,s.bind(this))}this.emit("connectedCallback",{instance:this,component:this.constructor}),this.requestUpdate()}disconnectedCallback(){this.emit("disconnectedCallback",{instance:this,component:this.constructor})}q(t){return this.querySelector(t)}qa(t){return this.querySelectorAll(t)}prop(t){return{value:this[t],setValue:(e=>this[t]=e).bind(this)}}initProps(){for(const t of this.attributes){const e=this.constructor._attrs[t.name],s=this.constructor.properties[e];if(s&&s.type!=="boolean"&&t.value===""){this.removeAttribute(t.name);continue}this.state[e]=s?i.stringToType(t.value,{...s,attribute:!0}):t.value}for(const[t,e]of Object.entries(this.constructor.properties)){const{type:s,sync:r,defaultValue:o,attribute:h=!0,setter:c,getter:u}=e;if(r)continue;this.state[t]??=this[t]??o,Object.getOwnPropertyDescriptor(this,t)||Object.defineProperty(this,t,{get:u?u.bind(this):()=>this.state[t],set:c?c.bind(this):a=>{const p=this.state[t];p!==a&&(this.state[t]=a,this.updateAttribute({key:t,value:a,skipPropUpdate:!0,type:s}),this.requestUpdate(t,p,a))}});const d=this.state[t];!h||this.hasAttribute(t)||d===void 0||(this.updateAttribute({key:t,value:d,skipPropUpdate:!0,type:s}),this._changedProps[t]=void 0)}}requestUpdate(t,e){t&&(this._changedProps[t]=e),this.updateComplete&&clearTimeout(this.updateComplete);const s={...this._changedProps};return this.updateComplete=setTimeout(()=>{this.performUpdate(s,t===void 0)},0),this.updateComplete}performUpdate(t,e){this.updateComplete=null,!(this._hasUpdated&&!e&&!this.shouldUpdate(t))&&(this.emit("willUpdate",t),this.update(t),this._hasUpdated||(this._hasUpdated=!0,this.emit("firstUpdated",t)),this.emit("updated",t),this._changedProps={})}shouldUpdate(t){if(!this._hasUpdated)return!0;for(const[e,s]of Object.entries(t)){const r=this[e],o=this.constructor.properties[e];(o?.hasChanged?o.hasChanged(r,s):s!==r)||delete t[e]}return this.changedProps={},Object.keys(t).length>0}update(){l.render(this.render(),this)}render(){return l``}attributeChangedCallback(t,e,s){e!==s&&(this.emit("attributeChangedCallback",{instance:this,component:this.constructor,key:t,value:s,oldValue:e}),!this._ignoreAttributeChange&&(this.state[t]=i.stringToType(s,this.constructor.properties[t]),this._hasUpdated&&this.requestUpdate(t,e)))}updateAttribute({key:t,value:e,type:s,skipPropUpdate:r=!1}){s&&(this._ignoreAttributeChange=r,s==="function"&&typeof e=="function"?this.setAttribute(t,e.toString()):s==="boolean"?e?this.setAttribute(t,""):this.removeAttribute(t):e===void 0?this.removeAttribute(t):["array","object"].includes(s)?this.setAttribute(t,JSON.stringify(e)):this.setAttribute(t,e),r?this._ignoreAttributeChange=!1:this[t]=e)}}window.$=n=>document.querySelector(n),window.$$=n=>document.querySelectorAll(n),f.setLibrary({name:"view",path:"mvc/view",alias:"View",base:m});export default m;\n',metaType:"application/javascript"},"/modules/mvc/view/html/index.js":{content:'const He=!1,ze=!1,ve=!1,Ue=!1,P=globalThis;let Be;const h=void 0;let We=0,Ye;const _=s=>s,C=P.trustedTypes,Q=C?C.createPolicy("lit-html",{createHTML:s=>s}):void 0,$e=s=>s,H=(s,e,t)=>$e,Fe=s=>{},Xe=()=>{k=H},Ke=(s,e,t)=>k(s,e,t),z="$lit$",g=`lit$${Math.random().toFixed(9).slice(2)}$`,v="?"+g,Te=`<${v}>`,E=document,S=()=>E.createComment(""),x=s=>s===null||typeof s!="object"&&typeof s!="function",U=Array.isArray,G=s=>U(s)||typeof s?.[Symbol.iterator]=="function",B=`[ 	\n\\f\\r]`,ye=`[^ 	\n\\f\\r"\'\\`<>=]`,Ne=`[^\\\\s"\'>=/]`,b=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,q=1,W=2,Se=3,Z=/-->/g,J=/>/g,$=new RegExp(`>|${B}(?:(${Ne}+)(${B}*=${B}*(?:${ye}|("|\')|))|$)`,"g"),xe=0,ee=1,be=2,te=3,ne=/\'/g,ie=/"/g,se=/^(?:script|style|textarea|title)$/i,oe=1,R=2,M=3,Y=1,I=2,Ae=3,Ve=4,we=5,F=6,Oe=7,X=s=>(e,...t)=>({_$litType$:s,strings:e,values:t}),L=X(oe),ae=X(R),je=X(M),A=Symbol.for("lit-noChange"),c=Symbol.for("lit-nothing"),re=new WeakMap,T=E.createTreeWalker(E,129);let k=H;function le(s,e){if(!U(s)||!Object.hasOwn(s,"raw")){let t="invalid template strings array";throw new Error(t)}return Q!==void 0?Q.createHTML(e):e}const de=(s,e)=>{const t=s.length-1,n=[];let i=e===R?"<svg>":e===M?"<math>":"",o,a=b;for(let r=0;r<t;r++){const l=s[r];let p=-1,d,u=0,m;for(;u<l.length&&(a.lastIndex=u,m=a.exec(l),m!==null);)u=a.lastIndex,a===b?m[q]==="!--"?a=Z:m[q]!==void 0?a=J:m[W]!==void 0?(se.test(m[W])&&(o=new RegExp(`</${m[W]}`,"g")),a=$):m[Se]!==void 0&&(a=$):a===$?m[xe]===">"?(a=o??b,p=-1):m[ee]===void 0?p=-2:(p=a.lastIndex-m[be].length,d=m[ee],a=m[te]===void 0?$:m[te]===\'"\'?ie:ne):a===ie||a===ne?a=$:a===Z||a===J?a=b:(a=$,o=void 0);const O=a===$&&s[r+1].startsWith("/>")?" ":"";i+=a===b?l+Te:p>=0?(n.push(d),l.slice(0,p)+z+l.slice(p)+g+O):l+g+(p===-2?r:O)}const f=i+(s[t]||"<?>")+(e===R?"</svg>":e===M?"</math>":"");return[le(s,f),n]};class w{parts=[];constructor({strings:e,["_$litType$"]:t},n){let i,o=0,a=0;const f=e.length-1,r=this.parts,[l,p]=de(e,t);if(this.el=w.createElement(l,n),T.currentNode=this.el.content,t===R||t===M){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=T.nextNode())!==null&&r.length<f;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(z)){const u=p[a++],O=i.getAttribute(d).split(g),D=/([.?@])?(.*)/.exec(u);r.push({type:Y,index:o,name:D[2],strings:O,ctor:D[1]==="."?me:D[1]==="?"?he:D[1]==="@"?ue:V}),i.removeAttribute(d)}else d.startsWith(g)&&(r.push({type:F,index:o}),i.removeAttribute(d));if(se.test(i.tagName)){const d=i.textContent.split(g),u=d.length-1;if(u>0){i.textContent=C?C.emptyScript:"";for(let m=0;m<u;m++)i.append(d[m],S()),T.nextNode(),r.push({type:I,index:++o});i.append(d[u],S())}}}else if(i.nodeType===8)if(i.data===v)r.push({type:I,index:o});else{let u=-1;for(;(u=i.data.indexOf(g,u+1))!==-1;)r.push({type:Oe,index:o}),u+=g.length-1}o++}h?.({kind:"template prep",template:this,clonableTemplate:this.el,parts:this.parts,strings:e})}static createElement(e,t){const n=E.createElement("template");return n.innerHTML=e,n}}function y(s,e,t=s,n){if(e===A||e===c)return e;let i=n!==void 0?t.__directives?.[n]:t.__directive;const o=x(e)?void 0:e._$litDirective$;return i?.constructor!==o&&(i?._$notifyDirectiveConnectionChanged?.(!1),o===void 0?i=void 0:(i=new o(s),i?._$initialize(s,t,n)),n!==void 0?(t.__directives??=[])[n]=i:t.__directive=i),i!==void 0&&(e=y(s,i._$resolve(s,e.values),i,n)),e}class ce{_$parts=[];_$disconnectableChildren=void 0;constructor(e,t){this._$template=e,this._$parent=t}get parentNode(){return this._$parent.parentNode}get _$isConnected(){return this._$parent._$isConnected}_clone(e){const{el:{content:t},parts:n}=this._$template,i=(e?.creationScope??E).importNode(t,!0);T.currentNode=i;let o=T.nextNode(),a=0,f=0,r=n[0];for(;r!==void 0;){if(a===r.index){let l;r.type===I?l=new N(o,o.nextSibling,this,e):r.type===Y?l=new r.ctor(o,r.name,r.strings,this,e):r.type===F&&(l=new pe(o,this,e)),this._$parts.push(l),r=n[++f]}a!==r?.index&&(o=T.nextNode(),a++)}return T.currentNode=E,i}_update(e){let t=0;for(const n of this._$parts)n!==void 0&&(h?.({kind:"set part",part:n,value:e[t],valueIndex:t,values:e,templateInstance:this}),n.strings!==void 0?(n._$setValue(e,n,t),t+=n.strings.length-2):n._$setValue(e[t])),t++}}class N{type=I;_$committedValue=c;get _$isConnected(){return this._$parent?._$isConnected??this.__isConnected}_$disconnectableChildren=void 0;constructor(e,t,n,i){this._$startNode=e,this._$endNode=t,this._$parent=n,this.options=i,this.__isConnected=i?.isConnected??!0}get parentNode(){let e=_(this._$startNode).parentNode;const t=this._$parent;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$startNode}get endNode(){return this._$endNode}_$setValue(e,t=this){e=y(this,e,t),x(e)?e===c||e==null||e===""?(this._$committedValue!==c&&(h?.({kind:"commit nothing to child",start:this._$startNode,end:this._$endNode,parent:this._$parent,options:this.options}),this._$clear()),this._$committedValue=c):e!==this._$committedValue&&e!==A&&this._commitText(e):e._$litType$!==void 0?this._commitTemplateResult(e):e.nodeType!==void 0?this._commitNode(e):G(e)?this._commitIterable(e):this._commitText(e)}_insert(e){return _(_(this._$startNode).parentNode).insertBefore(e,this._$endNode)}_commitNode(e){this._$committedValue!==e&&(this._$clear(),h?.({kind:"commit node",start:this._$startNode,parent:this._$parent,value:e,options:this.options}),this._$committedValue=this._insert(e))}_commitText(e){if(this._$committedValue!==c&&x(this._$committedValue)){const t=_(this._$startNode).nextSibling;h?.({kind:"commit text",node:t,value:e,options:this.options}),t.data=e}else this._commitNode(E.createTextNode(e)),h?.({kind:"commit text",node:_(this._$startNode).nextSibling,value:e,options:this.options});this._$committedValue=e}_commitTemplateResult(e){const{values:t,["_$litType$"]:n}=e,i=typeof n=="number"?this._$getTemplate(e):(n.el===void 0&&(n.el=w.createElement(le(n.h,n.h[0]),this.options)),n);if(this._$committedValue?._$template===i)h?.({kind:"template updating",template:i,instance:this._$committedValue,parts:this._$committedValue._$parts,options:this.options,values:t}),this._$committedValue._update(t);else{const o=new ce(i,this),a=o._clone(this.options);h?.({kind:"template instantiated",template:i,instance:o,parts:o._$parts,options:this.options,fragment:a,values:t}),o._update(t),h?.({kind:"template instantiated and updated",template:i,instance:o,parts:o._$parts,options:this.options,fragment:a,values:t}),this._commitNode(a),this._$committedValue=o}}_$getTemplate(e){let t=re.get(e.strings);return t===void 0&&re.set(e.strings,t=new w(e)),t}_commitIterable(e){U(this._$committedValue)||(this._$committedValue=[],this._$clear());const t=this._$committedValue;let n=0,i;for(const o of e)n===t.length?t.push(i=new N(this._insert(S()),this._insert(S()),this,this.options)):i=t[n],i._$setValue(o),n++;n<t.length&&(this._$clear(i&&_(i._$endNode).nextSibling,n),t.length=n)}_$clear(e=_(this._$startNode).nextSibling,t){for(this._$notifyConnectionChanged?.(!1,!0,t);e&&e!==this._$endNode;){const n=_(e).nextSibling;_(e).remove(),e=n}}setConnected(e){this._$parent===void 0&&(this.__isConnected=e,this._$notifyConnectionChanged?.(e))}}class V{type=Y;_$committedValue=c;_$disconnectableChildren=void 0;get tagName(){return this.element.tagName}get _$isConnected(){return this._$parent._$isConnected}constructor(e,t,n,i,o){this.element=e,this.name=t,this._$parent=i,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$committedValue=new Array(n.length-1).fill(new String),this.strings=n):this._$committedValue=c}_$setValue(e,t=this,n,i){const o=this.strings;let a=!1;if(o===void 0)e=y(this,e,t,0),a=!x(e)||e!==this._$committedValue&&e!==A,a&&(this._$committedValue=e);else{const f=e;e=o[0];let r,l;for(r=0;r<o.length-1;r++)l=y(this,f[n+r],t,r),l===A&&(l=this._$committedValue[r]),a||=!x(l)||l!==this._$committedValue[r],l===c?e=c:e!==c&&(e+=(l??"")+o[r+1]),this._$committedValue[r]=l}a&&!i&&this._commitValue(e)}_commitValue(e){e===c?_(this.element).removeAttribute(this.name):(h?.({kind:"commit attribute",element:this.element,name:this.name,value:e,options:this.options}),_(this.element).setAttribute(this.name,e??""))}}class me extends V{type=Ae;_commitValue(e){h&&h({kind:"commit property",element:this.element,name:this.name,value:e,options:this.options});const t=this.element[this.name];this.element[this.name]=e===c?void 0:e,this.element?.requestUpdate&&t!==e&&this.element.requestUpdate(this.name,t)}}class he extends V{type=Ve;_commitValue(e){h?.({kind:"commit boolean attribute",element:this.element,name:this.name,value:!!(e&&e!==c),options:this.options}),_(this.element).toggleAttribute(this.name,!!e&&e!==c)}}class ue extends V{type=we;constructor(e,t,n,i,o){super(e,t,n,i,o)}_$setValue(e,t=this){if(e=y(this,e,t,0)??c,e===A)return;const n=this._$committedValue,i=e===c&&n!==c||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==c&&(n===c||i);h?.({kind:"commit event listener",element:this.element,name:this.name,value:e,options:this.options,removeListener:i,addListener:o,oldListener:n}),i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$committedValue=e}handleEvent(e){typeof this._$committedValue=="function"?this._$committedValue.call(this.options?.host??this.element,e):this._$committedValue.handleEvent(e)}}class pe{type=F;_$disconnectableChildren=void 0;constructor(e,t,n){this.element=e,this._$parent=t,this.options=n}get _$isConnected(){return this._$parent._$isConnected}_$setValue(e){h?.({kind:"commit to element binding",element:this.element,value:e,options:this.options}),y(this,e)}}const Qe={_boundAttributeSuffix:z,_marker:g,_markerMatch:v,_HTML_RESULT:oe,_getTemplateHtml:de,_TemplateInstance:ce,_isIterable:G,_resolveDirective:y,_ChildPart:N,_AttributePart:V,_BooleanAttributePart:he,_EventPart:ue,_PropertyPart:me,_ElementPart:pe},De=P.litHtmlPolyfillSupport;De?.(w,N),(P.litHtmlVersions??=[]).push("3.2.0");const Ce=(s,e,t)=>{const n=0,i=t?.renderBefore??e;let o=i._$litPart$;if(h?.({kind:"begin render",id:n,value:s,container:e,options:t,part:o}),o===void 0){const a=t?.renderBefore??null;i._$litPart$=o=new N(e.insertBefore(S(),a),a,void 0,t??{})}return o._$setValue(s),h?.({kind:"end render",id:n,value:s,container:e,options:t,part:o}),o},K=Symbol.for(""),Re=s=>{if(s?.r===K)return s?._$litStatic$},j=s=>({_$litStatic$:s,r:K}),Me=s=>{if(s._$litStatic$!==void 0)return s._$litStatic$;throw new Error(`Value passed to \'literal\' function must be a \'literal\' result: ${s}. Use \'unsafeStatic\' to pass non-literal values, but\n            take care to ensure page security.`)},Ie=(s,...e)=>({_$litStatic$:e.reduce((t,n,i)=>t+Me(n)+s[i+1],s[0]),r:K}),_e=new Map,fe=s=>(e,...t)=>{const n=t.length;let i,o;const a=[],f=[];let r=0,l=!1,p;for(;r<n;){for(p=e[r];r<n&&(o=t[r],(i=Re(o))!==void 0);)p+=i+e[++r],l=!0;r!==n&&f.push(o),a.push(p),r++}if(r===n&&a.push(e[n]),l){const d=a.join("$$lit$$");e=_e.get(d),e===void 0&&(a.raw=a,_e.set(d,e=a)),t=f}return s(e,...t)},ge=fe(L),Le=s=>ge`${j(s)}`,Ee=fe(ae),ke=s=>Ee`${j(s)}`,Pe={unsafeHTML:Le,unsafeStatic:j,staticHTML:ge,staticSVG:Ee,unsafeSVG:ke,render:Ce,html:L,literal:Ie,svg:ae,css};export function css(s,...e){return s.reduce((t,n,i)=>t+n+(e[i]??""),"")}Object.assign(L,Pe);export default L;\n',metaType:"application/javascript"},"/modules/mvc/model/index.js":{content:'import c from"/bootstrap.js";import D from"/modules/types/index.js";c.addModule({name:"sysmodel",alias:"SysModel"});const A=({context:e,collection:t="models"})=>({module:r})=>{if(!r[t])return;const n=Object.fromEntries(Object.keys(r[t]).map(o=>{const f={id:D.string({primary:!0}),...r[t][o]};return[o,Object.fromEntries(Object.entries(f).map(([s,a])=>{const d=a?.$||a;return d.name=s,d.relationship&&!d.targetForeignKey&&(d.targetForeignKey=o),[s,d]}))]}));e.set(n)};c.addModule({name:"models",hooks:({context:e})=>({moduleAdded:A({context:e,collection:"models"}),moduleUpdated:A({context:e,collection:"models"})})}),c.addModule({name:"sysmodels",hooks:({context:e})=>({moduleAdded:A({context:e,collection:"sysmodels"})}),settings:{APP:"App",USER:"User",DEVICE:"Device"}});const g={get(e,t,r){return t==="remove"?()=>i.request("REMOVE",e._modelName,{id:e.id}):t==="update"?()=>{const n={...e};return delete n._modelName,i.request("EDIT",e._modelName,{row:n})}:t==="include"?async n=>{if(!e.id||!e._modelName)return console.error("Cannot run .include() on an object without an ID or model name."),r;const{models:o}=c;if(!(e._modelName in o))throw new Error(`Model ${e._modelName} does not exist in models`);const s=o[e._modelName][n];if(!s)throw new Error(`Relationship \'${n}\' not found in ${e._modelName} model`);const a=await i.request("GET_MANY",s.targetModel,{opts:{filter:s.belongs?e[n]:{[s.targetForeignKey]:e.id}}});return e[n]=m(a,s.targetModel),r}:e[t]},set(e,t,r){return e[t]=r,!0}},y=async({modelName:e,action:t,payload:r})=>{const n=await i.request(t,e,r);return t==="ADD_MANY"&&n&&Array.isArray(n.results)?(n.results.forEach(o=>{o.status==="fulfilled"&&o.value&&(o.value=p(o.value,e))}),n):t.includes("MANY")?r.opts.object?n:n?.items?(n.items=m(n.items,e),n):m(n,e):p(n,e)},T=e=>[{type:"static",name:"get",handler:(t,r={})=>y({modelName:e,action:"GET",payload:t?{id:t,opts:r}:{opts:r}})},{type:"static",name:"getAll",handler:(t={})=>y({modelName:e,action:"GET_MANY",payload:{opts:t}})},{type:"static",name:"add",handler:(t,r)=>y({modelName:e,action:"ADD",payload:{row:t,opts:r}})},{type:"static",name:"addMany",handler:(t,r)=>y({modelName:e,action:"ADD_MANY",payload:{rows:t,opts:r}})},{type:"static",name:"remove",handler:t=>i.request("REMOVE",e,{id:t})},{type:"static",name:"removeAll",handler:t=>i.request("REMOVE_MANY",e,{opts:{filter:t}})},{type:"static",name:"edit",handler:t=>y({modelName:e,action:"EDIT",payload:{row:t}})},{type:"static",name:"editAll",handler:(t,r)=>i.request("EDIT_MANY",e,{opts:{filter:t,updates:r}})},{type:"dynamic",prefix:"getBy",action:"GET"},{type:"dynamic",prefix:"getAllBy",action:"GET_MANY"},{type:"dynamic",prefix:"editAllBy",action:"EDIT_MANY"},{type:"dynamic",prefix:"editBy",action:"EDIT"},{type:"dynamic",prefix:"removeBy",action:"REMOVE"},{type:"dynamic",prefix:"removeAllBy",action:"REMOVE_MANY"}],p=(e,t)=>!e||typeof e!="object"||e.errors?e:(i[t].rows[e.id]=e,i[t].on(`get:${e.id}`,r=>{if(r===void 0){delete i[t].rows[e.id];return}const{id:n,...o}=r;Object.assign(i[t].rows[e.id],o)}),e._modelName=t,new Proxy(i[t].rows[e.id],g)),m=(e,t)=>Array.isArray(e)?e.map(r=>p(r,t)):e,$=e=>typeof e!="string"||!e?e:e.charAt(0).toLowerCase()+e.slice(1),E=new Map,i=new Proxy({},{get(e,t,r){if(t in e)return Reflect.get(e,t,r);if(E.has(t))return E.get(t);const n=t,{models:o}=c;if(!(t in o))throw new Error(`Model ${n} does not exist in models`);const f=o[n],s=T(n,f),a=new Proxy({},{get(d,u,R){if(u in d)return Reflect.get(d,u,R);for(const l of s){if(l.type==="static"&&l.name===u)return l.handler;if(l.type==="dynamic"&&u.startsWith(l.prefix)){const h=u.slice(l.prefix.length);if(!h)continue;const M=$(h);if(!(M in f))throw new Error(`Property \'${M}\' not found in model \'${n}\'`);return(_,w=null)=>{const x={opts:{filter:{[M]:_}}};return w&&(x.opts.row=w),y({modelName:n,action:l.action,payload:x})}}}throw new Error(`Method \'${u}\' not found in model \'${n}\'`)}});return c.events.install(a),a.rows=c.storage.install({}),E.set(t,a),a}});i.proxifyRow=p,i.proxifyMultipleRows=m;export default i;\n',metaType:"application/javascript"},"/modules/mvc/controller/index.js":{content:`import o from"/bootstrap.js";o.addModule({name:"controller",path:"mvc/controller",alias:"Controller",modules:["mvc/controller/backend"],settings:{syncKeySeparator:"_-_"}});
`,metaType:"application/javascript"},"/modules/mvc/controller/backend/index.js":{content:`import c from"/bootstrap.js";const t=e=>{if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(n=>t(n));const a={};for(const n in e)if(Object.hasOwn(e,n)){const r=e[n];typeof r!="function"&&(a[n]=t(r))}return a};c.addModule({name:"backend",alias:"Backend",path:"mvc/controller/backend",base:{sanitize:t},backend:!0});
`,metaType:"application/javascript"},"/modules/app/index.js":{content:`import a from"/bootstrap.js";a.addModule({name:"app"});
`,metaType:"application/javascript"},"/modules/date/index.js":{content:'import n from"/bootstrap.js";const o={formatKey(t){if(!t)return null;const a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),e=String(t.getDate()).padStart(2,"0");return`${a}-${r}-${e}`}};n.addModule({name:"date",alias:"Date",base:o});\n',metaType:"application/javascript"},"/modules/apps/habits/index.js":{content:`import a from"/bootstrap.js";a.addModule({name:"habits",path:"apps/habits",frontend:!0,backend:!0});
`,metaType:"application/javascript"},"/modules/apps/habits/frontend.js":{content:`import e from"/bootstrap.js";import"/modules/mvc/controller/frontend.js";import t from"/modules/mvc/view/html/index.js";e.events.on("INIT_APP",()=>{e.define("app-index",{render(){return t\`<div class="max-w-6xl mx-auto p-8 flex flex-col gap-16">
                  <div class="flex flex-col gap-4">
                    <h1 class="text-6xl text-center font-bold">
                      <uix-icon name="calendar-heart" class="text-4xl text-blue-600 inline-block align-middle"></uix-icon>
                      Habit Tracker
										</h1>
                    <h2 class="text-3xl text-center font-bold">Build better habits, one day at a time</h2>
                  </div>
                  <uix-card class="p-6 bg-white rounded-lg shadow-md flex flex-col gap-4">
                    <span class="text-2xl font-bold">                 
                      <uix-icon name="circle-plus" class="text-lg text-green-600 inline-block align-middle"></uix-icon> 
                      New Habit
                    </span>
                    <uix-form ._data=\${{model:"habits"}} ._map=\${{submit:"$data:add"}}>
                      <uix-join>
                        <uix-input name="name" class="text-xl"></uix-input>
                        <uix-button label="ADD" icon="plus" type="submit"></uix-button>
                      </uix-join>
                    </uix-form>
                  </uix-card>
                  <uix-container      
                    class="flex flex-col gap-4"
                    ._data=\${{model:"habits",tag:"uix-card",class:"p-6 bg-white rounded-lg shadow-md flex flex-col gap-4",includes:"checkins,notes",blocks:[{tag:"uix-list",properties:{class:"flex items-center justify-between"},blocks:[{tag:"uix-link",properties:{class:"text-xl font-semibold",_map:{label:"@parent.name"}}},{tag:"uix-link",properties:{class:"text-red-500 hover:text-red-700",icon:"trash",confirmation:"Are you sure you want to remove habit?",_map:{click:"$data:remove"}}}]},{tag:"uix-calendar",properties:{class:"gap-[10px]",_map:{toggledDays:"$map:@parent.checkins:date",habit:"@parent.id",dayContent:{tag:"uix-calendar-day",function:!0}}}},{tag:"uix-list",properties:{class:"flex items-center justify-between"},blocks:[{tag:"uix-button",properties:{label:"Complete today",_data:{model:"checkins",method:"edit",displayIf:{"@parent.checkins":{$ninc:{date:"$today"}}}},_map:{_row:"$find:@parent.checkins:date=$today",habit:"@parent.id",date:"$today",click:"$data:add"}}},{tag:"uix-button",properties:{label:"Today Completed",_data:{model:"checkins",method:"edit",displayIf:{"@parent.checkins":{$inc:{date:"$today"}}}},_map:{habit:"@parent.id",date:"$today",click:"$data:remove"}}},{tag:"uix-modal",properties:{icon:"message",label:"Add notes",_map:{cta:{tag:"uix-button",properties:{icon:"message-square-text",label:"Notes"}},content:{tag:"uix-form",properties:{class:"flex flex-col gap-4",_data:{model:"notes",method:"add"},_map:{_row:"$find:@parent.notes:date=$today",habit:"@parent.id",date:"$today",submit:"$data:upsert",submitSuccess:"$closest:uix-modal.hide"}},blocks:[{tag:"uix-join",blocks:[{tag:"uix-input",properties:{name:"notes",class:"text-xl",_map:{_row:"$find:@parent.notes:date=$today",value:"@notes"}}},{tag:"uix-button",properties:{label:"ADD",icon:"plus",type:"submit",class:"text-xl"}}]}]}}}}]}]}}> 
                  </uix-container>
                  <uix-card class="p-6 bg-white rounded-lg shadow-md flex flex-col gap-4">
                    <span class="text-lg font-bold">Your Progress</span>
                    <uix-list class="flex gap-8 justify-evenly">
                      <uix-stat label="Total Habits" ._data=\${{model:"habits"}} ._map=\${{value:"$count"}} class="flex flex-col bg-blue-100 p-4 rounded-lg text-center"></uix-stat>
                      <uix-stat label="Total Streaks" value="5" class="flex flex-col bg-blue-100 p-4 rounded-lg text-center"></uix-stat>
                      <uix-stat label="Longest Streaks" value="5" class="flex flex-col bg-blue-100 p-4 rounded-lg text-center"></uix-stat>
                    </uix-list>
                  </uix-card>
                </div>
      <app-button></app-button>      
    \`}})});
`,metaType:"application/javascript"},"/modules/mvc/controller/frontend.js":{content:'import u from"/bootstrap.js";import y from"/modules/mvc/controller/adapter-storage.js";import m from"/modules/mvc/controller/adapter-url.js";import j from"/modules/mvc/controller/backend/frontend.js";import h from"/modules/mvc/view/frontend.js";const b={...y,...m,backend:j},p=e=>{if(typeof e=="string"&&e.includes(".")){const[r,t]=e.split(".",2);return{storeKey:r,path:t}}return{storeKey:e,path:null}},g=(e,r)=>{const t=typeof e=="function"?e:(s,n)=>n!==void 0?t.set(s,n):t.get(s);u.events.install(t);const i=(s,n)=>{d[r]?.emit(s,n)};return t.get=s=>{const{storeKey:n,path:c}=p(s),o=e.get(n);return c&&typeof o=="object"&&o!==null?o[c]:o},t.set=(s,n)=>{const{storeKey:c,path:o}=p(s);if(o){const l={...e.get(c)||{},[o]:n};return e.set(c,l),i(c,l),l}return e.set(c,n),i(c,n),n},t.remove=s=>{const{storeKey:n,path:c}=p(s);if(c){const o=e.get(n);return typeof o=="object"&&o!==null&&(delete o[c],e.set(n,o),i(n,o)),{key:n}}return e.remove(n),i(n,void 0),{key:n}},t.has=e.has,t.keys=e.keys,t.entries=e.entries,a.set(r,t),t},a=new Map,d=new Proxy({},{get(e,r){if(r in e)return e[r];if(a.has(r))return a.get(r);if(r in b)return g(b[r],r);if(u.mv3Connections?.includes(r))return(t,i={})=>(a.get("backend")||g(b.backend,"backend"))(t,i,r)}}),O=()=>{const e=r=>{const t=d[r],i=new Map(t.entries()),s=new Set(t.listeners.keys());i.forEach((n,c)=>{t.emit(c,n),s.delete(c)}),s.forEach(n=>t.emit(n,void 0))};window.addEventListener("popstate",()=>{e("querystring"),e("hash")})};u.hooks.add("init",O);const _=(e,r,t)=>{if(r.scope){if(r.scope.includes(".")){const[i,s]=r.scope.split(".");if(t[i]?.[s])return`${t[i]?.[s]}:${e}`}if(t[r.scope])return`${t[r.scope]}:${e}`}return e};h.plugins.push({event:"connectedCallback",test:({component:e})=>!!e.properties,fn:({instance:e,component:r})=>{r.properties&&Object.entries(r.properties).filter(([,t])=>t.sync).forEach(([t,i])=>{const s=d[i.sync];if(!s)return;const n=_(t,i,e),c=s.get(n),o=f=>{e.state[t]=f,e.requestUpdate()};e._listeners||(e._listeners={}),e._listeners[i.sync]||(e._listeners[i.sync]={}),e._listeners[i.sync][n]=o,Object.getOwnPropertyDescriptor(e,t)||Object.defineProperty(e,t,{get:()=>e.state[t],set:f=>{e.state[t]!==f&&(e.state[t]=f,f!==s.get(n)&&s.set(n,f))}}),s.on(n,o),o(c??i.defaultValue)})}}),h.plugins.push({event:"disconnectedCallback",test:({component:e})=>!!e._listeners,fn:({instance:e})=>{e._listeners&&Object.entries(e._listeners).forEach(([r,t])=>{const i=d[r];i&&Object.entries(t).forEach(([s,n])=>i.off(s,n))})}});export default d;\n',metaType:"application/javascript"},"/modules/mvc/controller/adapter-storage.js":{content:`const o=e=>typeof e=="object"&&e!==null||Array.isArray(e)?JSON.stringify(e):e,c=e=>{try{return JSON.parse(e)}catch{return e}},u=e=>t=>{const n=e.getItem(t);return n!==null?c(n):null},i=e=>(t,n)=>(e.setItem(t,o(n)),{key:t}),a=e=>t=>(e.removeItem(t),{key:t}),l=e=>()=>Object.keys(e),m=e=>t=>e.getItem(t)!==null&&e.getItem(t)!==void 0,s=e=>({has:m(e),set:i(e),remove:a(e),get:u(e),keys:l(e)}),r=new Map,d={has:e=>r.has(e),get:e=>r.get(e),set:(e,t)=>(r.set(e,t),{key:e}),remove:e=>(r.delete(e),{key:e}),keys:()=>r.keys()},g=s(window.localStorage),S=s(window.sessionStorage);export default{local:g,ram:d,session:S};
`,metaType:"application/javascript"},"/modules/mvc/controller/adapter-url.js":{content:'const r=()=>{const a=window.location.hash.substring(1);return new URLSearchParams(a)},n=a=>{const s=a.toString();window.location.hash=s},e={get:a=>r().get(a),has:a=>r().has(a),set:(a,s)=>{const t=r();return t.set(a,s),n(t),window.dispatchEvent(new Event("popstate")),{key:a}},remove:a=>{const s=r();return s.delete(a),n(s),{key:a}},keys:()=>[...r().keys()],entries:()=>[...r().entries()]},o={get(a){return new URLSearchParams(window.location.search).get(a)},set(a,s){const t=new URLSearchParams(window.location.search);return t.set(a,s),window.history?.pushState?.({},"",`${window.location.pathname}?${t}`),window.dispatchEvent(new Event("popstate")),{key:a}},remove(a){const s=new URLSearchParams(window.location.search);return s.delete(a),window.history.pushState?.({},"",`${window.location.pathname}?${s}`),{key:a}},keys(){return[...new URLSearchParams(window.location.search).keys()]},has(a){return new URLSearchParams(window.location.search).has(a)},entries:()=>[...new URLSearchParams(window.location.search).entries()]};export default{querystring:o,hash:e};\n',metaType:"application/javascript"},"/modules/mvc/controller/backend/frontend.js":{content:'import d from"/bootstrap.js";import $ from"/modules/blocks/index.js";import i from"/modules/mvc/model/frontend.js";import m from"/modules/mvc/view/frontend.js";import"/modules/mvc/view/loader/index.js";let S,h,A;const y={},_={},j=async(e={})=>{const{data:t}=e,{eventId:r,type:o,payload:s,connection:n}=t,a=d.events[o];let l=s;const u=r&&(f=>h.postMessage({eventId:r,payload:f,connection:n}));if(a&&(l=await a({respond:u,payload:s,eventId:r})),r&&y[r]){try{y[t.eventId].resolve(l)}catch(f){y[t.eventId].reject(new Error(f))}finally{delete y[r]}return}if(u)return u(l)},L=async(e={})=>{const{data:t}=e,{eventId:r,type:o,payload:s}=t;if(console.log({eventId:r,type:o,payload:s}),r&&_[r]){try{_[r].resolve(s)}catch(a){_[r].reject(new Error(a))}finally{delete _[r]}return}const n=d.swEvents[o];n&&await n({payload:s})},O=async()=>{S=new Worker(`/worker.js?project=${encodeURIComponent(JSON.stringify(d.settings))}`,{type:"module"});const e=new MessageChannel;h=e.port1,h.onmessage=j,S.postMessage({type:"INIT_PORT"},[e.port2]);const{user:t,device:r,app:o}=await I("INIT_APP");d.models.set(o.models),d.events.emit("INIT_APP",{user:t,device:r,app:o}),d.about={user:t,device:r,app:o},await navigator.storage.persist();const s=new MessageChannel;A=s.port1,A.onmessage=L;const n=()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"INIT_PORT"},[s.port2])};n(),navigator.serviceWorker.addEventListener("controllerchange",n)},M=(e,t,r)=>{if(!e){setTimeout(()=>r(t),100);return}e.postMessage(t)},k=e=>M(A,e,k),P=e=>M(h,e,P),R=(e,t={})=>{const r=Date.now().toString()+Math.random().toString(36).substr(2,9);return new Promise((o,s)=>{_[r]={resolve:o,reject:s},k({type:e,payload:t,eventId:r})})};d.addModule({name:"SW",base:{postMessage:k,request:R}});const I=(e,t={},r=null)=>{const o=Date.now().toString()+Math.random().toString(36).substr(2,9),s={type:e,payload:t,eventId:o};return new Promise((n,a)=>{r&&(s.connection=r),y[o]={resolve:n,reject:a},P(s)})};d.hooks.add("init",O);const T=({instance:e})=>{const{id:t,model:r,limit:o,offset:s=0,includes:n,recursive:a,order:l,filter:u}=e._data,f=e._data.method??t?"get":"getMany",g={limit:o,offset:s,order:l,recursive:a};u&&Object.keys(u).length>0&&(g.filter=c.resolveObject(u,e)),n&&(g.includes=Array.isArray(n)?n:n.split(","));const D=w=>{f.toLowerCase()==="get"?e._row=w:(e._rows=w.items??w,w.count&&(e._data.count=w.count)),e.requestUpdate(),e.emit("dataLoaded",{instance:e,component:e.constructor})};f.toLowerCase()==="get"?i[r].get(t,g).then(D):i[r].getAll(g).then(D)},v=({value:e,...t})=>{const[,...r]=e.split(":");return r.map(o=>c.resolveValue({...t,value:o}))},b={$find:e=>{const[t,r]=v(e);if(!Array.isArray(t)||!r)return;let[o,s]=r.split("=");if(s=c.resolveValue({...e,value:s}),!(!o||s===void 0))return t.find(n=>String(n[o])===String(s))},$boolean:e=>{const[t]=v(e);return!!c.resolveValue({...e,value:t})},$filter:e=>{const[t,r]=v(e);if(!Array.isArray(t)||!r)return[];const[o,s]=r.split("=");return!o||s===void 0?[]:t.filter(n=>String(n[o])===String(s))},$includes:e=>{const[t,r]=v(e);if(!Array.isArray(t)||!r)return!1;const[o,s]=r.split("=");return!o||s===void 0?!1:t.some(n=>String(n[o])===String(s))},$map:e=>{const t=o=>{const[s,n]=v(o);return!Array.isArray(s)||!n?[]:s.map(a=>a[n])};return t({...e,willUpdate:({instance:o,prop:s})=>()=>{o[s]=t(e),o.requestUpdate()}})},$count:({instance:e})=>e?._rows?.count??e?._rows?.length,$now:()=>Date.now(),$data:e=>{const{value:t,prop:r,instance:o}=e,[,s]=t.split(":");if(!p.data[s])return;const n=p.data[s],a=o._data||o.closest("[_data]")?._data||{},l=n({...a,instance:o});return r.startsWith("on")&&(o[r]=l),l},$closest:({value:e,instance:t})=>{const[r,o]=e.slice(9).split("."),s=t.closest(r);return s[o].bind(s)},$query:e=>{const{value:t}=e;if(t.startsWith("@parent"))return b.$parent(e);if(t.startsWith("@"))return b.$row(e)},$row:({value:e,instance:t})=>{const r=t.closest("[_row]"),o=t._row??r?._row??{};return e==="@"?o:o[e.slice(1)]},$parent:({value:e,instance:t,prop:r,willUpdate:o})=>{const[,s]=e.split("."),n=t.parentElement.closest("[_row]");if(!n&&!t._parentListener)return;t._parentListener||(t._parentListener=n,o&&n.on("willUpdate",o({prop:r,instance:t})));const a=t._parentListener._row||{};return s?a[s]:a},$today:()=>new Date().toISOString().split("T")[0],$todayLocale:()=>new Intl.DateTimeFormat(void 0,{dateStyle:"short"}).format(new Date),$currentTime:()=>new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date),$currentDay:()=>new Date().getDate(),$currentMonth:()=>new Date().getMonth()+1,$currentYear:()=>new Date().getFullYear(),$currentHour:()=>new Date().getHours(),$timeAgo:({value:e})=>{if(!e)return"";const t=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}),r=(new Date(e).getTime()-Date.now())/1e3,o={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const s in o){const n=r/o[s];if(Math.abs(n)>1)return t.format(Math.round(n),s)}return t.format(r,"second")}},c={operators:{$eq:(e,t)=>e===t,$neq:(e,t)=>e!==t,$exists:e=>e!=null,$nexists:e=>e==null,$gt:(e,t)=>Number(e)>Number(t),$inc:(e,t)=>{if(!Array.isArray(e))return!1;const[r,o]=Object.entries(t)[0];return e.some(s=>s&&s[r]===o)},$ninc:(e,t)=>{if(!Array.isArray(e))return!0;const[r,o]=Object.entries(t)[0];return!e.some(s=>s&&s[r]===o)}},resolveObject(e,t){return Object.fromEntries(Object.entries(e).map(([r,o])=>[r,c.resolveValue({prop:r,value:o,instance:t})]))},resolveValue(e){const{value:t}=e;if(typeof t=="object"&&t.tag){const r={...t,properties:{...t.properties||{}}};return t.function?(o={})=>(r.properties={...r.properties,...o},$.render({block:r})):$.render({block:r})}if(typeof t!="string")return t;if(t.startsWith("@"))return b.$query(e);if(t.startsWith("$")){const[r]=t.split(":");return b[r]?.(e)}return t},resolveParams(e,t){if(typeof e!="object"||e===null)return this.resolveValue({...t,value:e});const r={};for(const o in e)r[o]=this.resolveValue({...t,value:e[o]});return r},evaluate(e,t){for(const r in e){const o=e[r],s=this.resolveValue({...t,value:r});for(const n in o){if(!this.operators[n])continue;const a=o[n],l=this.resolveParams(a,t);if(!this.operators[n](s,l))return!1}}return!0}},p={data:{_prepareRow(e,t){const r=d.models[e];if(!r)return;t._row||(t._row={}),t.qa(".uix-input").forEach(s=>t._row[s.name]=s.inputValue());const o={...t._row};return Object.keys(o).forEach(s=>{s!=="id"&&r[s]===void 0&&delete o[s]}),o},render(){const{model:e,tag:t,blocks:r,properties:o={}}=this._data,s=this._rows??(this._row?[this._row]:null);if(s)return s.map(n=>$.render({row:n,block:{tag:t,blocks:r,properties:{class:this._data.class,_data:{model:e,id:n.id},_row:n,...o}}}))},remove:({model:e,id:t,instance:r})=>()=>t?i[e].remove(t):i[e].removeAll(p.data._prepareRow(e,r)),add:({model:e,instance:t})=>async()=>{const r=p.data._prepareRow(e,t);if(!r)return;const o=await i[e].add(r);o?.id&&(t._row.id=o.id)},edit:({model:e,instance:t})=>async()=>{const r=p.data._prepareRow(e,t);r?.id&&await i[e].edit(r)},upsert:({model:e,instance:t})=>async()=>{const r=p.data._prepareRow(e,t);if(r)if(r.id)await i[e].edit(r);else{const o=await i[e].add(r);o?.id&&(t._row.id=o.id)}}}};m.plugins.push({event:"connectedCallback",test:({instance:e})=>!!e._data?.displayIf,fn:({instance:e})=>{const{displayIf:t}=e._data,r=()=>e.classList.toggle("hide",!c.evaluate(t,o)),o={instance:e,row:e._row,listener:r};r(),e.on("dataLoaded",r)}});const W=({instance:e})=>{for(const[t,r]of Object.entries(e._map)){if(!t||!r)continue;const o=c.resolveValue({value:r,instance:e,prop:t});e.state[t]=o;const s=e.constructor.properties[t];s?.attribute&&t!=="_row"&&e.updateAttribute({key:t,value:o,type:s.type,skipPropUpdate:!0}),e.state._row||(e.state._row={}),e.state._row[t]=o}};m.plugins.push({event:"connectedCallback",test:({instance:e})=>e?._data?.model&&!["add","edit","remove"].includes(e?._data?.method),fn:({instance:e})=>{e._listeners={},e._data.tag&&e.on("dataLoaded",()=>{e._updatedRender||(e.render=p.data.render.bind(e),e._updatedRender=!0),e.requestUpdate()});const{model:t,id:r}=e._data,o=e._row;o&&!r&&(e._data.id=o.id),(o&&!r||e._rows)&&e.emit("dataLoaded",{instance:e,component:e.constructor});const s=i[t]?.rows;if(s){if(r){const n=`get:${r}`;o!==void 0&&s[r]===void 0&&(s[r]=o),e._listeners[n]=()=>{e._row=s[r],e.requestUpdate()},i[t].on(n,e._listeners[n])}else e._listeners.any=()=>T({instance:e}),i[t].onAny(e._listeners.any);!e._row&&!e._rows&&T({instance:e}),e.syncable=!0}}}),m.plugins.push({event:"connectedCallback",test:({instance:e})=>!!e._map,fn:({instance:e})=>{const t=e.parentElement.closest("[_data]");t&&t.on("dataLoaded",()=>{W({instance:e}),e.requestUpdate()})}}),m.plugins.push({event:"willUpdate",test:({instance:e})=>!!e._map,fn(){W({instance:this})}}),m.plugins.push({event:"disconnectedCallback",test:({instance:e})=>e.syncable,fn:({instance:e})=>{Object.entries(e._listeners).forEach(([t,r])=>{t==="any"?i[e._data.model].offAny(r):i[e._data.model].off(t,r)})}}),d.events.set({BROADCAST:e=>{},UPDATE_MODELS:({payload:{models:e}})=>d.models.set(e),REQUEST_DATA_SYNC:({payload:{model:e,key:t,data:r}})=>{console.log({key:t,model:e,data:r}),i[e].emit(t,r)}});export default I;\n',metaType:"application/javascript"},"/modules/blocks/index.js":{content:'import{keyed as b}from"/modules/mvc/view/html/directive.js";import h from"/modules/mvc/view/html/index.js";import g from"/modules/mvc/view/html/spread.js";const{unsafeStatic:l,staticHTML:y}=h;function N(r){const e=new DOMParser().parseFromString(r,"text/html");function i(t){return t===""||t.toLowerCase()==="true"?!0:t.toLowerCase()==="false"?!1:t.trim()!==""&&!Number.isNaN(Number(t))?Number(t):t}function a(t){const o={};for(const n of t.attributes)o[n.name]=i(n.value);return{tag:t.tagName.toLowerCase(),properties:o,blocks:Array.from(t.children).map(a)}}return Array.from(e.body.children).map(a)}function m({block:r,row:c,filter:e,keyed:i=!0}){if(!r||!r.tag)return"";const{tag:a,properties:t={},value:o,topBlock:f,bottomBlock:n}=r;let s=r.blocks||[];const p=a;f&&s.unshift(f),n&&s.push(n),e&&(s=s.filter(e));const d=s?.length?s.map(k=>m({block:k,filter:e,keyed:!1})):o?.tag?m({block:o,filter:e,keyed:!1}):o??"",u=y`<${l(p)}  ${g(t)}>${d}</${l(p)}>`;return c?.id&&i===!0?b(c.id,u):u}const L={render:m,parse:N};export default L;\n',metaType:"application/javascript"},"/modules/mvc/model/frontend.js":{content:`import m from"/modules/mvc/controller/backend/frontend.js";import e from"/modules/mvc/model/index.js";const d=(r,o,t={})=>m(r,{model:o,...t});e.request=d;export default e;
`,metaType:"application/javascript"},"/modules/mvc/view/loader/index.js":{content:'import o from"/bootstrap.js";import k from"/modules/mvc/view/frontend.js";import M from"/modules/theme/index.js";const $=`${o.settings.basePath}/modules`,u=new Map,l=new Map,h=new Map,T=e=>{if(o.components?.[e]?.path)return o.components[e].path;const t=e.split("-"),s=t[0],n=o.modules[s],r=t.slice(1).join("-");return n?[$,n.path??s,r].join("/"):[o.settings.basePath,e].join("/")};async function D(e){if(u.has(e))return u.get(e);const t=T(e),n=(await o.fs.import(`${t}.js`,{tag:e})).default;return n?(o.components[e]||(o.components[e]={}),o.components[e].path=t,o.components[e].definition=n,u.set(e,n),n):(console.warn(`[Loader] No default export found for component ${e} at ${t}.js`),null)}async function x(e,t){const{properties:s={},icons:n,formAssociated:r=!1,css:b,style:w=!1,extends:d,types:A,connectedCallback:P,disconnectedCallback:j,willUpdate:L,firstUpdated:v,updated:N,class:E,...O}=t,S=d?await y(d):k,i=class extends S{static icons=n;static css=b;static formAssociated=r;constructor(){super(),E&&this.classList.add(...E.split(" "))}static properties=(()=>{const f=super.properties||{},m=super.theme||{},c={...f};for(const p of Object.keys(s)){const a=s[p];a.type==="object"&&a.properties&&(a.properties=c[p]?.properties?{...c[p]?.properties,...a.properties}:a.properties),c[p]=c[p]?{...c[p],...a}:{...a},a.theme&&(m[p]=c[p].theme)}return A&&(m.types=A),super.theme=m,c.attribute=c.attribute===!1,c})()};return Object.assign(i.prototype,O),i.tag=e,i._attrs=Object.fromEntries(Object.keys(i.properties).map(f=>[f.toLowerCase(),f])),i.plugins=[...i.plugins],Object.entries({connectedCallback:P,disconnectedCallback:j,willUpdate:L,firstUpdated:v,updated:N}).map(([f,m])=>m&&i.plugins.push({event:f,fn:m})),(!customElements.get(e)||o.settings.preview)&&customElements.define(e,i),w&&M.loadComponentCSS(`${o.components[e].path}.css`),l.set(e,i),i}async function y(e){if(e=e.toLowerCase(),customElements.get(e))return l.has(e)||l.set(e,customElements.get(e)),l.get(e);if(l.has(e))return l.get(e);if(h.has(e))return h.get(e);const t=(async()=>{try{const s=await D(e);return s?await x(e,s):(console.warn(`[Loader] Definition for ${e} not found after loading.`),null)}catch(s){return console.error(`[Loader] Failed to define component ${e}:`,s),h.delete(e),null}})();return h.set(e,t),t}const C=(...e)=>{if(typeof e[0]=="string"){const t=e[0].toLowerCase(),s=e[1];o.hooks.run("componentAdded",{tag:t,component:s}),o.settings.dev||y(t).catch(n=>console.error(`[Loader] Error during preview definition for ${t}:`,n))}else typeof e[0]=="object"&&e[0]!==null&&Object.entries(e[0]).forEach(([t,s])=>{C(t,s)})},_=async(e=document.body)=>{if(!e||typeof e.querySelectorAll!="function")return;const t=e.querySelectorAll(":not(:defined)"),s=new Set;t.forEach(n=>{const r=n.tagName.toLowerCase();r.includes("-")&&s.add(r)}),await Promise.allSettled(Array.from(s).map(n=>y(n)))},q=()=>{new MutationObserver(async t=>{const s=new Set;for(const n of t)n.type==="childList"&&n.addedNodes.length>0&&n.addedNodes.forEach(r=>{if(r.nodeType===Node.ELEMENT_NODE){const b=w=>{const d=w.tagName.toLowerCase();d.includes("-")&&!customElements.get(d)&&!h.has(d)&&s.add(d)};b(r),typeof r.querySelectorAll=="function"&&r.querySelectorAll(":not(:defined)").forEach(b)}});s.size>0&&await Promise.allSettled(Array.from(s).map(n=>y(n)))}).observe(document.body,{childList:!0,subtree:!0})},U=()=>{o.events.on("INIT_APP",()=>{_(document.body),q()})};o.settings.dev&&o.hooks.add("init",U),o.hooks.set({componentAdded({tag:e,component:t}){u.has(e)||u.set(e,t),o.components[e]||(o.components[e]={}),o.components[e].definition=t},moduleAdded({module:e}){e.components&&Object.entries(e.components).forEach(([t,s])=>{if(Array.isArray(s))s.forEach(n=>{const r=`${e.name}-${n}`;o.components[r]||(o.components[r]={}),o.components[r].path=`${$}/${e.name}/${t}/${n}`});else{const n=`${e.name}-${t}`;o.components[n]||(o.components[n]={}),o.components[n].path=`${$}/${e.name}/${t}`}})}});const z={GET_TAG_PROPS:async({payload:e}={})=>{if(!e.tag)return;const t=await y(e.tag);return t||console.warn(`Component ${e.tag} not found. Did you forget to define it?`),t?o.Backend.sanitize(t?.properties):void 0}};o.events.set(z),o.define=C;export default{define:C};\n',metaType:"application/javascript"},"/modules/mvc/view/html/directive.js":{content:'export const directive=r=>(...e)=>({_$litDirective$:r,values:e});export class Directive{__part;__attributeIndex;__directive;_$parent;_$disconnectableChildren;_$notifyDirectiveConnectionChanged;constructor(e){}get _$isConnected(){return this._$parent._$isConnected}_$initialize(e,t,n){this.__part=e,this._$parent=t,this.__attributeIndex=n}_$resolve(e,t){return this.update(e,t)}render(...e){throw new Error("The `render()` method must be implemented.")}update(e,t){return this.render(...t)}}const i={},o=(r,e=i)=>r._$committedValue=e,s=Symbol.for("lit-nothing");class _ extends Directive{key=s;render(e,t){return this.key=e,t}update(e,[t,n]){return t!==this.key&&(o(e),this.key=t),n}}export const keyed=directive(_);\n',metaType:"application/javascript"},"/modules/mvc/view/html/spread.js":{content:'import{Directive as l,directive as p}from"/modules/mvc/view/html/directive.js";const o=(u,s)=>{const t={};for(const e in u)t[s+e]=u[e];return t},b=({properties:u,events:s,attributes:t,booleanAttributes:e})=>(u??={},{...t,...o(u??{},"."),...o(s??{},"@"),...o(e??{},"?")});class f extends l{element;host;previousValue;render(s,t){}isEqual(s,t){return Object.is(s,t)}update(s,[t]){this.element??=s.element,this.element===void 0&&(this.element=s.parentNode),this.host??=s.options?.host,Array.isArray(t)&&(t=t.reduce((i,r,h)=>(Object.entries(r).forEach(([n,d])=>{h===1?n=`@${n}`:h===2&&(n=`?${n}`),i[n]=d}),i),{}));const{previousValue:e}=this;this.isEqual(t,e)||(this.previousValue=t,Object.entries(t).forEach(([i,r])=>{if(!this.isEqual(e?.[i],r)){const[,h,n]=i.match(/([.?@])?(.*)/);this.updateItem(h,n,r)}}),e!=null&&Object.entries(e).forEach(([i])=>{if(!(i in t)){const[,r,h]=i.match(/([.?@])?(.*)/);this.updateItem(r,h,void 0,!0)}}))}updateItem(s,t,e,i=!1){switch(s){case".":return!i&&this.updateProperty(t,e);case"@":return this.updateEvent(t,e);case"?":return this.updateAttribute(t,e,!0);default:return typeof e=="object"&&e!==null?t==="class"?this.updateClass(e):t==="style"?this.updateStyle(e):this.updateAttribute(t,JSON.stringify(e)):t in this.element?this.updateProperty(t,e):this.updateAttribute(t,e)}}listeners=new Map;updateEvent(s,t){const e=typeof t=="function"?r=>t.call(this.host??this.element,r):null;let i=this.listeners.get(s);if(e===null){i&&(this.listeners.delete(s),this.element.removeEventListener(s,i));return}i===void 0?(this.listeners.set(s,i={handleEvent:e}),this.element.addEventListener(s,i)):i.handleEvent=e}updateClass(s){this.updateAttribute("class",Object.entries(s).filter(([t,e])=>e).map(([t])=>t).join(" "))}updateStyle(s){this.updateAttribute("style",Object.entries(s).map(([t,e])=>`${t}: ${e}`).join("; "))}updateAttribute(s,t,e=!1){typeof t=="boolean"&&(t=t?"":null),t==null||e&&!t?this.element.removeAttribute(s):this.element.setAttribute(s,e?"":t)}updateProperty(s,t){this.element[s]=t}}const c=p(f);export default c;\n',metaType:"application/javascript"},"/modules/theme/index.js":{content:`import i from"https://cdn.jsdelivr.net/npm/@unocss/preset-wind4@66.3.3/+esm";const t=(o,e)=>{const s={},l=[97,92,84,75,66,55,45,35,24,15],a=[50,100,200,300,400,500,600,700,800,900];for(let r=0;r<a.length;r++)s[a[r]]=\`hsl(\${o}, \${e}, \${l[r]}%)\`;return s.DEFAULT=s[500],s},m=t(198,"100%"),p=t(120,"100%"),d=t(175,"100%"),g=t(149,"87%"),u=t(32,"100%"),y=t(345,"100%"),n=t(0,"0%");n.DEFAULT=n[700],window.__unocss={theme:{text:{color:"var(--color-surface-100)"},font:{family:"'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif",icon:{family:"lucide"}},background:{color:"var(--colors-primary-100)"},colors:{primary:m,secondary:p,tertiary:d,success:g,warning:u,danger:y,default:n,surface:n},fontWeight:{normal:"400",bold:"700"},borderRadius:{sm:"0.25rem",md:"0.5rem",lg:"1rem",full:"9999px"},boxShadow:{md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)"},transition:{property:"all",duration:"300ms",timingFunction:"ease-in-out"},fontSize:{sm:"0.8rem",base:"1rem",lg:"1.2rem"}},extendTheme:o=>c.theme.set(o),presets:[i({preflights:{theme:!0}})]},await import("https://cdn.jsdelivr.net/npm/@unocss/runtime/core.global.js");import c from"/bootstrap.js";const f=document.querySelector("#compstyles")||(()=>{const e=document.createElement("style");return e.id="compstyles",document.head.appendChild(e),e})();async function x(o){const e=await c.fs.css(o,!0);e&&(f.textContent+=e)}const h={loadComponentCSS:x};export default h;
`,metaType:"application/javascript"},"/modules/icon-lucide/index.js":{content:`import o from"/bootstrap.js";o.addModule({name:"icon-lucide",icon:!0});
`,metaType:"application/javascript"},"/modules/font/manrope/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"manrope",font:{name:"Manrope",type:"woff2",variants:["extralight","light","medium","regular","semibold","bold","extrabold"]}});
`,metaType:"application/javascript"},"/modules/uix/index.js":{content:`import a from"/bootstrap.js";a.addModule({name:"uix",frontend:!0,components:{form:["form","form-control","input","textarea","time","rating","join","file-upload","number-input","switch","slider"],navigation:["navbar","breadcrumbs","menu","sidebar","pagination","tabs","tabbed"],overlay:["overlay","modal","drawer","tooltip","popover","alert-dialog","toast"],display:["link","button","avatar","badge","card","circle","image","logo","media","table","table-row","icon","calendar","calendar-day","tag","stat","chart","content"],layout:["list","accordion","row","container","divider","section","page","flex","stack","spacer"],feedback:["spinner","progress-bar","circular-progress","skeleton"],utility:["draggable","droparea","clipboard","theme-toggle","dark-mode-switch"]}});
`,metaType:"application/javascript"},"/modules/uix/frontend.js":{content:'import e from"/bootstrap.js";import t from"/modules/mvc/view/html/index.js";const m={"/theme":{component:()=>t`<theme-ui></theme-ui>`,title:"Theme",template:"uix-template"}};e.routes.set(m);\n',metaType:"application/javascript"},"/modules/apps/bundler/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"bundler",path:"apps/bundler",base:[],dev:!0,frontend:!0});
`,metaType:"application/javascript"},"/modules/apps/bundler/frontend.js":{content:"export default {}"},"/modules/integrations/github.js":{content:"export default {}"},"/modules/p2p/index.js":{content:`import e from"/bootstrap.js";const n={};e.events.install(n),e.addModule({name:"p2p",frontend:!0,backend:!0,base:n});
`,metaType:"application/javascript"},"/modules/p2p/frontend.js":{content:`import e from"/bootstrap.js";const A={"P2P:SEND_DATA_OP":({payload:P})=>{console.log("P2P DATA OP",{payload:P}),e.p2p.emit("SEND_DATA_OP",P)}};e.events.set(A);
`,metaType:"application/javascript"},"/theme.css":{content:`body{font-family:var(--font-family)}html,body{font-family:var(--font-family);background-color:var(--background-color)!important;color:var(--text-color)!important;width:100%;min-height:100%;height:100%;padding:0;margin:0}body:not(.production) *:not(:defined){border:1px solid red}.dark{filter:invert(1) hue-rotate(180deg)}.dark img,.dark dialog,.dark video,.dark iframe{filter:invert(1) hue-rotate(180deg)}html{font-size:14px}@media (max-width: 768px){html{font-size:18px}}@media (max-width: 480px){html{font-size:20px}}textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}:root{box-sizing:border-box;-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;line-height:1.2;-webkit-font-smoothing:antialiased}*,*:before,*:after{box-sizing:border-box}*{margin:0}body{-webkit-font-smoothing:antialiased}a{color:currentColor;text-decoration:none;font-family:var(--font-family)}button,textarea,select{background-color:inherit;border-width:0;color:inherit}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{font-family:var(--font-family);overflow-wrap:break-word}dialog::backdrop{background-color:#000c}*::-webkit-scrollbar{width:8px;margin-right:10px}*::-webkit-scrollbar-track{background:transparent}*::-webkit-scrollbar-thumb{&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}border-radius:10px;border:none}*::-webkit-scrollbar-button{background:transparent;color:transparent}*{scrollbar-width:thin;scrollbar-color:transparent transparent;&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}}[full]{width:100%;height:100vh}[w-full]{width:100%}[grow]{flex-grow:1}[hide],.hide{display:none!important}[noscroll]{overflow:hidden}div [container]{display:flex}div [container][horizontal]{display:flex;flex-direction:col}
`,metaType:"text/css"},"/worker.js":{content:'import n from"/bootstrap.js";let l;const a=async e=>{console.log("App Worker: bootstrap() called");const o=new URL(self.location).searchParams.get("project"),c=o?JSON.parse(decodeURIComponent(o)):{};c.backend=!0;const i=await n.bootstrap({backend:!0,...c||{},settings:{...c.settings||{},preview:!!self.IS_PREVIEW,IS_MV3:!!self.chrome}});return i&&!l&&(console.log("App Worker: Initializing backend application"),await n.Backend.bootstrap(i)),i};let t,s;const p=[],d={handleMessage:async({data:e})=>{if(e.eventId&&p.includes(e.eventId))return;e.eventId&&p.push(e.eventId);const r=e.eventId&&(o=>{s&&s.postMessage({eventId:e.eventId,payload:o,connection:e.connection})});if(e.type==="LOAD_APP"&&n.settings.preview){const o=e?.payload?.project;if(!o)return;t&&(console.info("App Worker: Restarting existing application"),t.restart()),t=await a(o)}n?.Backend?(console.info(`App Worker: Routing message to backend: ${e.type}`),n.Backend.handleMessage({data:e,respond:r})):n.hooks.add("APP:BACKEND_STARTED",async()=>{console.info(`App Worker: Routing message to backend after APP:BACKEND_STARTED: ${e.type}`),n.Backend.handleMessage({data:e,respond:r})})}};self.addEventListener("message",async e=>{e.data.type==="INIT_PORT"&&(s=e.ports[0],console.warn("App Worker: Communication port initialized."),s.onmessage=d.handleMessage,(async()=>(t=await a(),n.Backend.client=s))())});\n',metaType:"application/javascript"},"/manifest.json":{content:`{
	"manifest_version": 3,
	"name": "meetuprio",
	"version": "1.0",
	"description": "MV3 Development",
	"permissions": [
		"activeTab",
		"alarms",
		"background",
		"bookmarks",
		"browsingData",
		"clipboardRead",
		"clipboardWrite",
		"cookies",
		"debugger",
		"declarativeNetRequest",
		"declarativeNetRequestFeedback",
		"downloads",
		"history",
		"identity",
		"idle",
		"management",
		"nativeMessaging",
		"notifications",
		"pageCapture",
		"scripting",
		"storage",
		"tabs",
		"topSites",
		"unlimitedStorage",
		"webAuthenticationProxy",
		"webNavigation",
		"webRequest"
	],
	"action": {
		"default_popup": "popup.html"
	},
	"background": {
		"service_worker": "modules/backend/sw.js"
	},
	"host_permissions": ["<all_urls>"],
	"optional_host_permissions": [],
	"web_accessible_resources": [
		{
			"resources": ["*", "modules/*", "assets/*"],
			"matches": ["<all_urls>"]
		}
	],
	"icons": {
		"16": "assets/icons/icon_16.png",
		"48": "assets/icons/icon_48.png",
		"128": "assets/icons/icon_128.png"
	},
	"chrome_url_overrides": {
		"newtab": "extension.html"
	}
}
`,metaType:"application/json"},"/modules/mvc/view/backend.js":{content:`import n from"/bootstrap.js";const t=async e=>n.Backend.requestFromClient("GET_TAG_PROPS",{tag:e});n.addFunctions({name:"view",functions:{getTagProps:t}});
`,metaType:"application/javascript"},"/modules/mvc/controller/backend/backend.js":{content:'import t from"/bootstrap.js";import D from"/modules/mvc/model/backend.js";import c from"/modules/mvc/model/database/index.js";const f=(()=>{let e=0,s=0;return()=>{let a=Date.now();return a>e?s=0:(s++,a+=s),e=a,a.toString()}})();let v=1;const u={},l={},S=async(e,s,a=5e3)=>{const o=(await self.clients.matchAll({type:"window",includeUncontrolled:!0}))[0];if(!o)return Promise.reject(new Error("No active client found to send request to."));const d=`backend-request-${v++}`;return new Promise((i,r)=>{l[d]={resolve:i,reject:r},setTimeout(()=>{delete l[d],r(new Error(`Request timed out after ${a}ms`))},a),o.postMessage({type:e,payload:s,eventId:d})})},M=async e=>{t.Backend.client.postMessage(e),t.Backend.client.postMessage({type:"BROADCAST",params:e})},k=async({data:e,respond:s})=>{const{events:a}=t,{type:n,payload:o,connection:d,eventId:i}=e;if(l[i]){l[i].resolve(o),delete l[i];return}if(d){u[i]?u[i].postMessage(e):(t.mv3.postMessage(e,d),u[i]=s);return}const r=a[n];r&&await r({payload:o,eventId:i,respond:s,client:B(t.Backend.client),broadcast:M})},B=e=>new Proxy({},{get:(s,a)=>n=>b(e,a,n)}),b=(e,s,a)=>{const n=`sw_${v++}`;return new Promise((o,d)=>{l[n]={resolve:o,reject:d},e.postMessage({type:s,payload:a,eventId:n})})};function h({$APP:e,getApp:s,debounceDelay:a=50}){let n;const o=async()=>{e.log(`Batch processing ${e.dynamicModels.length} model(s)...`);try{const{SysModel:d}=e,i=await s(),r=i.version+1;await d.edit(e.settings.sysmodels.APP,{id:i.id,models:e.models,version:r}),e.log(`Batch add successful. ${e.dynamicModels.length} model(s) added. App version is now ${r}.`),await c.reload({models:e.models,version:r}),e.dynamicData.length&&await E(Object.fromEntries(e.dynamicData),!0)}catch(d){console.error("Failed to process model additions batch:",d)}};return e.addModule({name:"dynamicModels",base:[]}),e.addModule({name:"dynamicData",base:[]}),function({name:i,schema:r}){if(e.dynamicModels.includes(i)||e.dynamicModels.add(i),!i||!r)throw new Error("A model \'name\' and \'schema\' are required.");e.log(`Model "${i}" queued for addition.`),e.models.set({[i]:r}),clearTimeout(n),n=setTimeout(o,a)}}const A=async({timestamp:e=Date.now(),id:s=e.toString(),models:a=t.models,version:n=1}={})=>{const o={id:s,version:n,active:!0,models:a};return await t.SysModel.add(t.settings.sysmodels.APP,o),t.hooks.run("appCreated",{app:o}),o};async function I(){const e=await self.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),s=await self.crypto.subtle.exportKey("spki",e.publicKey),a=await self.crypto.subtle.exportKey("pkcs8",e.privateKey);return{publicKey:btoa(String.fromCharCode(...new Uint8Array(s))),privateKey:btoa(String.fromCharCode(...new Uint8Array(a)))}}const T=async({app:e,device:s,user:a}={})=>{const n=e||await t.Backend.getApp();if(!a){const y=await t.SysModel.get(t.settings.sysmodels.USER,{active:!0,appId:n.id});if(y)return y.privateKey=null,await t.SysModel.get(t.settings.sysmodels.DEVICE,{userId:y.id,active:!0})||await t.SysModel.add(t.settings.sysmodels.DEVICE,s),y}const{publicKey:o,privateKey:d}=await I(),i=a||{id:a?.id||f(),name:a?.name||"Local User",publicKey:o,privateKey:d,appId:n.id,active:!0};await t.SysModel.add(t.settings.sysmodels.USER,i);const r=s||{userId:i.id,appId:n.id,active:!0};return await t.SysModel.add(t.settings.sysmodels.DEVICE,r),i.privateKey=null,i},p=async()=>await t.SysModel.get(t.settings.sysmodels.APP,{active:!0}),m=async e=>{const s=e||await t.Backend.getApp();if(t.Backend.user&&t.Backend.user.appId!==s.id&&(t.Backend.user=null),!t.Backend.user){let a=await t.SysModel.get(t.settings.sysmodels.USER,{appId:s.id,active:!0});a||(a=await t.Backend.createUserEntry({app:s}));const{privateKey:n,active:o,...d}=a;t.Backend.user=d}return t.Backend.user},w=async({app:e,user:s}={})=>{const a=e||await t.Backend.getApp(),n=s||await t.Backend.getUser(a);if(!n)throw new Error("User not found");return await t.SysModel.get(t.settings.sysmodels.DEVICE,{userId:n.id,active:!0})||null},E=async(e,s=!1)=>{const a=e??t.data,{SysModel:n}=t,o=await p(),d=Object.entries(a);if(d.length){for(const[i,r]of d)!s&&t.dynamicModels.includes(i)?t.dynamicData.add([i,r]):await D[i].addMany(r,{keepIndex:!0});c.app=await n.edit(t.settings.sysmodels.APP,{id:o.id,migrationTimestamp:Date.now()})}},g=async e=>{c.app=e,await c.reload({name:e.id,models:e.models,version:e.version});const{active:s,privateKey:a,...n}=await m(e),o=await w({app:e,user:n});return t.data&&!e.migrationTimestamp&&(await E(t.data),e=await p()),{app:e,user:n,device:o,models:e.models}},C=h({$APP:t,getApp:p}),U={bootstrap:async()=>{let e=await p();return e||(e=await A()),await t.hooks.run("APP:BACKEND_STARTED",{app:e,models:e.models}),g(e)},handleMessage:k,getApp:p,getDevice:w,createAppEntry:A,createUserEntry:T,getUser:m,generateId:f,broadcast:M,addModel:C,requestFromClient:S};t.events.set({INIT_APP:async({respond:e})=>{await t.hooks.add("APP:DATABASE_STARTED",async()=>{const s=await p(),a=await m(),n=await w();e({app:s,user:a,device:n})})},GET_CURRENT_APP:async({respond:e})=>{const s=await t.Backend.getApp();e(s)},LIST_APPS:async({respond:e})=>{const s=await t.SysModel.getMany(t.settings.sysmodels.APP);e(s||[])},CREATE_APP:async({respond:e})=>{const s=await t.Backend.getApp();s&&await t.SysModel.edit(t.settings.sysmodels.APP,{id:s.id,active:!1});const a=await t.Backend.createAppEntry(),n=await g(a);e(n.app)},SELECT_APP:async({payload:e,respond:s})=>{const{appId:a}=e;if(!a)return s({error:"An \'appId\' is required to select an app."});const n=await t.Backend.getApp();n&&n.id!==a&&await t.SysModel.edit(t.settings.sysmodels.APP,{id:n.id,active:!1}),await t.SysModel.edit(t.settings.sysmodels.APP,{id:a,active:!0});const o=await t.SysModel.get(t.settings.sysmodels.APP,{id:a}),d=await g(o);s(d.app)},GET_DB_DUMP:async({respond:e})=>{const s=await c.createDBDump();e(s)},LOAD_DB_DUMP:async({payload:e,respond:s=console.log})=>{try{c.loadDBDump(e),s({success:!0})}catch(a){console.error("Failed to load DB dump:",a),s({success:!1,error:a})}}}),t.setLibrary({name:"backend",path:"mvc/controller/backend",alias:"Backend",base:U});\n',metaType:"application/javascript"},"/modules/mvc/model/database/index.js":{content:'import $ from"/bootstrap.js";import I from"/modules/mvc/model/backend.js";import C from"/modules/mvc/model/extensions/metadata.js";import U from"/modules/mvc/model/extensions/operations.js";import O from"/modules/mvc/model/indexeddb/index.js";import E from"/modules/types/index.js";const q={operations:U,metadata:C};$.sysmodels.set({[$.settings.sysmodels.APP]:{name:E.string({index:!0,primary:!0}).$,version:E.number().$,users:E.many($.settings.sysmodels.USER,"appId").$,active:E.boolean({defaultValue:!0,index:!0}).$,models:E.object().$,migrationTimestamp:E.number().$},[$.settings.sysmodels.USER]:{name:E.string({index:!0,primary:!0}).$,appId:E.one($.settings.sysmodels.APP,"users").$,devices:E.many($.settings.sysmodels.DEVICE,"userId").$,publicKey:E.string().$,privateKey:E.string().$,active:E.boolean({index:!0}).$},[$.settings.sysmodels.DEVICE]:{name:E.string({index:!0,primary:!0}).$,userId:E.one($.settings.sysmodels.USER,"devices").$,deviceData:E.string().$,active:E.number({defaultValue:!0,index:!0}).$}});const j=s=>!!$.sysmodels[s];$.addModule({name:"DatabaseExtensions",base:$.storage.install([])});const W=(s,v)=>Object.fromEntries(Object.entries(s).filter(([k,h])=>Object.hasOwn(h,`$${v}`)).map(([k])=>[k,q[v]])),z=async s=>{const{dump:v}=s,k=s.app??await getApp();if(!v)throw"No dump provided";if(!k)throw"No app selected";for(const[h,x]of Object.entries(v))I[h]&&await I[h].addMany(x,{keepIndex:!0});await $.SysModel.edit($.settings.sysmodels.APP,{id:k.id,migrationTimestamp:Date.now()})},L=async()=>{const s=await $.Backend.getApp(),v={},k=Object.keys(s.models);for(const h of k)I[h]&&(v[h]=await I[h].getAll({object:!0}));return v},B=()=>{let s,v,k,h,x;const N={},_={},S=async(e={})=>{e.extensions&&$.DatabaseExtensions.add(...e.extensions),e.name&&(k=e.name),e.models&&(s=e.models),e.version&&(v=e.version),x=e.system===!0,h&&h.close(),h=await O.open({name:k,version:v,models:s}),$.DatabaseExtensions.length&&!x&&$.DatabaseExtensions.forEach(async n=>{N[n]=await O.open({name:`${k}_${n}`,version:v,models:W(s,n)})})},T=async(e,n,o,i)=>{if(!e||e.length===0||!o||o.length===0)return;const c=s[n],b={},m={};for(const t of o){const d=c[t];if(!d)continue;m[t]=d;const{targetModel:f,belongs:l,polymorphic:y,mixed:a}=d;for(const w of e){let r=w[t];if(l)r=w[t];else continue;if(r==null)continue;const M=(u,A)=>{b[u]||(b[u]=new Set),b[u].add(A)},g=u=>{if(y){if(typeof u=="string"){const[A,D]=u.split("@");A&&D&&M(A,D)}}else typeof u=="string"&&M(f,u)};Array.isArray(r)?r.forEach(g):g(r)}}const p={};for(const[t,d]of Object.entries(b))if(d.size>0){const f=Array.from(d),l=await R.getMany(t,f);p[t]=l.reduce((y,a)=>(y[a.id]=a,y),{})}for(const t of e)for(const d of o){const f=m[d];if(!f)continue;const{targetModel:l,belongs:y,polymorphic:a,mixed:w,many:r}=f,M=i.transform??f.transform;if(y){const g=t[d];if(g==null){t[d]=r?[]:null;continue}const u=A=>{let D=l,F=A;if(a&&typeof A=="string"&&([D,F]=A.split("@")),w&&typeof A=="object"&&A!==null)return A;const P=p[D]?.[F]??null;return M?M(P,D):P};r?t[d]=Array.isArray(g)?g.map(u).filter(Boolean):[]:t[d]=u(g)}else{let g;if(a){const u=`${n}@${t.id}`;s[l]?.[f.targetForeignKey]?.many?g={[f.targetForeignKey]:{$contains:u}}:g={[f.targetForeignKey]:u}}else g={[f.targetForeignKey]:t.id};t[d]=await R.getMany(l,g)}}},R={loadDBDump:z,createDBDump:L,extdbs:N,get db(){return h},get models(){return s},get version(){return h?.version},open:S,stores:_,reload:S,count:(...e)=>h.count(...e),isEmpty:(...e)=>h.isEmpty(...e),async put(e,n={},o={}){const{skipRelationship:i=!1,currentRow:c={}}=o,b=s[e];if(!b)return console.error(`Model ${e} not found. current schema version: ${v} / ${h.version}`);if(j(e))try{const t=await h.put(e,n);return t?[null,await h.get(e,t)]:[null,null]}catch(t){return[t,null]}const[m,p]=E.validateType(n,{schema:s[e],row:c,undefinedProps:!!o.insert,validateVirtual:!0});if(m)return[m,null];try{if(i)return await h.put(e,p,o),[null,p];const t=[e],d=Object.keys(b).filter(w=>{const r=b[w],M=r.targetModel&&r.relationship&&p[w]!==void 0&&p[w]!==null;return M&&!t.includes(r.targetModel)&&(r.polymorphic||t.push(r.targetModel)),M}),f=p.id||n.id,l=[];for(const w of d){const r=b[w];let M=p[w];if(r.many&&Array.isArray(M)){const u=[];for(const A of M)if(typeof A=="string"||r.mixed&&typeof A=="object"&&A!==null)u.push(A);else{const D=r.targetModel;if(s[D]){const F={...A};F.id||(F.id=$.Backend.generateId()),l.push([D,F]),t.includes(D)||t.push(D);const P=r.polymorphic?`${D}@${F.id}`:F.id;u.push(P)}}p[w]=u,M=u}if(!s[r.targetModel]&&!r?.polymorphic){console.error(`ERROR: couldn\'t find target model \'${r.targetModel}\' for relationship \'${w}\' on model \'${e}\'`);continue}const g=s[r.targetModel]?.[r.targetForeignKey];if(!g){r.belongs||console.warn(`WARN: couldn\'t find target foreign key \'${r.targetForeignKey}\' in model \'${r.targetModel}\' for relationship \'${w}\' from \'${e}\'. This might be a one-way definition or configuration issue.`);continue}if(g.belongs){const u=g.polymorphic?`${e}@${f}`:f;if(g.many){const D=Array.isArray(M)?M:[M];D.length&&(await R.getMany(r.targetModel,D.map(P=>P&&typeof P=="object"?P.id:P))).forEach(P=>{if(P){const K=P[r.targetForeignKey];K?K.includes(u)||K.push(u):P[r.targetForeignKey]=[u],l.push([r.targetModel,P])}})}else{const D=typeof M=="string"?M:M?.id;if(D){const F=await R.get(r.targetModel,D);F&&(F[r.targetForeignKey]=u,l.push([r.targetModel,F]))}}}!r.belongs&&!b[w]?.polymorphic&&delete p[w]}l.push([e,p]);const y=await h.transaction(t),a=l.map(([w,r])=>y.put(w,r));return await Promise.all(a),await y.done(),[null,p]}catch(t){return console.error("Error in put operation:",t,{model:e,row:n,models:s,version:v}),[t,null]}},async get(e,n,o={}){if(!n)return null;const{insert:i=!1,includes:c=[],recursive:b=null}=o;let m=await h.get(e,n);if(!m&&!i)return null;if(!m&&i){const[p,t]=await R.add(e,typeof n=="object"?n:{id:n},{skipRelationship:!0,...typeof n!="object"&&{overrideId:!0,keepIndex:!0}});if(p)return console.error("Failed to insert record in get():",p),null;m=t}if(m&&c.length&&await T([m],e,c,o),m&&b){const p=new Set;let t=[m];const d=b;for(;t.length>0;){const f=[];for(const l of t){const a=`${l._modelName||e}@${l.id}`;p.has(a)||(p.add(a),f.push(l))}if(f.length===0)break;await T(f,e,[d],o),t=[];for(const l of f){const y=l[d];if(Array.isArray(y))y.forEach(a=>{if(a){const w=s[e][d];w&&(a._modelName=w.targetModel),t.push(a)}});else if(y){const a=s[e][d];a&&(y._modelName=a.targetModel),t.push(y)}}}}return m},async getMany(e,n,o={}){const{limit:i,offset:c,order:b,includes:m=[],recursive:p=null}=o;let t;if(Array.isArray(n)?t=(await Promise.all(n.map(f=>h.get(e,f)))).filter(f=>f!==null):t=await h.getMany(e,n,{limit:i,offset:c,order:b}),m.length&&t.length&&await T(t,e,m,o),p&&t.length){const f=new Set;let l=[...t];const y=p;for(;l.length>0;){const a=[];for(const r of l){const g=`${r._modelName||e}@${r.id}`;f.has(g)||(f.add(g),a.push(r))}if(a.length===0)break;const w=a[0]._modelName||e;await T(a,w,[y],o),l=[];for(const r of a){const M=r[y],g=s[w][y];Array.isArray(M)?M.forEach(u=>{u&&(g&&(u._modelName=g.targetModel),l.push(u))}):M&&(g&&(M._modelName=g.targetModel),l.push(M))}}}return i?{count:await h.count(e,Array.isArray(n)?{id:{$in:n}}:n),limit:i,offset:c,items:t}:t},async remove(e,n,o={}){const i=s[e];if(!i)return console.error(`Model ${e} not found for removal.`),!1;const c=await R.get(e,n);if(!c)return!1;const b=Object.keys(i).filter(t=>i[t].targetModel&&i[t].relationship),m=[e],p=[];if(b.length>0)for(const t of b){const d=i[t];if(!d.targetModel||!d.targetForeignKey)continue;m.includes(d.targetModel)||d.polymorphic||m.push(d.targetModel);const f=d.targetModel,l=d.targetForeignKey,y=s[f]?.[l];if(y&&y.belongs){const a=y.polymorphic?`${e}@${n}`:n;let w;y.many?w={[l]:{$contains:a}}:w={[l]:a},(await R.getMany(f,w)).forEach(M=>{let g;y.many?g=(M[l]||[]).filter(u=>u!==a):g=null,p.push([f,{...M,[l]:g}])})}}try{const t=await h.transaction(m),d=p.map(([y,a])=>t.put(y,a)),f=t.remove(e,n);await Promise.all([...d,f]),await t.done();const l=j(e);return[`ModelRemoveRecord-${e}`,"onRemoveRecord"].forEach(y=>$.hooks.run(y,{model:e,opts:o,id:n,system:l,row:c,db:R,extensions:Object.keys(s[e]).filter(a=>a[0]==="$").map(a=>a.slice(1))})),!0}catch(t){return console.error("Failed to remove record or update relationships:",t,{model:e,id:n}),!1}},async removeMany(e,n,o={}){!n&&o.filter&&(n=o.filter);const i=Array.isArray(n)?n.map(c=>typeof c=="object"?c.id:c):(await h.getMany(e,n)).map(c=>c.id);return Promise.all(i.filter(Boolean).map(c=>R.remove(e,c,o)))},async edit(e,n,o={}){if(!n||!n.id)return console.error("Edit operation requires a row with an ID.",{model:e,row:n}),{errors:{id:"ID is required for edit."},model:e,row:n,opts:o};const i={...o,update:!0,currentRow:o.currentRow??await R.get(e,n.id,{includes:[]})};if(!i.currentRow)return console.warn(`Record not found for edit: ${e} with id ${n.id}`),{errors:{record:"Record not found."},model:e,row:n,opts:i};const[c,b]=await R.put(e,{...i.currentRow,...n},i);if(c)return{errors:c,model:e,row:n,opts:i};const m=j(e);return[`ModelEditRecord-${e}`,"onEditRecord"].forEach(p=>$.hooks.run(p,{row:n,model:e,system:m,opts:i,db:R,extensions:Object.keys(s[e]).filter(t=>t[0]==="$").map(t=>t.slice(1))})),b},async editMany(e,n,o={}){return n?.length?await Promise.allSettled(n.map(async c=>c?.id?R.edit(e,c,o):{errors:{id:"Row or ID missing for editMany"},row:c})):[]},async editAll(e,n,o,i={}){const c=await h.getMany(e,n,{...i});return await Promise.allSettled(c.map(m=>R.edit(e,{...m,...o},{...i,currentRow:m})))},async add(e,n,o={}){const i={...n},c=j(e);(!c&&!o.keepIndex&&!o.overrideId||!i.id)&&(i.id=$.Backend.generateId());const[b,m]=await R.put(e,i,{...o,insert:!0});return b?{errors:b,model:e,row:i,opts:o}:([`ModelAddRecord-${e}`,"onAddRecord"].forEach(p=>$.hooks.run(p,{model:e,row:m,system:c,opts:o,db:R,extensions:Object.keys(s[e]).filter(t=>t[0]==="$").map(t=>t.slice(1))})),m)},async addMany(e,n=[],o={}){return await Promise.allSettled(n.map(c=>R.add(e,c,o)))}};return R};export const SysModel=B();await SysModel.open({name:$.settings.sysmodels.APP,version:1,models:$.sysmodels,system:!0}),$.setLibrary({name:"sysmodel",alias:"SysModel",base:SysModel});const V=B();$.hooks.add("APP:BACKEND_STARTED",async({app:s,models:v})=>{if(!s||!v){console.error("APP:BACKEND_STARTED hook called with invalid app or models.",{app:s,models:v});return}await V.open({name:s.id,version:s.version,extensions:s.extensions,system:!1,models:{...v,...s.models||{}}}),$.hooks.run("APP:DATABASE_STARTED")});export default V;\n',metaType:"application/javascript"},"/modules/mvc/model/backend.js":{content:'import r from"/bootstrap.js";import c from"/modules/mvc/model/database/index.js";import l from"/modules/mvc/model/index.js";const f={DISCONNECT:(e,{port:t})=>t.removePort(),CREATE_REMOTE_WORKSPACE:async({payload:e},{importDB:t})=>t(e),ADD_REMOTE_USER:async({payload:e})=>r.Backend.createUserEntry(e),ADD:async({payload:e,respond:t})=>{const s=await c.add(e.model,e.row,e.opts);t(s)},ADD_MANY:async({payload:e,respond:t})=>{const s=await c.addMany(e.model,e.rows,e.opts);t({success:!0,results:s})},REMOVE:async({payload:e,respond:t})=>{const s=await c.remove(e.model,e.id,e.opts);t(s)},REMOVE_MANY:async({payload:e,respond:t})=>{const s=await c.removeMany(e.model,e.ids,e.opts);t({success:!0,results:s})},EDIT:async({payload:e,respond:t})=>{const s=await c.edit(e.model,e.row,e.opts);t(s)},EDIT_MANY:async({payload:e,respond:t})=>{const s=await c.editMany(e.model,e.rows,e.opts);t({success:!0,results:s})},GET:async({payload:e,respond:t})=>{const{id:s,model:o,opts:n={}}=e,a=await c.get(o,s??(n.filter&&(typeof n.filter=="string"&&JSON.parse(n.filter)||n.filter)),n);t(a)},GET_MANY:async({payload:{model:e,opts:t={}},respond:s}={})=>{const o=await c.getMany(e,t.filter,t);s(o)}};r.events.set(f);const p=(e,t,s={})=>new Promise(o=>{const n=f[e];n&&typeof n=="function"?n({respond:o,payload:{model:t,...s}}):o({success:!1,error:`Action "${e}" not found.`})}),d=({model:e,row:t})=>{if(!t)return;const s=r.models[e],o=Object.entries(s).filter(([,n])=>n.belongs&&n.targetModel!=="*");o.length&&o.forEach(([n,a])=>{t[n]&&r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${t[n]}`,model:a.targetModel,data:void 0}})})},u=({row:e,db:t,model:s})=>{if(!e.models)return;const o=new Set(e.extensions||[]),n=new Set;Object.values(e.models).forEach(i=>Object.keys(i).forEach(E=>{E.startsWith("$")&&n.add(E.slice(1))}));const a=[...n].filter(i=>!o.has(i));if(a.length===0)return;console.log(`New extensions found: ${a.join(", ")}`),a.forEach(i=>{console.log(`Initializing extension: ${i}`),r.DatabaseExtensions.add(i)});const A=[...o,...a];t.edit(s,{...e,extensions:A})};r.hooks.set({"ModelAddRecord-App":u,"ModelEditRecord-App":u,onAddRecord({model:e,row:t,system:s}){s||(r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${t.id}`,model:e,data:t}}),d({model:e,row:t}),console.log("BROADCAST MESSAGE",{system:s,type:"REQUEST_DATA_SYNC",payload:{key:`get:${t.id}`,model:e,data:t}}))},onEditRecord({model:e,row:t,system:s}){s||(r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${t.id}`,model:e,data:t}}),d({model:e,row:t}))},onRemoveRecord({model:e,row:t,id:s,system:o}){o||(r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${s}`,model:e,data:void 0}}),d({model:e,row:t}))}}),l.request=p;export default l;\n',metaType:"application/javascript"},"/modules/mvc/model/extensions/metadata.js":{content:`import s from"/bootstrap.js";import a from"/modules/mvc/model/database/index.js";import o from"/modules/types/index.js";s.hooks.set({onAddRecord({model:e,row:d,system:r,extensions:n}){if(r||!a.extdbs||!n.includes("metadata"))return;const t=a.extdbs.metadata;if(!t)return console.error("Metadata database instance not active.");t.put(e,{id:d.id,createdAt:Date.now(),updatedAt:Date.now()})},async onEditRecord({model:e,row:d,system:r,extensions:n}){if(r||!a.extdbs||!n.includes("metadata"))return;const t=a.extdbs.metadata;if(!t)return console.error("Metadata database instance not active.");const i=await t.get(e,d.id);i.updatedAt=Date.now(),t.put(e,i)},onRemoveRecord({model:e,id:d,system:r,extensions:n}){if(r||!a.extdbs||!n.includes("metadata"))return;const t=a.extdbs.metadata;if(!t)return console.error("Metadata database instance not active.");t.remove(e,d)}});export default{createdAt:o.string({index:!0}).$,updatedAt:o.string({index:!0}).$,createdBy:o.string({index:!0}).$,updatedBy:o.string({index:!0}).$};
`,metaType:"application/javascript"},"/modules/mvc/model/extensions/operations.js":{content:`import i from"/bootstrap.js";import e from"/modules/mvc/model/database/index.js";import a from"/modules/types/index.js";i.hooks.set({onAddRecord({model:o,row:r,system:n,extensions:s}){if(n||!e.extdbs||!s.includes("operations"))return;const t=e.extdbs.operations;if(!t)return console.error("Operations database instance not active.");t.put(o,{timestamp:Date.now(),row:r})},async onEditRecord({model:o,row:r,system:n,extensions:s}){if(n||!e.extdbs||!s.includes("operations"))return;const t=e.extdbs.operations;if(!t)return console.error("Operations database instance not active.");t.put(o,{timestamp:Date.now(),rowId:id,row:r})},onRemoveRecord({model:o,id:r,system:n,extensions:s}){if(n||!e.extdbs||!s.includes("operations"))return;const t=e.extdbs.operations;if(!t)return console.error("Operations database instance not active.");t.put(o,{timestamp:Date.now(),removedAt:Date.now(),rowId:r})}});export default{createdAt:a.string({index:!0}).$,removedAt:a.string().$,rowId:a.string({index:!0}).$,row:a.object().$};
`,metaType:"application/javascript"},"/modules/mvc/model/indexeddb/index.js":{content:'const E={true:1,false:0},z={true:!0,false:!1};async function G($){const y=H($);return await y.init(),y}function H({name:$,models:y,version:K}){let l=null,m=!1,g=null,C=Number(K);const R=async()=>g||(g=new Promise((e,o)=>{const n=indexedDB.open($,C);n.onerror=s=>{g=null,o(new Error(`Failed to open database: ${s.target.error}`))},n.onsuccess=s=>{l=s.target.result,m=!0,l.onversionchange=()=>{l&&(l.close(),l=null,m=!1,g=null)},e(l)},n.onupgradeneeded=s=>{const i=s.target.result,c=s.target.transaction;Object.keys(y).forEach(t=>{if(!i.objectStoreNames.contains(t))W(i,t);else{const r=c.objectStore(t),u=y[t];Object.keys(u).forEach(a=>{u[a].index===!0&&!r.indexNames.contains(a)&&r.createIndex(a,a,{unique:u[a].unique||!1,multiEntry:u[a].type==="array"})})}})}}),g),D=()=>{l&&l.close(),l=null,m=!1,g=null},M=async e=>(g&&await g,D(),C=e.version,y=e.models,$APP.Backend.broadcast({type:"UPDATE_MODELS",payload:{models:y}}),R()),p=async()=>{(!m||!l)&&await R()},S=({model:e,row:o,reverse:n=!1,currentRow:s={}})=>{const i=n?z:E,c=y[e],t={...o};return Object.keys(c).forEach(r=>{r.relationship&&!r.belongs||(o[r]===void 0&&s[r]!==void 0?t[r]=s[r]:(c[r].type==="boolean"&&(t[r]=o[r]?i.true:i.false),t[r]===void 0&&delete t[r]))}),n&&Object.keys(c).forEach(r=>{c[r].type==="boolean"&&(t[r]===E.true?t[r]=!0:t[r]===E.false&&(t[r]=!1))}),t},B=(e,o,n)=>{const s=y[n];return Object.entries(o).every(([i,c])=>{const t=e[i],r=s?.[i];return typeof c=="object"&&c!==null&&!Array.isArray(c)?Object.entries(c).every(([u,a])=>{switch(u){case"$gt":return t>a;case"$gte":return t>=a;case"$lt":return t<a;case"$lte":return t<=a;case"$ne":return t!=a;case"$in":return Array.isArray(a)&&a.includes(t);case"$nin":return Array.isArray(a)&&!a.includes(t);case"$contains":return Array.isArray(t)||typeof t=="string"&&typeof a=="string"?t.includes(a):!1;default:return!1}}):r?.type==="boolean"?!!t==c:r?.type==="array"&&Array.isArray(t)?t.includes(c):t===c})},W=(e,o)=>{const n=y[o],s=e.createObjectStore(o,{keyPath:"id",autoIncrement:!0});Object.keys(n).forEach(i=>{(n[i].index===!0||n[i].unique===!0)&&s.createIndex(i,i,{unique:n[i].unique??!1,multiEntry:n[i].type==="array"})})},F=(e,o)=>{const n=y[o];if(!n||typeof e!="object"||e===null)return null;for(const s in e)if(Object.hasOwn(e,s)&&n[s]?.index)return s;return null},k=async(e,o,n={})=>(await p(),new Promise((s,i)=>{const c=l.transaction(e,"readwrite"),r=c.objectStore(e).put(S({model:e,row:o,currentRow:n.currentRow}));r.onerror=()=>i(new Error(`Failed to put: ${r.error}`)),c.oncomplete=()=>s(r.result)})),_=async(e,o={},{limit:n=0,offset:s=0,order:i=null,keys:c}={})=>(await p(),new Promise((t,r)=>{try{const a=l.transaction(e,"readonly").objectStore(e),d=[],Q=y[e],I=()=>{if(i&&d.length>0){const f=Array.isArray(i)?i:i.split(",").map(b=>b.trim());d.sort((b,U)=>{for(const A of f){let P=1,j=A;A.startsWith("-")?(P=-1,j=A.substring(1).trim()):A.startsWith("+")&&(j=A.substring(1).trim());const q=b[j],v=U[j];if(q===void 0&&v===void 0)return 0;if(q===void 0)return 1*P;if(v===void 0||q<v)return-1*P;if(q>v)return 1*P}return 0})}const w=n>0?d.slice(s,s+n):d.slice(s);t(w.map(f=>S({model:e,row:f,reverse:!0})))};if(Array.isArray(o)){const w=a.openCursor();w.onerror=()=>r(new Error(`Failed to getMany ${e}: ${w.error}`)),w.onsuccess=f=>{const b=f.target.result;b?(o.includes(b.key)&&(!c||c.includes(b.key))&&d.push(b.value),b.continue()):I()};return}let h,T=!1;const x=F(o,e);if(x&&Object.keys(o).length>0){let w=o[x];if(Q[x]?.type==="boolean"&&(w=w?E.true:E.false),w!==void 0)try{h=a.index(x).openCursor(IDBKeyRange.only(w)),T=!0}catch{h=a.openCursor()}else h=a.openCursor()}else h=a.openCursor();h.onerror=()=>r(new Error(`Failed to getMany ${e}: ${h.error}`)),h.onsuccess=w=>{const f=w.target.result;if(f){const b=T?f.primaryKey:f.key;if(c&&!c.includes(b)){f.continue();return}B(f.value,o,e)&&d.push(f.value),f.continue()}else I()}}catch(u){r(new Error(`Failed to start transaction: ${u.message}. Query Props: ${JSON.stringify({storeName:e,limit:n,offset:s,filter:o,order:i,keys:c})}`))}})),J=async(e,o)=>(await p(),new Promise((n,s)=>{if(!o)return n(null);const c=l.transaction(e,"readonly").objectStore(e),t=y[e];if(typeof o=="object"&&!Array.isArray(o)){const r=F(o,e);let u;if(r){let a=o[r];if(t[r]?.type==="boolean"&&(a=a?E.true:E.false),a!==void 0)try{u=c.index(r).openCursor(IDBKeyRange.only(a))}catch{u=c.openCursor()}else u=c.openCursor()}else u=c.openCursor();u.onerror=()=>s(new Error(`Failed to get: ${u.error}`)),u.onsuccess=a=>{const d=a.target.result;d?B(d.value,o,e)?n(S({model:e,row:d.value,reverse:!0})):d.continue():n(null)}}else{if(Array.isArray(o)){s(new Error("Filter for get must be an object or a primary key."));return}const r=c.get(o);r.onerror=()=>s(new Error(`Failed to get: ${r.error}`)),r.onsuccess=()=>n(r.result?S({model:e,row:r.result,reverse:!0}):null)}})),L=async(e,o)=>(await p(),new Promise((n,s)=>{const t=l.transaction(e,"readwrite").objectStore(e).delete(o);t.onerror=()=>s(new Error(`Failed to delete: ${t.error}`)),t.onsuccess=()=>n(!0)})),O=async(e,{filter:o={}}={})=>(await p(),new Promise((n,s)=>{const c=l.transaction(e,"readonly").objectStore(e);if(Object.keys(o).length===0){const t=c.count();t.onerror=()=>s(new Error(`Failed to count: ${t.error}`)),t.onsuccess=()=>n(t.result)}else{const t=c.openCursor();let r=0;t.onerror=()=>s(new Error(`Failed to count: ${t.error}`)),t.onsuccess=u=>{const a=u.target.result;a?(B(a.value,o,e)&&r++,a.continue()):n(r)}}}));return{init:R,transaction:async(e,o="readwrite")=>{await p();const n=l.transaction(e,o);return{transaction:n,put:(s,i,c={})=>new Promise((t,r)=>{const u=n.objectStore(s),a=S({model:s,row:i,currentRow:c.currentRow}),d=u.put(a);d.onsuccess=()=>t(d.result),d.onerror=()=>r(d.error)}),remove:(s,i)=>new Promise((c,t)=>{const u=n.objectStore(s).delete(i);u.onsuccess=()=>c(!0),u.onerror=()=>t(u.error)}),done:()=>new Promise((s,i)=>{n.oncomplete=()=>s(),n.onerror=()=>i(n.error),n.onabort=()=>i(n.error||new Error("Transaction aborted"))}),abort:()=>n.abort()}},getMany:_,prepareRow:S,put:k,get:J,remove:L,reload:M,count:O,isEmpty:async e=>await O(e)===0,clear:async e=>(await p(),new Promise((o,n)=>{const c=l.transaction(e,"readwrite").objectStore(e).clear();c.onerror=()=>n(new Error(`Failed to clear: ${c.error}`)),c.onsuccess=()=>o()})),get db(){return l},close:D,destroy:async()=>{const e=$;return D(),new Promise((o,n)=>{const s=indexedDB.deleteDatabase(e);s.onerror=()=>n(new Error(`Failed to delete database: ${s.error}`)),s.onsuccess=()=>o()})},export:async e=>(await p(),new Promise((o,n)=>{const c=l.transaction(e,"readonly").objectStore(e).getAll();c.onerror=()=>n(new Error(`Failed to export: ${c.error}`)),c.onsuccess=()=>{const t={};c.result&&c.result.forEach(r=>{["string","number"].includes(typeof r.id)&&(t[r.id]=r)}),o(t)}})),import:async(e,o)=>{if(await p(),!Array.isArray(o))throw new Error("No data provided or data is not an array");return o.length===0?Promise.resolve():new Promise((n,s)=>{const i=l.transaction(e,"readwrite"),c=i.objectStore(e);let t=0,r=null;o.forEach(u=>{if(r)return;const a=c.put(u);a.onerror=()=>{r||(r=a.error,i.abort(),s(new Error(`Failed to import: ${r}`)))},a.onsuccess=()=>{r||(t++,o.length)}}),i.oncomplete=()=>{r||n()},i.onerror=()=>{r||s(new Error(`Transaction error during import: ${i.error}`))}})},get isConnected(){return m},get version(){return C},name:$,models:y}}export default{open:G};\n',metaType:"application/javascript"},"/modules/apps/habits/backend.js":{content:`import t from"/bootstrap.js";import e from"/modules/types/index.js";const n={habits:[{id:"habit-1",name:"Exercise"},{id:"habit-2",name:"Read a Book"}]};t.data.set(n),t.models.set({habits:{name:{type:"string",required:!0},checkins:e.many("checkins","habit").$,notes:e.many("notes","habit").$,date:e.string().index().$,$metadata:e.extension().$,$operations:e.extension().$},notes:{habit:e.belongs("habits","checkins").$,notes:e.string().$,date:e.string().index().$,$metadata:e.extension().$,$operations:e.extension().$},checkins:{habit:e.belongs("habits","checkins").$,date:e.string().index().$,$metadata:e.extension().$,$operations:e.extension().$}});
`,metaType:"application/javascript"},"/modules/p2p/backend.js":{content:`import e from"/bootstrap.js";import p from"/modules/mvc/model/backend.js";import u from"/modules/mvc/model/database/index.js";e.events.set({"P2P:LOAD_DATA_OP":async({payload:o})=>{const{model:t,method:s,row:n,id:i}=o;s==="add"&&p[t].add(n,{skipP2PSync:!0,keepIndex:!0}),s==="edit"&&p[t].edit(n,{skipP2PSync:!0,keepIndex:!0}),s==="remove"&&p[t].remove(i,{skipP2PSync:!0})},"P2P:JOIN_APP":async({payload:o,respond:t})=>{const{app:s,db:n}=o,{id:i,models:d,version:a,timestamp:c}=s;if(!i)return t({error:"An 'appId' is required to join an app."});await e.SysModel.editMany(e.settings.sysmodels.APP,{active:!1});let r=await e.SysModel.get(e.settings.sysmodels.APP,{id:i});r?(await e.SysModel.edit(e.settings.sysmodels.APP,{id:i,active:!0}),r=await e.SysModel.get(e.settings.sysmodels.APP,{id:i})):r=await e.Backend.createAppEntry({id:i,models:d,version:a,timestamp:c});const P=await setupAppEnvironment({...r,migrationTimestamp:Date.now()});n&&u.loadDBDump({app:P.app,dump:n}),t(P.app)},"P2P:REGISTER_PEER_CONNECTION":async({payload:o,respond:t})=>{console.log({payload:o});const{appId:s,userId:n,peerId:i}=o,d=await e.SysModel.get(e.settings.sysmodels.APP,{id:s});if(!d)return t({success:!1,error:"App not found"});const a={userId:n,peerId:i,timestamp:Date.now()},c=[...d.connections||[],a];await e.SysModel.edit(e.settings.sysmodels.APP,{id:s,connections:c}),t({success:!0})},"P2P:UNREGISTER_PEER_CONNECTION":async({payload:o,respond:t})=>{const{appId:s,peerId:n}=o;if(console.log({payload:o}),!s||!n)return t({success:!1,error:"Both 'appId' and 'peerId' are required."});const i=await e.SysModel.get(e.settings.sysmodels.APP,{id:s});if(!i)return t({success:!1,error:"App not found"});if(!i.connections||i.connections.length===0)return t({success:!0});const d=i.connections.filter(a=>a.peerId!==n);d.length<i.connections.length&&await e.SysModel.edit(e.settings.sysmodels.APP,{id:s,connections:d}),t({success:!0})}}),e.hooks.set({onAddRecord({model:o,row:t,system:s,opts:n}){n.skipP2PSync||s||e.Backend.broadcast({type:"P2P:SEND_DATA_OP",payload:{method:"add",model:o,row:t}})},onEditRecord({model:o,row:t,system:s,opts:n}){n.skipP2PSync||s||e.Backend.broadcast({type:"P2P:SEND_DATA_OP",payload:{method:"edit",model:o,row:t}})},onRemoveRecord({model:o,id:t,system:s,opts:n}){n.skipP2PSync||s||e.Backend.broadcast({type:"P2P:SEND_DATA_OP",payload:{method:"remove",model:o,id:t}})}});
`,metaType:"application/javascript"},"/modules/uix/display/icon.js":{content:'import r from"/bootstrap.js";import c from"/modules/mvc/view/html/index.js";import e from"/modules/types/index.js";const{Icons:s,theme:n}=r;export default{tag:"uix-icon",style:!0,properties:{name:e.string(),svg:e.string(),solid:e.boolean()},async getIcon(t){if(s[t])this.svg=s[t];else try{const o=await fetch(r.fs.getFilePath(`modules/icon-${n.font.icon.family}/${n.font.icon.family}/${t}.svg`));if(o.ok){const i=await o.text();s.set({[t]:i}),this.svg=i}else console.error(`Failed to fetch icon: ${t}`)}catch(o){console.error(`Error fetching icon: ${t}`,o)}},willUpdate(){this.name&&this.getIcon(this.name)},render(){return this.svg?c.unsafeHTML(this.svg):null}};\n',metaType:"application/javascript"},"/modules/uix/display/card.js":{content:`export default{tag:"uix-card",style:!0};
`,metaType:"application/javascript"},"/modules/uix/form/form.js":{content:'import i from"/modules/types/index.js";export default{tag:"uix-form",properties:{method:i.string({defaultValue:"post"}),endpoint:i.string(),submit:i.function(),submitSuccess:i.function(),submitError:i.function()},getFormControls(){return this.querySelectorAll("uix-form-control")},validate(){return[...this.getFormControls()].every(t=>t.reportValidity())},async handleSubmit(e){if(e.preventDefault(),this.submit&&this.submit(),this.submitSuccess&&this.submitSuccess(),!this.validate())return;const t=this.formData(),o=await fetch(this.endpoint,{method:this.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});o.ok||console.error("Form submission failed",o)},reset(){this.getFormControls().forEach(e=>e.formResetCallback?.())},formData(){return Object.fromEntries([...this.getFormControls()].map(t=>[t.name,t?.value()]))},connectedCallback(){const e=this.querySelector(\'uix-button[type="submit"]\');e&&e.addEventListener("click",this.handleSubmit.bind(this)),this.addEventListener("keydown",t=>{t.key==="Enter"&&(t.preventDefault(),this.handleSubmit(t))}),this.addEventListener(`data-retrieved-${this.id}`,t=>this.updateFields(t.detail))},updateFields(e){const t=this.getFormControls();Object.keys(e).forEach(o=>{const s=[...t].find(r=>r.name===o);s&&(s.value=e[o])})}};\n',metaType:"application/javascript"},"/modules/uix/form/join.js":{content:`export default{tag:"uix-join",style:!0};
`,metaType:"application/javascript"},"/modules/uix/form/input.js":{content:'import h from"/modules/mvc/view/html/index.js";import e from"/modules/types/index.js";export default{tag:"uix-input",style:!0,properties:{bind:e.object(),autofocus:e.boolean(),value:e.string(),placeholder:e.string(),name:e.string(),label:e.string(),disabled:e.boolean(),required:e.boolean(),type:e.string({defaultValue:"text",enum:["text","password","email","number","decimal","search","tel","url","checkbox","radio"]}),checked:e.boolean(),selected:e.boolean(),regex:e.string(),maxLength:e.string("infinity"),keydown:e.function(),input:e.function()},connectedCallback(){!this.name&&this.label?this.name=`uix-input-${this.label.toLowerCase().replace(/\\s+/g,"-")}`:this.name||(this.name=`uix-input-${Math.random().toString(36).substr(2,9)}`),this.placeholder=this.placeholder||" "},inputValue(){return this.querySelector("input")?.value},resetValue(){const t=this.querySelector("input");t&&(t.value=null)},_onInput(t){const l=t.target,i=l.type==="checkbox"||l.type==="radio"?l.checked:l.value;this.bind&&this.bind.setValue(i),this.input&&this.input(t)},render(){const{name:t,autofocus:l,value:s,placeholder:i,label:r,disabled:p,required:u,type:n,bind:a,checked:b,selected:f,regex:m,maxLength:$,keydown:g}=this,c=n==="checkbox"||n==="radio";let o="",d=b||f||!1;return a?c?d=!!a.value:o=a.value||"":c||(o=s||""),h`\n        <input\n          name=${t}\n          type=${n}\n          .value=${o}\n          .checked=${d}\n          placeholder=${i}\n          ?autofocus=${l}\n          ?disabled=${p}\n          ?required=${u}\n          pattern=${m}\n					maxLength=${$}\n          @input=${this._onInput.bind(this)}\n          @keydown=${g||null}\n        />      \n        ${r?h`<label for=${t} ?required=${u}>${r}</label>`:""}\n    `}};\n',metaType:"application/javascript"},"/modules/uix/display/button.js":{content:'import r from"/modules/types/index.js";export default{tag:"uix-button",properties:{variant:r.string("default")},extends:"uix-link",style:!0,setVariant(){const{variant:t}=this;this.style.setProperty("--_variant-color-50",`var(--colors-${t}-50)`),this.style.setProperty("--_variant-color-300",`var(--colors-${t}-300)`),this.style.setProperty("--_variant-color-400",`var(--colors-${t}-400)`),this.style.setProperty("--_variant-color-500",`var(--colors-${t}-500)`),this.style.setProperty("--_variant-color-600",`var(--colors-${t}-600)`),this.style.setProperty("--_variant-color-700",`var(--colors-${t}-700)`),this.style.setProperty("--_variant-color-800",`var(--colors-${t}-800)`)},connectedCallback(){this.setVariant()},willUpdate(t){Object.keys(t).includes("variant")&&this.setVariant()}};\n',metaType:"application/javascript"},"/modules/uix/display/stat.js":{content:'import e from"/modules/mvc/view/html/index.js";import t from"/modules/types/index.js";export default{tag:"uix-stat",properties:{label:t.string(),value:t.string(),padding:t.string("lg"),items:t.string("center"),text:t.string("center"),gap:t.string("md")},render(){return e`<span class="center text-6xl text-bold">${this.value}</span>\n								<span class="center text-xl text-medium">${this.label}</span>`}};\n',metaType:"application/javascript"},"/modules/uix/layout/list.js":{content:`import"/modules/mvc/view/html/index.js";import l from"/modules/types/index.js";export default{tag:"uix-list",properties:{multiple:l.boolean(),multipleWithCtrl:l.boolean(),multipleWithShift:l.boolean(),lastSelectedIndex:l.number(),selectedIds:l.array(),onSelectedChanged:l.function(),gap:l.string({defaultValue:"md"}),itemId:l.string(".uix-link"),selectable:l.boolean()},connectedCallback(){this.selectable&&this.addEventListener("click",this.handleClick.bind(this))},disconnectedCallback(){this.selectable&&this.removeEventListener("click",this.handleClick.bind(this))},handleClick:function(d){console.log(this);const e=d.target.closest(".uix-link");if(!e||!this.contains(e))return;d.preventDefault();const s=Array.from(this.qa(".uix-link")),t=s.indexOf(e);if(t!==-1){if(this.multipleWithShift&&d.shiftKey&&this.lastSelectedIndex!==null){const i=Math.min(this.lastSelectedIndex,t),c=Math.max(this.lastSelectedIndex,t);s.slice(i,c+1).forEach(n=>n.setAttribute("selected","")),this.lastSelectedIndex=t,this.updateSelectedIds();return}if(this.multipleWithCtrl){if(d.ctrlKey){e.hasAttribute("selected")?e.removeAttribute("selected"):e.setAttribute("selected",""),this.lastSelectedIndex=t,this.updateSelectedIds();return}s.forEach(i=>i.removeAttribute("selected")),e.hasAttribute("selected")?(e.removeAttribute("selected"),this.lastSelectedIndex=null):(e.setAttribute("selected",""),this.lastSelectedIndex=t),this.updateSelectedIds();return}if(this.multiple){e.hasAttribute("selected")?e.removeAttribute("selected"):e.setAttribute("selected",""),this.lastSelectedIndex=t,this.updateSelectedIds();return}e.hasAttribute("selected")?(s.forEach(i=>i.removeAttribute("selected")),this.lastSelectedIndex=null):(s.forEach(i=>i.removeAttribute("selected")),e.setAttribute("selected",""),this.lastSelectedIndex=t),this.updateSelectedIds()}},updateSelectedIds(){const d=Array.from(this.qa(this.itemId));this.selectedIds=d.reduce((e,s,t)=>(s.hasAttribute("selected")&&e.push(t),e),[]),this.onSelectedChanged&&this.onSelectedChanged(this.selectedIds)}};
`,metaType:"application/javascript"},"/modules/uix/layout/container.js":{content:`export default{tag:"uix-container"};
`,metaType:"application/javascript"},"/modules/app/button.js":{content:`import t from"/modules/mvc/view/html/index.js";import e from"/modules/types/index.js";export default{tag:"app-button",render(){return t\`<div class="fixed bottom-[30px] right-[30px]">
                  <uix-button .float=\${t\`<div class="flex flex-col items-center gap-2">
                                              <theme-darkmode></theme-darkmode>
                                              <app-dev-only>
                                                <template>
                                                  <bundler-button></bundler-button>
                                                </template>
                                              </app-dev-only>
                                              <p2p-button></p2p-button> 
                                            </div>\`} icon="settings"></uix-button>
                </div>\`},properties:{label:e.string("Actions")}};
`,metaType:"application/javascript"},"/modules/uix/display/card.css":{content:`.uix-card{--uix-card-width: auto;--uix-card-padding: var(--uix-container-padding, 0);--uix-card-border-size: var(--uix-container-border-size, 0px);--uix-card-border-radius: var(--radius-md);--uix-card-background-color: #fff;--uix-card-border-color: var( --uix-container-border-color, var(--color-default, #cccccc) );--uix-card-shadow: 0 4px 6px rgba(0, 0, 0, .1);--uix-card-min-height: var(--uix-container-min-height, 50px);--uix-card-gap: var(--uix-container-gap, 0);--uix-card-height: auto;--uix-card-justify: var(--uix-container-justify, flex-start);--uix-card-align-items: var(--uix-container-align-items, stretch);--uix-card-overflow: var(--uix-container-overflow, visible);--uix-card-position: var(--uix-container-position, static);--uix-card-list-style-type: var(--uix-container-list-style-type, none);--uix-card-text-color: var(--uix-container-text-color, var(--uix-text-color));border-width:var(--uix-card-border-size);border-radius:var(--uix-card-border-radius);background-color:var(--uix-card-background-color);border-color:var(--uix-card-border-color);box-shadow:var(--uix-card-shadow);list-style-type:var(--uix-card-list-style-type);color:var(--uix-card-text-color);&[clickable],&[clickable] *{cursor:pointer}>:last-child.uix-join{margin-left:calc(-1 * var(--uix-card-padding));margin-right:calc(-1 * var(--uix-card-padding));margin-bottom:calc(-1 * var(--uix-card-padding));padding-bottom:0;border-radius:var(--uix-card-border-radius)!important;.uix-button{border-radius:0!important;&:last-child{border-bottom-right-radius:var(--uix-card-border-radius)!important}&:first-child{border-right-width:0;border-bottom-left-radius:var(--uix-card-border-radius)!important}}}&[horizontal]>:last-child.uix-join{margin-top:calc(-1 * var(--uix-card-padding));margin-bottom:calc(-1 * var(--uix-card-padding));margin-right:0;padding-right:0}}
`,metaType:"text/css"},"/modules/uix/form/join.css":{content:`.uix-join{display:flex;flex-direction:row;--uix-join-item-border-radius: var(--radius-md);>.uix-input,>.uix-button{margin:var(--uix-join-item-margin, 0);border-radius:0;border-right-width:0;&:not(:first-child){border-left-width:0}&:not(:last-child){border-right-width:0}&:first-child{border-top-left-radius:var(--uix-join-item-border-radius);border-bottom-left-radius:var(--uix-join-item-border-radius)}&:last-child{border-top-right-radius:var(--uix-join-item-border-radius);border-bottom-right-radius:var(--uix-join-item-border-radius)}&:not(:first-child){margin-left:calc(var(--uix-join-item-border-width, 1px) * -1)}}&[vertical]{flex-direction:column}}
`,metaType:"text/css"},"/modules/uix/display/link.js":{content:`import n from"/modules/mvc/view/html/index.js";import l from"/modules/router/index.js";import t from"/modules/types/index.js";export default{tag:"uix-link",style:!0,properties:{content:t.object(),context:t.object(),external:t.boolean(),selectable:t.boolean(),skipRoute:t.boolean(),hideLabel:t.boolean(),accordion:t.boolean(),float:t.object(),tab:t.boolean(),tooltip:t.boolean(),dropdown:t.boolean(),direction:t.string(),name:t.string(),alt:t.string(),label:t.string(),type:t.string(),href:t.string(),related:t.string(),icon:t.string(),active:t.boolean(),reverse:t.boolean(),vertical:t.boolean(),selected:t.boolean(),floatOpen:t.boolean(),click:t.function(),confirmation:t.string()},connectedCallback(){this.context&&this.addEventListener("contextmenu",this.handleContextMenu)},defaultOnClick(e){const i=e.currentTarget,o=this.href&&i.origin===window.location.origin&&!this.external,s=this.dropdown||this.accordion||this.tab;if((!this.href||o||s||this.float)&&e.preventDefault(),this.float)return this.toggleAttribute("floatOpen");if(o){s?l.push([i.pathname,i.search].filter(Boolean).join("")):l.go([i.pathname,i.search].filter(Boolean).join(""));return}this.click&&i.type!=="submit"&&(this.confirmation?window.confirm(this.confirmation)&&this.click(e):this.click(e)),this.dropdown&&(this.q("[dropdown]").toggleAttribute("selected"),this.selected?(document.removeEventListener("click",this.handleOutsideClick),document.removeEventListener("keydown",this.handleEscKey)):(document.addEventListener("click",this.handleOutsideClick),document.addEventListener("keydown",this.handleEscKey)),this.toggleAttribute("selected"))},handleContextMenu(e){e.preventDefault();const i=this.q("[context]");i&&(i.getAttribute("open")===null?(document.addEventListener("click",this.handleOutsideClick),document.addEventListener("keydown",this.handleEscKey)):(document.removeEventListener("click",this.handleOutsideClick),document.removeEventListener("keydown",this.handleEscKey)),i.toggleAttribute("open"))},disconnectedCallback(){this.context&&this.removeEventListener("contextmenu",this.handleContextMenu),this.dropdown&&(document.removeEventListener("click",this.handleOutsideClick),document.removeEventListener("keydown",this.handleEscKey))},handleOutsideClick(e){this.dropdown&&(!this.contains(e.target)||this.q("[dropdown]").contains(e.target))&&this.removeAttribute("selected"),this.context&&(!this.contains(e.target)||this.q("[context]").contains(e.target))&&this.q("[context]").removeAttribute("open")},handleEscKey(e){e.key==="Escape"&&(this.dropdown&&this.removeAttribute("selected"),this.context&&this.q("[context]").removeAttribute("open"))},render(){return n\`<a
							class=\${this.icon?"uix-text-icon__element":void 0}
							content
							href=\${this.href}
							@click=\${this.defaultOnClick.bind(this)}
							?reverse=\${this.reverse}
							?vertical=\${this.vertical}
							related=\${this.related}
							name=\${this.name||this.label}
							alt=\${this.alt||this.label||this.name}
							padding=\${this.padding}
							gap=\${this.gap}
							type=\${this.type}
						>
							\${this.icon?n\`<uix-icon
										name=\${this.icon}
										alt=\${this.alt||this.label||this.name}
										size=\${this.iconSize||this.size}
									></uix-icon>\`:""}
							\${this.hideLabel?null:this.label}
						</a>
						\${this.dropdown?n\`
					<div dropdown>
						\${this.dropdown}
					</div>\`:null}
					\${this.context?n\`
					<div context>
						\${this.context}
					</div>\`:null}
						\${this.accordion?n\`
					<div accordion>
						\${this.accordion}
					</div>\`:null}
					\${this.tooltip?n\`
					<div tooltip>
						\${this.tooltip===!0?this.label:this.tooltip}
					</div>\`:null}

						\${this.float?n\`
					<div float>
						\${this.float}
					</div>\`:null}
        \`}};
`,metaType:"application/javascript"},"/modules/uix/form/input.css":{content:`.uix-input{position:relative;display:flex;width:100%;height:var(--uix-input-height);border-radius:var(--uix-input-borderRadius);border:var(--uix-input-borderWidth) solid var(--uix-input-borderColor);font-size:var(--uix-input-fontSize);background-color:var(--uix-input-backgroundColor);color:var(--uix-input-textColor);transition:var(--uix-transition);input[type=text],input[type=password],input[type=email],input[type=number],input[type=decimal],input[type=search],input[type=tel],input[type=url]{width:100%;height:100%;outline:none;color:var(--uix-input-textColor);background-color:transparent;padding:var(--uix-input-paddingY) var(--uix-input-paddingX);border:0;&::placeholder{color:transparent}&:focus::placeholder{color:var(--uix-input-placeholderColor)}}label{position:absolute;left:var(--uix-input-paddingX);top:50%;transform:translateY(-50%);font-weight:var(--uix-input-labelFontWeight);color:var(--uix-input-labelColor);background-color:var(--uix-input-backgroundColor);padding:0 4px;transition:all .2s ease-in-out;pointer-events:none;&[required]:after{content:"*";color:var(--colors-danger-500);margin-left:2px}}input:focus+label,input:not(:placeholder-shown)+label{top:0;font-size:var(--uix-input-labelFontSize)}&:focus-within{border-color:var(--uix-input-focusRingColor);box-shadow:0 0 0 var(--uix-input-focusRingWidth) var(--uix-input-focusRingColor)}&[disabled]{cursor:not-allowed;opacity:var(--uix-input-disabledOpacity);input+label{cursor:not-allowed}}input:focus,input:focus-visible{outline:none}&[type=checkbox],&[type=radio]{border:0;height:auto;width:auto;background-color:transparent;box-shadow:none;align-items:center;gap:.75rem;cursor:pointer;label{position:static;transform:none;background-color:transparent;padding:0;cursor:pointer;font-weight:var(--fontWeight-normal);order:2;pointer-events:auto}input{appearance:none;-webkit-appearance:none;width:var(--uix-input-checkboxSize);height:var(--uix-input-checkboxSize);margin:0;border:var(--uix-input-borderWidth) solid var(--uix-input-borderColor);border-radius:var(--uix-input-checkboxBorderRadius);background-color:var(--uix-input-backgroundColor);cursor:pointer;position:relative;transition:var(--uix-transition);&:after{content:"";position:absolute;display:none;left:50%;top:50%}&:checked{background-color:var(--uix-input-checkboxCheckedBg);border-color:var(--uix-input-checkboxCheckedBg);&:after{display:block}}&:focus-visible{box-shadow:0 0 0 var(--uix-input-focusRingWidth) var(--uix-input-focusRingColor);border-color:var(--uix-input-focusRingColor)}}}&[type=checkbox] input:after{width:.375rem;height:.75rem;border:solid var(--uix-input-checkboxCheckColor);border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}&[type=radio] input{border-radius:var(--borderRadius-full);&:after{width:calc(var(--uix-input-checkboxSize) / 2);height:calc(var(--uix-input-checkboxSize) / 2);border-radius:var(--borderRadius-full);background-color:var(--uix-input-checkboxCheckColor);transform:translate(-50%,-50%)}}}
`,metaType:"text/css"},"/modules/icon-lucide/lucide/calendar-heart.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 10h18V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7M8 2v4m8-4v4"/><path d="M21.29 14.7a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34l-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53c-.95.94-1 2.53.2 3.74L17.5 22l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z"/></g></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/circle-plus.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 12h8m-4-4v8"/></g></svg>',metaType:"image/svg+xml"},"/modules/router/index.js":{content:'import o from"/bootstrap.js";import u from"/modules/mvc/controller/frontend.js";import p from"/modules/mvc/view/html/index.js";class h{static stack=[];static routes={};static init(t,e){if(!Object.keys(t).length)return console.error("Error: no routes loaded");this.routes=t,this.defaultTitle=e,window.addEventListener("popstate",()=>{const s=window.location.pathname+window.location.search;this.handleHistoryNavigation(s)}),this.setCurrentRoute(window.location.pathname+window.location.search,!0)}static handleHistoryNavigation(t){const e=this.stack.findIndex(s=>this.normalizePath(s.path)===this.normalizePath(t));if(e!==-1){this.truncateStack(e);const s=this.matchRoute(t);s&&this.updateCurrentRouteInRam(s)}else this.setCurrentRoute(t,!0)}static go(t){this.setCurrentRoute(t,!0)}static home(){this.stack=[],this.go("/")}static back(){if(this.stack.length<=1){this.home();return}this.stack=this.stack.slice(0,-1),window.history.back()}static pushToStack(t,e={},s=this.defaultTitle){t==="/"?this.stack=[]:this.stack.push({path:t,params:e,title:s})}static isRoot(){return this.stack.length===0}static truncateStack(t=0){t>=this.stack.length||(this.stack=this.stack.slice(0,t+1))}static normalizePath(t="/"){return((t.includes("url=")?t.split("url=")[1]:t.split("?")[0])||"/").replace(/\\/+$/,"")}static push(t,e={}){window.history.pushState(e,"",t);const s=new PopStateEvent("popstate",{state:e});window.dispatchEvent(s)}static setCurrentRoute(t,e=!0){if(!this.routes)return;const s=this.normalizePath(t),i=this.matchRoute(s);if(!i)return this.go("/");this.updateCurrentRouteInRam(i),e&&(this.pushToStack(s,i.params,i.route.title||this.defaultTitle),this.push(t,{path:s}))}static matchRoute(t){const e=t.split("?")[0];if(this.routes[e])return{route:this.routes[e],params:{},path:e};for(const s in this.routes){const i=[],l=s.replace(/:([^/]+)/g,(c,r)=>(i.push(r),"([^/]+)")),m=new RegExp(`^${l.replace(/\\/+$/,"")}$`),a=e.match(m);if(!a)continue;const n={};return i.forEach((c,r)=>{n[c]=a[r+1]}),{route:this.routes[s],params:n,path:e}}return null}static setTitle(t){document.title=t,this.stack.at(-1).title=t,this.currentRoute.route.title=t,u.ram.set("currentRoute",{...this.currentRoute})}static updateCurrentRouteInRam(t){this.currentRoute=t,this.currentRoute.root=this.isRoot(),u.ram.set("currentRoute",this.currentRoute)}}const d=()=>{h.init(o.routes)};o.hooks.add("init",d),o.routes.set({"/":{component:()=>p`<app-index></app-index>`}});export default h;\n',metaType:"application/javascript"},"/modules/uix/display/calendar.js":{content:'import l from"/bootstrap.js";import o from"/modules/mvc/view/html/index.js";import a from"/modules/types/index.js";export default{tag:"uix-calendar",style:!0,properties:{gap:a.string(),month:a.number({defaultValue:new Date().getMonth()}),year:a.number({defaultValue:new Date().getFullYear()}),toggledDays:a.array({defaultValue:[]}),dayContent:a.object(),habit:a.string()},_getCalendarDays(n,r){const s=[],i=(new Date(r,n,1).getDay()+6)%7,h=new Date(r,n+1,0).getDate();for(let t=0;t<i;t++)s.push({day:null,isCurrentMonth:!1});for(let t=1;t<=h;t++)s.push({day:t,isCurrentMonth:!0,date:new Date(r,n,t)});return s},_prevMonth(){this.month===0?(this.month=11,this.year--):this.month--,this.requestUpdate()},_nextMonth(){this.month===11?(this.month=0,this.year++):this.month++,this.requestUpdate()},render(){const n=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],r=this._getCalendarDays(this.month,this.year),s=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long"}).format(new Date(this.year,this.month));return o`\n      <div class="flex justify-between items-center p-2">\n        <uix-icon class="cursor-pointer rounded-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700" name="chevron-left" @click=${()=>this._prevMonth()}></uix-icon>\n        <span class="font-bold text-center">${s}</span>\n        <uix-icon class="cursor-pointer rounded-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700" name="chevron-right" @click=${()=>this._nextMonth()}></uix-icon>\n      </div>\n      <div class="grid grid-cols-7 mt-4" style=${`gap: ${this.gap||"0.5rem"}`}>\n        ${n.map(e=>o`<span class="text-center font-semibold text-sm text-gray-500">${e}</span>`)}\n        ${r.map(e=>{if(!e.isCurrentMonth)return o`<div></div>`;const i=l.Date.formatKey(e.date);return this.dayContent({dateKey:i,toggled:this.toggledDays.includes(i),day:e,habit:this.habit})})}\n      </div>\n    `}};\n',metaType:"application/javascript"},"/modules/uix/overlay/modal.js":{content:'import s from"/modules/mvc/view/html/index.js";import i from"/modules/types/index.js";export default{tag:"uix-modal",style:!0,properties:{label:i.string(),icon:i.string(),open:i.boolean({defaultValue:!1}),content:i.object(),contentFn:i.function(),onclose:i.function(),cta:i.object()},firstUpdated(){const t=this.children[0];t&&t.tagName!=="DIALOG"&&t.addEventListener("click",this.show.bind(this)),this.addEventListener("keydown",this.onKeyDown.bind(this)),this.addEventListener("click",this.onBackdropClick.bind(this))},hide(){this.querySelector("dialog").close(),this.open=!1,this.onclose&&this.onclose()},focusFirstInput(){const e=this.querySelector("dialog").querySelector("input, textarea, select, button");e&&e.focus()},show(t){this.open=!0,this.querySelector("dialog").showModal(),this.focusFirstInput(),t?.stopPropagation()},toggle(t){t?.preventDefault(),this.open?this.hide():this.show()},onKeyDown(t){t.key==="Escape"&&this.hide()},onBackdropClick(t){!window.getSelection().toString()&&t.target===this.querySelector("dialog")&&this.hide()},render(){return s`<dialog ?open=${this.open}>\n									<uix-card variant=${this.variant} size=${this.size} width=${this.size}>\n										<div horizontal items="center" width="full" justify="space-between">\n												<span grow size="lg" transform="uppercase" weight="semibold" icon=${this.icon}>\n														${this.label}\n												</span>\n												<uix-link @click=${this.hide.bind(this)} icon="x"></uix-link>\n										</div>\n										${this.open?this.content??this.contentFn.bind(this)():null}\n									</uix-card>\n								</dialog>\n								${this.cta?s`<div @click=${this.show.bind(this)}>${this.cta}</div>`:null}\n						`}};\n',metaType:"application/javascript"},"/modules/uix/overlay/modal.css":{content:`.uix-modal{--uix-modal-background-color: var(--colors-default-100, #ffffff);--uix-modal-box-shadow: 0 25px 50px -12px rgba(0, 0, 0, .25);--uix-modal-padding: var(--spacing-sm);--uix-modal-dialog-width: var(--sizes-xl);--uix-container-height: auto;background-color:transparent;border:0;dialog{background-color:var( --uix-modal-background-color, var(--colors-default-100, #ffffff) );&[open]{display:flex}position:absolute;margin:auto;z-index:1000;overflow-y:auto;box-sizing:border-box;transition:all .1s ease-in-out;border:0}}
`,metaType:"text/css"},"/modules/uix/display/calendar.css":{content:`.uix-calendar{uix-calendar-day{margin-inline:auto}[calendarDay]{display:inline-block;cursor:pointer;text-align:center;padding:.5rem;background-color:transparent;min-width:30px;&[toggled]{background-color:var(--colors-secondary-200);border-radius:50px}}}
`,metaType:"text/css"},"/modules/uix/display/calendar-day.js":{content:`import a from"/modules/mvc/view/html/index.js";import t from"/modules/types/index.js";export default{tag:"uix-calendar-day",extends:"uix-avatar",properties:{toggled:t.boolean(),day:t.object(),habit:t.string(),dateKey:t.string()},render(){const{day:d,dateKey:e,toggled:i,habit:o}=this;return a\`<uix-link 
										center
										?toggled=\${i}
										calendarDay
										._data=\${{model:"checkins",method:"add"}}
										._map=\${{habit:o,date:e,onclick:i?"$data:remove":"$data:add"}}
									>
										\${d.day}
									</uix-link>
									<uix-overlay y="top" x="right">
										<uix-modal
										icon="message" label="Add notes"										
										.cta=\${a\`<uix-circle
											class="w-4 h-4 bg-green"
											._map=\${{_row:\`$find:@parent.notes:date=\${e}\`,solid:"$boolean:@id"}}
											></uix-circle>\`}
										.content=\${a\`
											<uix-form
												._data=\${{model:"notes",method:"add"}}
												._map=\${{_row:\`$find:@parent.notes:date=\${e}\`,habit:o,date:e,submit:"$data:upsert",submitSuccess:"$closest:uix-modal.hide"}}>
												<uix-join>
													<uix-input name="notes" size="xl"
														._map=\${{_row:\`$find:@parent.notes:date=\${e}\`,value:"@notes"}}></uix-input>
													<uix-button label="ADD" icon="plus" type="submit" size="xl"></uix-button>
												</uix-join>
											</uix-form>\`}>
										</uix-modal>
									</uix-overlay>\`}};
`,metaType:"application/javascript"},"/modules/icon-lucide/lucide/chevron-left.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 18l-6-6l6-6"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/chevron-right.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 18l6-6l-6-6"/></svg>',metaType:"image/svg+xml"},"/modules/uix/display/avatar.js":{content:`import e from"/modules/types/index.js";export default{tag:"uix-avatar",style:!0,properties:{presence:e.string({enum:["online","offline"],reflect:!0}),ring:e.boolean({defaultValue:!1,reflect:!0})}};
`,metaType:"application/javascript"},"/modules/uix/display/link.css":{content:`.uix-link{&[indent]{>a,>button{padding-left:var(--uix-link-indent)}}&[active]:hover{color:var(--uix-link-hover-text-color, var(--colors-primary-400))}&[selectable][selected]{background-color:var(--colors-primary-400)}&:hover{[tooltip]{display:flex}}&[tooltip]{display:inline-block;&:hover{[tooltip]{visibility:visible}}[tooltip]{visibility:hidden;width:120px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1000000000;top:50%;left:100%;transform:translateY(-50%)}}&[position~=top] [tooltip]{bottom:100%;left:50%;transform:translate(-50%)}&[position~=bottom] [tooltip]{top:100%;left:50%;transform:translate(-50%)}&[position~=left] [tooltip]{top:50%;right:100%;transform:translateY(-50%)}&[tooltip],&[dropdown],&[context],&[float]{position:relative}&[dropdown],&[accordion]{flex-direction:column}[float],[dropdown],[accordion],[context]{display:none}&[floatopen] [float]{display:block;position:absolute;bottom:50px;right:30px;width:30px}&[context]{z-index:auto}[dropdown],[context][open]{position:absolute;left:0;top:100%;width:100%;min-width:200px;z-index:1000;background-color:var(--colors-primary-100);box-shadow:0 8px 16px #0003;.uix-link:hover,input{background-color:var(--colors-primary-200)}>.uix-link,input{width:100%}}[context][open]{display:flex}&[selected]{[dropdown],[accordion]{display:flex}}&[vertical]{margin:0 auto}--uix-link-indent: 0;cursor:pointer;a,button{cursor:pointer;padding:var(--uix-link-padding);&:hover{color:var(--uix-link-hover-color, var(--colors-primary-700))}}color:var(--uix-link-text-color, var(--colors-primary-700));font-weight:var(--uix-link-font-weight, 600);width:var(--uix-link-width, auto);.uix-text-icon__element{display:flex;align-items:center;gap:var(--uix-link-icon-gap, .5rem);width:auto;&[reverse][vertical]{flex-direction:column-reverse}&:not([reverse])[vertical]{flex-direction:column}&[reverse]:not([vertical]){flex-direction:row-reverse}&:not([reverse]):not([vertical]){flex-direction:row}}transition:all .3s ease-in-out}
`,metaType:"text/css"},"/modules/uix/display/button.css":{content:`.uix-button{border:var(--uix-button-borderSize, 0) solid var(--uix-button-borderColor);border-radius:var(--uix-button-borderRadius, var(--radius-md));box-shadow:var(--uix-button-shadow);--uix-button-textColor: var(--colors-default-100);width:var(--uix-button-width, "fit-content");>button,>a,>input{display:flex;background-color:var(--uix-button-backgroundColor, black);color:var(--uix-button-textColor);flex-direction:var(--uix-button-direction, row);align-items:var(--uix-button-alignItem, center);font-weight:var(--uix-button-fontWeight, 700);overflow:hidden;border-radius:inherit;gap:var(--uix-button-gap, calc(var(--spacing) * 2));transition:var(--uix-button-transition, background-color .2s ease-in-out);cursor:var(--uix-button-cursor, pointer);height:calc(var(--spacing) * 10);line-height:calc(var(--spacing) * 10);padding:var( --uix-button-padding, calc(var(--spacing) * 2.5) calc(var(--spacing) * 4) );word-break:keep-all;flex-basis:100%;justify-content:var(--uix-text-align, center);&:hover{opacity:var(--uix-button-hover-opacity, 1);color:var(--uix-button-hoverTextColor, var(--uix-button-textColor));background-color:var( --uix-button-hoverBackgroundColor, var(--colors-default-400) )}&:hover:active{opacity:var(--uix-button-hover-opacity, .9)}}.uix-icon,button,input,a{cursor:pointer}&[bordered]{--uix-button-border-size: 1px;--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderColor: var(--_variant-color-400);--uix-button-textColor: var(--_variant-color-700)}&[ghost]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderSize: 0px;--uix-button-textColor: var(--_variant-color-700)}&[outline]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-textColor: var(--_variant-color-800);--uix-button-borderSize: 1px;--uix-button-borderColor: var(--_variant-color-400)}&[float]{background-color:#000;--uix-button-hoverBackgroundColor: var(--_variant-color-500);--uix-button-textColor: var(--_variant-color-50);--uix-button-borderSize: 0px;--uix-button-borderRadius: 9999px;--uix-button-width: var(--uix-button-height);box-shadow:var(--shadow-md, 0 4px 6px -1px rgb(0 0 0 / .1));--uix-button-padding: .5rem}&[float]:hover{box-shadow:var(--shadow-lg, 0 10px 15px -3px rgb(0 0 0 / .1))}}
`,metaType:"text/css"},"/modules/theme/darkmode.js":{content:`import"/modules/mvc/view/html/index.js";import t from"/modules/types/index.js";export default{tag:"theme-darkmode",extends:"uix-button",icons:["moon","sun"],properties:{width:t.string({defaultValue:"fit"}),darkmode:t.boolean({sync:"local",defaultValue:!0})},click(o){o.stopPropagation(),document.documentElement.classList.toggle("dark"),this.darkmode=!this.darkmode,this.icon=this.darkmode?"moon":"sun"},connectedCallback(){this.icon=this.darkmode?"sun":"moon",this.darkmode&&document.documentElement.classList.add("dark")}};
`,metaType:"application/javascript"},"/modules/app/dev-only.js":{content:`import t from"/bootstrap.js";export default{tag:"app-dev-only",connectedCallback(){if(t.settings.dev){const e=this.querySelector("template");e&&this.append(e.content.cloneNode(!0))}}};
`,metaType:"application/javascript"},"/modules/p2p/button.js":{content:'import u from"/bootstrap.js";import r from"/modules/mvc/controller/frontend.js";import s from"/modules/mvc/view/html/index.js";import c from"/modules/p2p/trystero.js";import a from"/modules/types/index.js";const h={SYNC_DATA_OP:({payload:e})=>{console.log({payload:e}),r.backend("P2P:LOAD_DATA_OP",e)},REQUEST_TO_JOIN:({payload:e,peerId:t,component:o})=>{const{deviceId:n}=e;if(console.log(`Received join request from peer ${t} with device ID ${n}`),o.currentApp?.connections?.some(i=>i.deviceId===n))console.log(`Auto-approving known device: ${n}`),o.projectRoom.sendEvent({type:"RECONNECT_APPROVED"},t);else{if(console.log(`Device ${n} is not trusted. Awaiting manual approval.`),o.connectionRequests.some(i=>i.peerId===t))return;o.connectionRequests=[...o.connectionRequests,{peerId:t,deviceId:n}]}},JOIN_APPROVED:async({payload:e,peerId:t})=>{console.log(`Join request approved by ${t}. Receiving DB dump.`),await r.backend("P2P:JOIN_APP",e),window.location.reload()},RECONNECT_APPROVED:({peerId:e})=>{console.log(`Reconnection approved by ${e}.`),alert("Reconnected to project successfully!")},JOIN_DENIED:({peerId:e,component:t})=>{console.log(`Join request denied by ${e}.`),alert("Your request to join the project was denied. Leaving room."),t.projectRoom?.room.leave(),t.projectRoom=null},DATA_OPERATION:({payload:e,peerId:t})=>{console.log(`Received DATA_OPERATION from peer ${t}:`,e)}};export default{tag:"p2p-button",properties:{apps:a.array({defaultValue:[]}),currentApp:a.object({defaultValue:null}),projectRoom:a.object(),peerCount:a.number({defaultValue:0}),connectionRequests:a.array({defaultValue:[],sync:"local"}),joinAppId:a.string({defaultValue:""}),isLoading:a.boolean({defaultValue:!0})},async firstUpdated(){this.isLoading=!0,[this.apps,this.currentApp]=await Promise.all([r.backend("LIST_APPS"),r.backend("GET_CURRENT_APP")]),this.isLoading=!1,this.currentApp?.id&&c&&this._joinRoom(this.currentApp.id,!0)},_joinRoom(e,t=!1){if(!e||!c)return;console.log("JOIN ROOM",e),this.peerCount=0,this.connectionRequests=[];const o=c.joinRoom({appId:e},e),[n,l]=o.makeAction("event");this.sendEvent=n,l((i,d)=>{const p=h[i.type];p?p({payload:i.payload,peerId:d,component:this}):console.warn(`No handler found for event type: ${i.type}`)}),o.onPeerJoin(i=>{this.peerCount=Object.keys(o.getPeers()).length,t||(console.log(`Requesting to join room ${e}...`),n({type:"REQUEST_TO_JOIN",payload:{deviceId:u.about.device.id}}))}),o.onPeerLeave(i=>{this.peerCount=Object.keys(o.getPeers()).length,this.connectionRequests=this.connectionRequests.filter(d=>d.peerId!==i)}),this.projectRoom={room:o,sendEvent:n,appId:e}},async _handleApproveRequest(e){console.log(`Approving request for peer ${e.peerId} with device ${e.deviceId}`),await r.backend("P2P:REGISTER_PEER_CONNECTION",{appId:this.currentApp.id,deviceId:e.deviceId});const t=await r.backend("GET_DB_DUMP");this.projectRoom.sendEvent({type:"JOIN_APPROVED",payload:{app:this.currentApp,db:t}},e.peerId),this.currentApp.connections?.some(o=>o.deviceId===e.deviceId)||(this.currentApp.connections=[...this.currentApp.connections||[],{deviceId:e.deviceId}]),this.connectionRequests=this.connectionRequests.filter(o=>o.peerId!==e.peerId)},_handleDenyRequest(e){console.log(`Denying request from ${e.peerId}`),this.projectRoom.sendEvent({type:"JOIN_DENIED",payload:{}},e.peerId),this.connectionRequests=this.connectionRequests.filter(t=>t.peerId!==e.peerId)},_handleJoinApp(){const e=this.joinAppId;e&&this._joinRoom(e,!1)},async _handleSelectApp(e){e&&e!==this.currentApp?.id&&(await r.backend("SELECT_APP",{appId:e}),window.location.reload())},async _handleCreateApp(){await r.backend("CREATE_APP"),window.location.reload()},_handleSendDataOperation(){if(!this.projectRoom||this.peerCount===0)return;const e={timestamp:Date.now(),operation:"CREATE_ITEM",data:{id:`item-${Math.random().toString(36).substr(2,9)}`,value:"hello world"}};this.projectRoom.sendEvent({type:"DATA_OPERATION",payload:e})},connectedCallback(){u.p2p.on("SEND_DATA_OP",e=>{this.sendEvent&&this.sendEvent({type:"SYNC_DATA_OP",payload:e})}),r.backend("START_SYNC_DATA")},disconnectedCallback(){r.backend("STOP_SYNC_DATA")},render(){const e=this.peerCount>0,t=e?`Connected to ${this.peerCount} peer(s)`:"Offline",o=s`\n      <div class="flex flex-col gap-4 p-4 w-[640px]">\n        <p class="text-lg">Project ID: <strong class="font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">#${this.currentApp?.id}</strong></p>\n        <p class="text-sm text-gray-500 flex items-center gap-2">Status: ${t} <uix-icon name=${e?"users":"cloud-off"}></uix-icon></p>\n        \n        ${this.projectRoom?s`\n          <hr class="my-2 border-gray-200 dark:border-gray-700" />\n          <h6 class="font-semibold">Test Data Sync</h6>\n          <uix-button\n            class="rounded-md bg-gray-200 dark:bg-gray-700 text-black dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"\n            label="Send Data Operation"\n            icon="send"\n            .click=${this._handleSendDataOperation.bind(this)}\n            .disabled=${!e}\n            title=${e?"Send a sample data operation":"Must be connected to another peer to send data"}\n          ></uix-button>\n        `:""}\n        ${this.connectionRequests.length>0?s`\n          <hr class="my-2 border-gray-200 dark:border-gray-700" />\n          <h6 class="font-semibold">Connection Requests</h6>\n          <div class="flex flex-col gap-2">\n            ${this.connectionRequests.map(n=>s`\n              <div class="p-2 bg-gray-100 dark:bg-gray-800 rounded-md flex flex-col gap-2">\n                <p>Request from: <strong class="font-mono">${n.peerId.slice(0,8)}...</strong></p>\n                <div class="flex justify-end gap-2">\n                  <uix-button class="text-xs px-2 py-1 rounded-md bg-red-600 hover:bg-red-700 text-white" .click=${()=>this._handleDenyRequest(n)} label="Deny"></uix-button>\n                  <uix-button class="text-xs px-2 py-1 rounded-md bg-green-600 hover:bg-green-700 text-white" .click=${()=>this._handleApproveRequest(n)} label="Approve"></uix-button>\n                </div>\n              </div>\n            `)}\n          </div>\n        `:""}\n\n        <hr class="my-2 border-gray-200 dark:border-gray-700" />\n        <h6 class="font-semibold">My Projects</h6>\n        ${this.isLoading?s`<uix-spinner></uix-spinner>`:s`\n          <div class="flex flex-col gap-2">\n            ${this.apps.map(n=>s`\n              <uix-button\n                class="w-full text-left px-3 py-2 rounded-md ${n.id===this.currentApp?.id?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-black dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600"}"\n                .click=${()=>this._handleSelectApp(n.id)}\n                label=${`Project ${n.id.slice(0,12)}...`}\n              ></uix-button>\n            `)}\n          </div>\n        `}\n\n        <hr class="my-2 border-gray-200 dark:border-gray-700" />\n        <h6 class="font-semibold">Join a Project</h6>\n        <uix-join class="flex">\n          <uix-input\n            class="flex-grow border rounded-md dark:bg-gray-800 dark:border-gray-600"\n            label="Enter Project ID to join"\n            .bind=${this.prop("joinAppId")}            \n          ></uix-input>\n          <uix-button\n            class="px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-black dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"\n            .click=${this._handleJoinApp.bind(this)}\n            label="Join"\n            icon="log-in"\n            .disabled=${!this.joinAppId}\n          ></uix-button>\n				</uix-join>\n\n        <hr class="my-2 border-gray-200 dark:border-gray-700" />\n        <uix-button class="w-full px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white" .click=${this._handleCreateApp} label="Create New Project" icon="plus"></uix-button>\n      </div>\n    `;return s`\n        <uix-modal\n          .content=${o}\n          .cta=${s`<uix-button icon="wifi"></uix-button>`}\n        ></uix-modal>\n    `}};\n',metaType:"application/javascript"},"/modules/icon-lucide/lucide/trash.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/x.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 6L6 18M6 6l12 12"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/message-square-text.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2zm-8-7H7m10 4H7"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/settings.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2"/><circle cx="12" cy="12" r="3"/></g></svg>',metaType:"image/svg+xml"},"/modules/uix/display/avatar.css":{content:`.uix-avatar{>:not(uix-overlay){width:var(--uix-avatar-width);height:var(--uix-avatar-height);border-radius:var(--uix-avatar-border-radius);background-color:var(--uix-avatar-background-color)}&[ring]{box-shadow:0 0 0 var(--uix-avatar-ring-width) var(--uix-avatar-ring)}>img{width:100%;height:100%;object-fit:cover}>uix-overlay{position:absolute;z-index:100;--tx: 0;--ty: 0;transform:translate(var(--tx),var(--ty));cursor:pointer;text-align:center;background:transparent}>uix-overlay[y=top]{top:0%}>uix-overlay[y=bottom]{bottom:0%}>uix-overlay[y=center]{top:50%;--ty: -50%}>uix-overlay[x=left]{left:-5%}>uix-overlay[x=right]{right:0%}>uix-overlay[x=center]{left:50%;--tx: -50%}--uix-avatar-background-color: var(--color-default-30, #d1d5db);--uix-avatar-text: var(--color-default, #000000);--uix-avatar-ring: var(--color-default, #000000);--uix-avatar-ring-width: 2px;--uix-avatar-border-radius: 50%;display:flex;position:relative;justify-content:center;align-items:center;overflow:hidden;color:var(--uix-avatar-text);font-size:calc(var(--uix-avatar-width) / 2.5);font-weight:500;vertical-align:middle;text-align:center;min-width:var(--uix-avatar-width);padding:3px}
`,metaType:"text/css"},"/modules/p2p/trystero.js":{content:'const{floor:ft,random:ut}=Math,ee="Trystero",te=(r,i)=>Array(r).fill().map(i),yt="0123456789AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz",Je=r=>te(r,()=>yt[ft(62*ut())]).join(""),G=Je(20),N=Promise.all.bind(Promise),mt=typeof window<"u",{entries:ue,fromEntries:Se,keys:pt}=Object,z=()=>{},j=r=>Error(`${ee}: ${r}`),wt=new TextEncoder,gt=new TextDecoder,Q=r=>wt.encode(r),ye=r=>gt.decode(r),me=(...r)=>r.join("@"),re=JSON.stringify,ne=JSON.parse,pe={},Ae="AES-GCM",Me={},ae=async r=>Me[r]||(Me[r]=Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",Q(r)))).map(i=>i.toString(36)).join("")),ht=async(r,i)=>{const k=crypto.getRandomValues(new Uint8Array(16));return k.join(",")+"$"+(u=await crypto.subtle.encrypt({name:Ae,iv:k},await r,Q(i)),btoa(String.fromCharCode.apply(null,new Uint8Array(u))));var u},bt=async(r,i)=>{const[k,u]=i.split("$");return ye(await crypto.subtle.decrypt({name:Ae,iv:new Uint8Array(k.split(","))},await r,(a=>{const o=atob(a);return new Uint8Array(o.length).map((g,P)=>o.charCodeAt(P)).buffer})(u)))},xe="icegatheringstatechange",qe="offer";var Be=(r,{rtcConfig:i,rtcPolyfill:k,turnConfig:u})=>{const a=new(k||RTCPeerConnection)({iceServers:kt.concat(u||[]),...i}),o={};let g=!1,P=!1,s=null;const y=t=>{t.binaryType="arraybuffer",t.bufferedAmountLowThreshold=65535,t.onmessage=l=>o.data?.(l.data),t.onopen=()=>o.connect?.(),t.onclose=()=>o.close?.(),t.onerror=l=>o.error?.(l)},I=t=>Promise.race([new Promise(l=>{const S=()=>{t.iceGatheringState==="complete"&&(t.removeEventListener(xe,S),l())};t.addEventListener(xe,S),S()}),new Promise(l=>setTimeout(l,5e3))]).then(()=>({type:t.localDescription.type,sdp:t.localDescription.sdp.replace(/a=ice-options:trickle\\s\\n/g,"")}));return r?(s=a.createDataChannel("data"),y(s)):a.ondatachannel=({channel:t})=>{s=t,y(t)},a.onnegotiationneeded=async()=>{try{g=!0,await a.setLocalDescription();const t=await I(a);o.signal?.(t)}catch(t){o.error?.(t)}finally{g=!1}},a.onconnectionstatechange=()=>{["disconnected","failed","closed"].includes(a.connectionState)&&o.close?.()},a.ontrack=t=>{o.track?.(t.track,t.streams[0]),o.stream?.(t.streams[0])},a.onremovestream=t=>o.stream?.(t.stream),r&&(a.canTrickleIceCandidates||a.onnegotiationneeded()),{created:Date.now(),connection:a,get channel(){return s},get isDead(){return a.connectionState==="closed"},async signal(t){if(s?.readyState!=="open"||t.sdp?.includes("a=rtpmap"))try{if(t.type===qe){if(g||a.signalingState!=="stable"&&!P){if(r)return;await N([a.setLocalDescription({type:"rollback"}),a.setRemoteDescription(t)])}else await a.setRemoteDescription(t);await a.setLocalDescription();const l=await I(a);return o.signal?.(l),l}if(t.type==="answer"){P=!0;try{await a.setRemoteDescription(t)}finally{P=!1}}}catch(l){o.error?.(l)}},sendData(t){return s.send(t)},destroy(){s?.close(),a.close(),g=!1,P=!1},setHandlers(t){return Object.assign(o,t)},offerPromise:r?new Promise(t=>o.signal=l=>{l.type===qe&&t(l)}):Promise.resolve(),addStream(t){return t.getTracks().forEach(l=>a.addTrack(l,t))},removeStream(t){return a.getSenders().filter(l=>t.getTracks().includes(l.track)).forEach(l=>a.removeTrack(l))},addTrack(t,l){return a.addTrack(t,l)},removeTrack(t){const l=a.getSenders().find(S=>S.track===t);l&&a.removeTrack(l)},replaceTrack(t,l){const S=a.getSenders().find(V=>V.track===t);if(S)return S.replaceTrack(l)}}};const kt=[...te(3,(r,i)=>`stun:stun${i||""}.l.google.com:19302`),"stun:stun.cloudflare.com:3478"].map(r=>({urls:r})),vt=Object.getPrototypeOf(Uint8Array),K=16369,we=255,Ge="bufferedamountlow",X=r=>"@_"+r,Ne={},De={},ze={},oe={},se={},ie={},Ke={},ge={},Pt=async r=>{if(De[r])return De[r];const i=(await ae(r)).slice(0,20);return De[r]=i,ze[i]=r,i},Ve=async(r,i,k)=>r.send(re({action:"announce",info_hash:await Pt(i),peer_id:G,...k})),We=(r,i,k)=>console.warn(`${ee}: torrent tracker ${k?"failure":"warning"} from ${r} - ${i}`),Tt=(({init:r,subscribe:i,announce:k})=>{const u={};let a,o,g,P=!1;return(s,y,I)=>{const{appId:t}=s;if(u[t]?.[y])return u[t][y];const l={},S={},V=me(ee,t,y),he=ae(V),be=ae(me(V,G)),Xe=(async(c,f,A)=>crypto.subtle.importKey("raw",await crypto.subtle.digest({name:"SHA-256"},Q(`${c}:${f}:${A}`)),{name:Ae},!1,["encrypt","decrypt"]))(s.password||"",t,y),$e=c=>async f=>({type:f.type,sdp:await c(Xe,f.sdp)}),Ee=$e(bt),Ce=$e(ht),Le=()=>Be(!0,s),ke=(c,f,A)=>{S[f]?S[f]!==c&&c.destroy():(S[f]=c,je(c,f),l[f]?.forEach((h,w)=>{w!==A&&h.destroy()}),delete l[f])},ve=(c,f)=>{S[f]===c&&delete S[f]},Ue=c=>(o.push(...te(c,Le)),N(o.splice(0,c).map(f=>f.offerPromise.then(Ce).then(A=>({peer:f,offer:A}))))),Ie=(c,f)=>I?.({error:`incorrect password (${s.password}) when decrypting ${f}`,appId:t,peerId:c,roomId:y}),Ye=c=>async(f,A,h)=>{const[w,J]=await N([he,be]);if(f!==w&&f!==J)return;const{peerId:p,offer:H,answer:M,peer:_}=typeof A=="string"?ne(A):A;if(p!==G&&!S[p])if(!p||H||M){if(H){if(l[p]?.[c]&&G>p)return;const v=Be(!1,s);let O;v.setHandlers({connect(){return ke(v,p,c)},close(){return ve(v,p)}});try{O=await Ee(H)}catch{return void Ie(p,"offer")}if(v.isDead)return;const[D,x]=await N([ae(me(V,p)),v.signal(O)]);h(D,re({peerId:G,answer:await Ce(x)}))}else if(M){let T;try{T=await Ee(M)}catch{return void Ie(p,"answer")}if(_)_.setHandlers({connect(){return ke(_,p,c)},close(){return ve(_,p)}}),_.signal(T);else{const v=l[p]?.[c];v&&!v.isDead&&v.signal(T)}}}else{if(l[p]?.[c])return;const[[{peer:T,offer:v}],O]=await N([Ue(1),ae(me(V,p))]);l[p]||=[],l[p][c]=T,setTimeout(()=>((D,x)=>{if(S[D])return;const Y=l[D]?.[x];Y&&(delete l[D][x],Y.destroy())})(p,c),.9*Pe[c]),T.setHandlers({connect(){return ke(T,p,c)},close(){return ve(T,p)}}),h(O,re({peerId:G,offer:v}))}};if(!s)throw j("requires a config map as the first argument");if(!t&&!s.firebaseApp)throw j("config map is missing appId field");if(!y)throw j("roomId argument required");if(!P){const c=r(s);o=te(20,Le),a=Array.isArray(c)?c:[c],P=!0,g=setInterval(()=>o=o.filter(f=>{const A=Date.now()-f.created<57333;return A||f.destroy(),A}),59052.99)}const Pe=a.map(()=>5333),_e=[],Re=a.map(async(c,f)=>i(await c,await he,await be,Ye(f),Ue));N([he,be]).then(([c,f])=>{const A=async(h,w)=>{const J=await k(h,c,f);typeof J=="number"&&(Pe[w]=J),_e[w]=setTimeout(()=>A(h,w),Pe[w])};Re.forEach(async(h,w)=>{await h,A(await a[w],w)})});let je=z;return u[t]||={},u[t][y]=((c,f,A)=>{const h={},w={},J={},p={},H={},M={},_={},T={onPeerJoin:z,onPeerLeave:z,onPeerStream:z,onPeerTrack:z},v=(e,n)=>(e?Array.isArray(e)?e:[e]:pt(h)).flatMap(d=>{const m=h[d];return m?n(d,m):(console.warn(`${ee}: no peer with id ${d} found`),[])}),O=e=>{h[e]&&(delete h[e],delete p[e],delete H[e],T.onPeerLeave(e),f(e))},D=e=>{if(w[e])return J[e];if(!e)throw j("action type argument is required");const n=Q(e);if(n.byteLength>12)throw j(`action type string "${e}" (${n.byteLength}b) exceeds byte limit (12). Hint: choose a shorter name.`);const d=new Uint8Array(12);d.set(n);let m=0;return w[e]={onComplete:z,onProgress:z,setOnComplete:b=>w[e]={...w[e],onComplete:b},setOnProgress:b=>w[e]={...w[e],onProgress:b},async send(b,L,E,ce){if(E&&typeof E!="object")throw j("action meta argument must be an object");const le=typeof b;if(le==="undefined")throw j("action data cannot be undefined");const de=le!=="string",fe=b instanceof Blob,Z=fe||b instanceof ArrayBuffer||b instanceof vt;if(E&&!Z)throw j("action meta argument can only be used with binary data");const C=Z?new Uint8Array(fe?await b.arrayBuffer():b):Q(de?re(b):b),W=E?Q(re(E)):null,$=Math.ceil(C.byteLength/K)+(E?1:0)||1,F=te($,(Te,U)=>{const q=U===$-1,B=E&&U===0,R=new Uint8Array(15+(B?W.byteLength:q?C.byteLength-K*($-(E?2:1)):K));return R.set(d),R.set([m],12),R.set([q|B<<1|Z<<2|de<<3],13),R.set([Math.round((U+1)/$*we)],14),R.set(E?B?W:C.subarray((U-1)*K,U*K):C.subarray(U*K,(U+1)*K),15),R});return m=m+1&we,N(v(L,async(Te,U)=>{const{channel:q}=U;let B=0;for(;B<$;){const R=F[B];if(q.bufferedAmount>q.bufferedAmountLowThreshold&&await new Promise(dt=>{const Oe=()=>{q.removeEventListener(Ge,Oe),dt()};q.addEventListener(Ge,Oe)}),!h[Te])break;U.sendData(R),B++,ce?.(R[14]/we,Te,E)}}))}},J[e]||=[w[e].send,w[e].setOnComplete,w[e].setOnProgress]},x=(e,n)=>{const d=new Uint8Array(n),m=ye(d.subarray(0,12)).replaceAll("\\0",""),[b]=d.subarray(12,13),[L]=d.subarray(13,14),[E]=d.subarray(14,15),ce=d.subarray(15),le=!!(1&L),de=!!(2&L),fe=!!(4&L),Z=!!(8&L);if(!w[m])return void console.warn(`${ee}: received message with unregistered type (${m})`);p[e]||={},p[e][m]||={};const C=p[e][m][b]||={chunks:[]};if(de?C.meta=ne(ye(ce)):C.chunks.push(ce),w[m].onProgress(E/we,e,C.meta),!le)return;const W=new Uint8Array(C.chunks.reduce(($,F)=>$+F.byteLength,0));if(C.chunks.reduce(($,F)=>(W.set(F,$),$+F.byteLength),0),delete p[e][m][b],fe)w[m].onComplete(W,e,C.meta);else{const $=ye(W);w[m].onComplete(Z?ne($):$,e)}},Y=async()=>{await ct(""),await new Promise(e=>setTimeout(e,99)),ue(h).forEach(([e,n])=>{n.destroy(),delete h[e]}),A()},[Ze,et]=D(X("ping")),[tt,rt]=D(X("pong")),[nt,at]=D(X("signal")),[ot,st]=D(X("stream")),[He,it]=D(X("track")),[ct,lt]=D(X("leave"));return c((e,n)=>{h[n]||(h[n]=e,e.setHandlers({data:d=>x(n,d),stream(d){T.onPeerStream(d,n,M[n]),delete M[n]},track(d,m){T.onPeerTrack(d,m,n,_[n]),delete _[n]},signal:d=>nt(d,n),close:()=>O(n),error(d){console.error(d),O(n)}}),T.onPeerJoin(n),e.drainEarlyData?.(d=>x(n,d)))}),et((e,n)=>tt("",n)),rt((e,n)=>{H[n]?.(),delete H[n]}),at((e,n)=>h[n]?.signal(e)),st((e,n)=>M[n]=e),it((e,n)=>_[n]=e),lt((e,n)=>O(n)),mt&&addEventListener("beforeunload",Y),{makeAction:D,leave:Y,async ping(e){if(!e)throw j("ping() must be called with target peer ID");const n=Date.now();return Ze("",e),await new Promise(d=>H[e]=d),Date.now()-n},getPeers:()=>Se(ue(h).map(([e,n])=>[e,n.connection])),addStream:(e,n,d)=>v(n,async(m,b)=>{d&&await ot(d,m),b.addStream(e)}),removeStream:(e,n)=>v(n,(d,m)=>m.removeStream(e)),addTrack:(e,n,d,m)=>v(d,async(b,L)=>{m&&await He(m,b),L.addTrack(e,n)}),removeTrack:(e,n)=>v(n,(d,m)=>m.removeTrack(e)),replaceTrack:(e,n,d,m)=>v(d,async(b,L)=>{m&&await He(m,b),L.replaceTrack(e,n)}),onPeerJoin:e=>T.onPeerJoin=e,onPeerLeave:e=>T.onPeerLeave=e,onPeerStream:e=>T.onPeerStream=e,onPeerTrack:e=>T.onPeerTrack=e}})(c=>je=c,c=>delete S[c],()=>{delete u[t][y],_e.forEach(clearTimeout),Re.forEach(async c=>(await c)()),clearInterval(g)})}})({init(r){return((i,k,u)=>(i.relayUrls||k).slice(0,i.relayUrls?i.relayUrls.length:i.relayRedundancy||u))(r,Qe,3).map(i=>{const k=((a,o)=>{const g={},P=()=>{const s=new WebSocket(a);s.onclose=()=>{pe[a]??=3333,setTimeout(P,pe[a]),pe[a]*=2},s.onmessage=y=>o(y.data),g.socket=s,g.url=s.url,g.ready=new Promise(y=>s.onopen=()=>{y(g),pe[a]=3333}),g.send=y=>{s.readyState===1&&s.send(y)}};return P(),g})(i,a=>{const o=ne(a),g=o["failure reason"],P=o["warning message"],{interval:s}=o,y=ze[o.info_hash];if(g)We(u,g,!0);else{if(P&&We(u,P),s&&1e3*s>ie[u]&&se[u][y]){const I=Math.min(1e3*s,120333);clearInterval(oe[u][y]),ie[u]=I,oe[u][y]=setInterval(se[u][y],I)}Ke[o.offer_id]||(o.offer||o.answer)&&(Ke[o.offer_id]=!0,ge[u][y]?.(o))}}),{url:u}=k;return Ne[u]=k,ge[u]={},k.ready})},subscribe(r,i,k,u,a){const{url:o}=r,g=async()=>{const P=Se((await a(10)).map(s=>[Je(20),s]));ge[r.url][i]=s=>{if(s.offer)u(i,{offer:s.offer,peerId:s.peer_id},(y,I)=>Ve(r,i,{answer:ne(I).answer,offer_id:s.offer_id,to_peer_id:s.peer_id}));else if(s.answer){const y=P[s.offer_id];y&&u(i,{answer:s.answer,peerId:s.peer_id,peer:y.peer})}},Ve(r,i,{numwant:10,offers:ue(P).map(([s,{offer:y}])=>({offer_id:s,offer:y}))})};return ie[o]=33333,se[o]||={},se[o][i]=g,oe[o]||={},oe[o][i]=setInterval(g,ie[o]),g(),()=>{clearInterval(oe[o][i]),delete ge[o][i],delete se[o][i]}},announce(r){return ie[r.url]}}),St=(Fe=Ne,()=>Se(ue(Fe).map(([r,i])=>[r,i.socket])));var Fe;const Qe=["tracker.webtorrent.dev","tracker.openwebtorrent.com","tracker.btorrent.xyz","tracker.files.fm:7073/announce"].map(r=>"wss://"+r),At={defaultRelayUrls:Qe,getRelaySockets:St,joinRoom:Tt,selfId:G};export default At;\n',metaType:"application/javascript"},"/modules/uix/overlay/overlay.js":{content:`import t from"/modules/types/index.js";export default{tag:"uix-overlay",properties:{x:t.string({defaultValue:"right"}),y:t.string({defaultValue:"bottom"})}};
`,metaType:"application/javascript"},"/modules/apps/bundler/button.js":{content:'import n from"/modules/apps/bundler/frontend.js";import u from"/modules/mvc/controller/frontend.js";import t from"/modules/mvc/view/html/index.js";export default{tag:"bundler-button",extends:"uix-modal",cta:t`<uix-button icon="file-box"></uix-button>`,async bundleAppSPA(){await n.bundleSPA()},async bundleAppSSR(){await u.backend("BUNDLE_APP_SSR")},contentFn(){return t`<uix-list gap="md">\n        <uix-button .click=${this.bundleAppSPA.bind(this)} label="Bundle SPA"></uix-button>\n        <uix-button .click=${this.bundleAppSSR.bind(this)} label="Bundle SSR"></uix-button>\n        <uix-button href="/admin" label="Admin"></uix-button>\n      </uix-list>`}};\n',metaType:"application/javascript"},"/modules/uix/display/circle.js":{content:`import e from"/modules/types/index.js";export default{tag:"uix-circle",style:!0,class:"inline-block align-middle box-border w-4 h-4 rounded-full border-1 border-solid border-gray-900",properties:{solid:e.boolean({defaultValue:!1})}};
`,metaType:"application/javascript"},"/modules/icon-lucide/lucide/moon.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3a6 6 0 0 0 9 9a9 9 0 1 1-9-9"/></svg>',metaType:"image/svg+xml"},"/modules/uix/display/circle.css":{content:`.uix-circle{&:not([solid]){background-color:transparent}}
`,metaType:"text/css"},"/modules/icon-lucide/lucide/wifi.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 20h.01M2 8.82a15 15 0 0 1 20 0M5 12.859a10 10 0 0 1 14 0m-10.5 3.57a5 5 0 0 1 7 0"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/file-box.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M14.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4"/><path d="M14 2v4a2 2 0 0 0 2 2h4M3 13.1a2 2 0 0 0-1 1.76v3.24a2 2 0 0 0 .97 1.78L6 21.7a2 2 0 0 0 2.03.01L11 19.9a2 2 0 0 0 1-1.76V14.9a2 2 0 0 0-.97-1.78L8 11.3a2 2 0 0 0-2.03-.01ZM7 17v5"/><path d="M11.7 14.2L7 17l-4.7-2.8"/></g></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/plus.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7v14"/></svg>',metaType:"image/svg+xml"},"/modules/uix/display/icon.css":{content:`.uix-icon{display:inline-block;vertical-align:middle}&[solid]{stroke:currentColor;fill:currentColor}
`,metaType:"text/css"},"/modules/icon-lucide/lucide/sun.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></g></svg>',metaType:"image/svg+xml"},"/style.css":{content:`@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--un-text-opacity:100%;--un-bg-opacity:100%;--un-border-opacity:100%}}@property --un-text-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-border-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-bg-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-inset-ring-color{syntax:"*";inherits:false;}@property --un-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-inset-shadow-color{syntax:"*";inherits:false;}@property --un-ring-color{syntax:"*";inherits:false;}@property --un-ring-inset{syntax:"*";inherits:false;}@property --un-ring-offset-color{syntax:"*";inherits:false;}@property --un-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0px;}@property --un-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-shadow-color{syntax:"*";inherits:false;}:root,:host{--spacing: .25rem;--font-sans: ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-serif: ui-serif,Georgia,Cambria,"Times New Roman",Times,serif;--font-mono: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif;--font-icon-family: lucide;--colors-black: #000;--colors-white: #fff;--colors-slate-50: oklch(98.4% .003 247.858);--colors-slate-100: oklch(96.8% .007 247.896);--colors-slate-200: oklch(92.9% .013 255.508);--colors-slate-300: oklch(86.9% .022 252.894);--colors-slate-400: oklch(70.4% .04 256.788);--colors-slate-500: oklch(55.4% .046 257.417);--colors-slate-600: oklch(44.6% .043 257.281);--colors-slate-700: oklch(37.2% .044 257.287);--colors-slate-800: oklch(27.9% .041 260.031);--colors-slate-900: oklch(20.8% .042 265.755);--colors-slate-950: oklch(12.9% .042 264.695);--colors-slate-DEFAULT: oklch(70.4% .04 256.788);--colors-gray-50: oklch(98.5% .002 247.839);--colors-gray-100: oklch(96.7% .003 264.542);--colors-gray-200: oklch(92.8% .006 264.531);--colors-gray-300: oklch(87.2% .01 258.338);--colors-gray-400: oklch(70.7% .022 261.325);--colors-gray-500: oklch(55.1% .027 264.364);--colors-gray-600: oklch(44.6% .03 256.802);--colors-gray-700: oklch(37.3% .034 259.733);--colors-gray-800: oklch(27.8% .033 256.848);--colors-gray-900: oklch(21% .034 264.665);--colors-gray-950: oklch(13% .028 261.692);--colors-gray-DEFAULT: oklch(70.7% .022 261.325);--colors-zinc-50: oklch(98.5% 0 0);--colors-zinc-100: oklch(96.7% .001 286.375);--colors-zinc-200: oklch(92% .004 286.32);--colors-zinc-300: oklch(87.1% .006 286.286);--colors-zinc-400: oklch(70.5% .015 286.067);--colors-zinc-500: oklch(55.2% .016 285.938);--colors-zinc-600: oklch(44.2% .017 285.786);--colors-zinc-700: oklch(37% .013 285.805);--colors-zinc-800: oklch(27.4% .006 286.033);--colors-zinc-900: oklch(21% .006 285.885);--colors-zinc-950: oklch(14.1% .005 285.823);--colors-zinc-DEFAULT: oklch(70.5% .015 286.067);--colors-neutral-50: oklch(98.5% 0 0);--colors-neutral-100: oklch(97% 0 0);--colors-neutral-200: oklch(92.2% 0 0);--colors-neutral-300: oklch(87% 0 0);--colors-neutral-400: oklch(70.8% 0 0);--colors-neutral-500: oklch(55.6% 0 0);--colors-neutral-600: oklch(43.9% 0 0);--colors-neutral-700: oklch(37.1% 0 0);--colors-neutral-800: oklch(26.9% 0 0);--colors-neutral-900: oklch(20.5% 0 0);--colors-neutral-950: oklch(14.5% 0 0);--colors-neutral-DEFAULT: oklch(70.8% 0 0);--colors-stone-50: oklch(98.5% .001 106.423);--colors-stone-100: oklch(97% .001 106.424);--colors-stone-200: oklch(92.3% .003 48.717);--colors-stone-300: oklch(86.9% .005 56.366);--colors-stone-400: oklch(70.9% .01 56.259);--colors-stone-500: oklch(55.3% .013 58.071);--colors-stone-600: oklch(44.4% .011 73.639);--colors-stone-700: oklch(37.4% .01 67.558);--colors-stone-800: oklch(26.8% .007 34.298);--colors-stone-900: oklch(21.6% .006 56.043);--colors-stone-950: oklch(14.7% .004 49.25);--colors-stone-DEFAULT: oklch(70.9% .01 56.259);--colors-red-50: oklch(97.1% .013 17.38);--colors-red-100: oklch(93.6% .032 17.717);--colors-red-200: oklch(88.5% .062 18.334);--colors-red-300: oklch(80.8% .114 19.571);--colors-red-400: oklch(70.4% .191 22.216);--colors-red-500: oklch(63.7% .237 25.331);--colors-red-600: oklch(57.7% .245 27.325);--colors-red-700: oklch(50.5% .213 27.518);--colors-red-800: oklch(44.4% .177 26.899);--colors-red-900: oklch(39.6% .141 25.723);--colors-red-950: oklch(25.8% .092 26.042);--colors-red-DEFAULT: oklch(70.4% .191 22.216);--colors-orange-50: oklch(98% .016 73.684);--colors-orange-100: oklch(95.4% .038 75.164);--colors-orange-200: oklch(90.1% .076 70.697);--colors-orange-300: oklch(83.7% .128 66.29);--colors-orange-400: oklch(75% .183 55.934);--colors-orange-500: oklch(70.5% .213 47.604);--colors-orange-600: oklch(64.6% .222 41.116);--colors-orange-700: oklch(55.3% .195 38.402);--colors-orange-800: oklch(47% .157 37.304);--colors-orange-900: oklch(40.8% .123 38.172);--colors-orange-950: oklch(26.6% .079 36.259);--colors-orange-DEFAULT: oklch(75% .183 55.934);--colors-amber-50: oklch(98.7% .022 95.277);--colors-amber-100: oklch(96.2% .059 95.617);--colors-amber-200: oklch(92.4% .12 95.746);--colors-amber-300: oklch(87.9% .169 91.605);--colors-amber-400: oklch(82.8% .189 84.429);--colors-amber-500: oklch(76.9% .188 70.08);--colors-amber-600: oklch(66.6% .179 58.318);--colors-amber-700: oklch(55.5% .163 48.998);--colors-amber-800: oklch(47.3% .137 46.201);--colors-amber-900: oklch(41.4% .112 45.904);--colors-amber-950: oklch(27.9% .077 45.635);--colors-amber-DEFAULT: oklch(82.8% .189 84.429);--colors-yellow-50: oklch(98.7% .026 102.212);--colors-yellow-100: oklch(97.3% .071 103.193);--colors-yellow-200: oklch(94.5% .129 101.54);--colors-yellow-300: oklch(90.5% .182 98.111);--colors-yellow-400: oklch(85.2% .199 91.936);--colors-yellow-500: oklch(79.5% .184 86.047);--colors-yellow-600: oklch(68.1% .162 75.834);--colors-yellow-700: oklch(55.4% .135 66.442);--colors-yellow-800: oklch(47.6% .114 61.907);--colors-yellow-900: oklch(42.1% .095 57.708);--colors-yellow-950: oklch(28.6% .066 53.813);--colors-yellow-DEFAULT: oklch(85.2% .199 91.936);--colors-lime-50: oklch(98.6% .031 120.757);--colors-lime-100: oklch(96.7% .067 122.328);--colors-lime-200: oklch(93.8% .127 124.321);--colors-lime-300: oklch(89.7% .196 126.665);--colors-lime-400: oklch(84.1% .238 128.85);--colors-lime-500: oklch(76.8% .233 130.85);--colors-lime-600: oklch(64.8% .2 131.684);--colors-lime-700: oklch(53.2% .157 131.589);--colors-lime-800: oklch(45.3% .124 130.933);--colors-lime-900: oklch(40.5% .101 131.063);--colors-lime-950: oklch(27.4% .072 132.109);--colors-lime-DEFAULT: oklch(84.1% .238 128.85);--colors-green-50: oklch(98.2% .018 155.826);--colors-green-100: oklch(96.2% .044 156.743);--colors-green-200: oklch(92.5% .084 155.995);--colors-green-300: oklch(87.1% .15 154.449);--colors-green-400: oklch(79.2% .209 151.711);--colors-green-500: oklch(72.3% .219 149.579);--colors-green-600: oklch(62.7% .194 149.214);--colors-green-700: oklch(52.7% .154 150.069);--colors-green-800: oklch(44.8% .119 151.328);--colors-green-900: oklch(39.3% .095 152.535);--colors-green-950: oklch(26.6% .065 152.934);--colors-green-DEFAULT: oklch(79.2% .209 151.711);--colors-emerald-50: oklch(97.9% .021 166.113);--colors-emerald-100: oklch(95% .052 163.051);--colors-emerald-200: oklch(90.5% .093 164.15);--colors-emerald-300: oklch(84.5% .143 164.978);--colors-emerald-400: oklch(76.5% .177 163.223);--colors-emerald-500: oklch(69.6% .17 162.48);--colors-emerald-600: oklch(59.6% .145 163.225);--colors-emerald-700: oklch(50.8% .118 165.612);--colors-emerald-800: oklch(43.2% .095 166.913);--colors-emerald-900: oklch(37.8% .077 168.94);--colors-emerald-950: oklch(26.2% .051 172.552);--colors-emerald-DEFAULT: oklch(76.5% .177 163.223);--colors-teal-50: oklch(98.4% .014 180.72);--colors-teal-100: oklch(95.3% .051 180.801);--colors-teal-200: oklch(91% .096 180.426);--colors-teal-300: oklch(85.5% .138 181.071);--colors-teal-400: oklch(77.7% .152 181.912);--colors-teal-500: oklch(70.4% .14 182.503);--colors-teal-600: oklch(60% .118 184.704);--colors-teal-700: oklch(51.1% .096 186.391);--colors-teal-800: oklch(43.7% .078 188.216);--colors-teal-900: oklch(38.6% .063 188.416);--colors-teal-950: oklch(27.7% .046 192.524);--colors-teal-DEFAULT: oklch(77.7% .152 181.912);--colors-cyan-50: oklch(98.4% .019 200.873);--colors-cyan-100: oklch(95.6% .045 203.388);--colors-cyan-200: oklch(91.7% .08 205.041);--colors-cyan-300: oklch(86.5% .127 207.078);--colors-cyan-400: oklch(78.9% .154 211.53);--colors-cyan-500: oklch(71.5% .143 215.221);--colors-cyan-600: oklch(60.9% .126 221.723);--colors-cyan-700: oklch(52% .105 223.128);--colors-cyan-800: oklch(45% .085 224.283);--colors-cyan-900: oklch(39.8% .07 227.392);--colors-cyan-950: oklch(30.2% .056 229.695);--colors-cyan-DEFAULT: oklch(78.9% .154 211.53);--colors-sky-50: oklch(97.7% .013 236.62);--colors-sky-100: oklch(95.1% .026 236.824);--colors-sky-200: oklch(90.1% .058 230.902);--colors-sky-300: oklch(82.8% .111 230.318);--colors-sky-400: oklch(74.6% .16 232.661);--colors-sky-500: oklch(68.5% .169 237.323);--colors-sky-600: oklch(58.8% .158 241.966);--colors-sky-700: oklch(50% .134 242.749);--colors-sky-800: oklch(44.3% .11 240.79);--colors-sky-900: oklch(39.1% .09 240.876);--colors-sky-950: oklch(29.3% .066 243.157);--colors-sky-DEFAULT: oklch(74.6% .16 232.661);--colors-blue-50: oklch(97% .014 254.604);--colors-blue-100: oklch(93.2% .032 255.585);--colors-blue-200: oklch(88.2% .059 254.128);--colors-blue-300: oklch(80.9% .105 251.813);--colors-blue-400: oklch(70.7% .165 254.624);--colors-blue-500: oklch(62.3% .214 259.815);--colors-blue-600: oklch(54.6% .245 262.881);--colors-blue-700: oklch(48.8% .243 264.376);--colors-blue-800: oklch(42.4% .199 265.638);--colors-blue-900: oklch(37.9% .146 265.522);--colors-blue-950: oklch(28.2% .091 267.935);--colors-blue-DEFAULT: oklch(70.7% .165 254.624);--colors-indigo-50: oklch(96.2% .018 272.314);--colors-indigo-100: oklch(93% .034 272.788);--colors-indigo-200: oklch(87% .065 274.039);--colors-indigo-300: oklch(78.5% .115 274.713);--colors-indigo-400: oklch(67.3% .182 276.935);--colors-indigo-500: oklch(58.5% .233 277.117);--colors-indigo-600: oklch(51.1% .262 276.966);--colors-indigo-700: oklch(45.7% .24 277.023);--colors-indigo-800: oklch(39.8% .195 277.366);--colors-indigo-900: oklch(35.9% .144 278.697);--colors-indigo-950: oklch(25.7% .09 281.288);--colors-indigo-DEFAULT: oklch(67.3% .182 276.935);--colors-violet-50: oklch(96.9% .016 293.756);--colors-violet-100: oklch(94.3% .029 294.588);--colors-violet-200: oklch(89.4% .057 293.283);--colors-violet-300: oklch(81.1% .111 293.571);--colors-violet-400: oklch(70.2% .183 293.541);--colors-violet-500: oklch(60.6% .25 292.717);--colors-violet-600: oklch(54.1% .281 293.009);--colors-violet-700: oklch(49.1% .27 292.581);--colors-violet-800: oklch(43.2% .232 292.759);--colors-violet-900: oklch(38% .189 293.745);--colors-violet-950: oklch(28.3% .141 291.089);--colors-violet-DEFAULT: oklch(70.2% .183 293.541);--colors-purple-50: oklch(97.7% .014 308.299);--colors-purple-100: oklch(94.6% .033 307.174);--colors-purple-200: oklch(90.2% .063 306.703);--colors-purple-300: oklch(82.7% .119 306.383);--colors-purple-400: oklch(71.4% .203 305.504);--colors-purple-500: oklch(62.7% .265 303.9);--colors-purple-600: oklch(55.8% .288 302.321);--colors-purple-700: oklch(49.6% .265 301.924);--colors-purple-800: oklch(43.8% .218 303.724);--colors-purple-900: oklch(38.1% .176 304.987);--colors-purple-950: oklch(29.1% .149 302.717);--colors-purple-DEFAULT: oklch(71.4% .203 305.504);--colors-fuchsia-50: oklch(97.7% .017 320.058);--colors-fuchsia-100: oklch(95.2% .037 318.852);--colors-fuchsia-200: oklch(90.3% .076 319.62);--colors-fuchsia-300: oklch(83.3% .145 321.434);--colors-fuchsia-400: oklch(74% .238 322.16);--colors-fuchsia-500: oklch(66.7% .295 322.15);--colors-fuchsia-600: oklch(59.1% .293 322.896);--colors-fuchsia-700: oklch(51.8% .253 323.949);--colors-fuchsia-800: oklch(45.2% .211 324.591);--colors-fuchsia-900: oklch(40.1% .17 325.612);--colors-fuchsia-950: oklch(29.3% .136 325.661);--colors-fuchsia-DEFAULT: oklch(74% .238 322.16);--colors-pink-50: oklch(97.1% .014 343.198);--colors-pink-100: oklch(94.8% .028 342.258);--colors-pink-200: oklch(89.9% .061 343.231);--colors-pink-300: oklch(82.3% .12 346.018);--colors-pink-400: oklch(71.8% .202 349.761);--colors-pink-500: oklch(65.6% .241 354.308);--colors-pink-600: oklch(59.2% .249 .584);--colors-pink-700: oklch(52.5% .223 3.958);--colors-pink-800: oklch(45.9% .187 3.815);--colors-pink-900: oklch(40.8% .153 2.432);--colors-pink-950: oklch(28.4% .109 3.907);--colors-pink-DEFAULT: oklch(71.8% .202 349.761);--colors-rose-50: oklch(96.9% .015 12.422);--colors-rose-100: oklch(94.1% .03 12.58);--colors-rose-200: oklch(89.2% .058 10.001);--colors-rose-300: oklch(81% .117 11.638);--colors-rose-400: oklch(71.2% .194 13.428);--colors-rose-500: oklch(64.5% .246 16.439);--colors-rose-600: oklch(58.6% .253 17.585);--colors-rose-700: oklch(51.4% .222 16.935);--colors-rose-800: oklch(45.5% .188 13.697);--colors-rose-900: oklch(41% .159 10.272);--colors-rose-950: oklch(27.1% .105 12.094);--colors-rose-DEFAULT: oklch(71.2% .194 13.428);--colors-light-50: oklch(99.4% 0 0);--colors-light-100: oklch(99.11% 0 0);--colors-light-200: oklch(98.51% 0 0);--colors-light-300: oklch(98.16% .0017 247.84);--colors-light-400: oklch(97.31% 0 0);--colors-light-500: oklch(96.12% 0 0);--colors-light-600: oklch(96.32% .0034 247.86);--colors-light-700: oklch(94.17% .0052 247.88);--colors-light-800: oklch(91.09% .007 247.9);--colors-light-900: oklch(90.72% .0051 228.82);--colors-light-950: oklch(89.23% .006 239.83);--colors-light-DEFAULT: oklch(97.31% 0 0);--colors-dark-50: oklch(40.91% 0 0);--colors-dark-100: oklch(35.62% 0 0);--colors-dark-200: oklch(31.71% 0 0);--colors-dark-300: oklch(29.72% 0 0);--colors-dark-400: oklch(25.2% 0 0);--colors-dark-500: oklch(23.93% 0 0);--colors-dark-600: oklch(22.73% .0038 286.09);--colors-dark-700: oklch(22.21% 0 0);--colors-dark-800: oklch(20.9% 0 0);--colors-dark-900: oklch(16.84% 0 0);--colors-dark-950: oklch(13.44% 0 0);--colors-dark-DEFAULT: oklch(25.2% 0 0);--colors-primary-50: hsl(198, 100%, 97%);--colors-primary-100: hsl(198, 100%, 92%);--colors-primary-200: hsl(198, 100%, 84%);--colors-primary-300: hsl(198, 100%, 75%);--colors-primary-400: hsl(198, 100%, 66%);--colors-primary-500: hsl(198, 100%, 55%);--colors-primary-600: hsl(198, 100%, 45%);--colors-primary-700: hsl(198, 100%, 35%);--colors-primary-800: hsl(198, 100%, 24%);--colors-primary-900: hsl(198, 100%, 15%);--colors-primary-DEFAULT: hsl(198, 100%, 55%);--colors-secondary-50: hsl(120, 100%, 97%);--colors-secondary-100: hsl(120, 100%, 92%);--colors-secondary-200: hsl(120, 100%, 84%);--colors-secondary-300: hsl(120, 100%, 75%);--colors-secondary-400: hsl(120, 100%, 66%);--colors-secondary-500: hsl(120, 100%, 55%);--colors-secondary-600: hsl(120, 100%, 45%);--colors-secondary-700: hsl(120, 100%, 35%);--colors-secondary-800: hsl(120, 100%, 24%);--colors-secondary-900: hsl(120, 100%, 15%);--colors-secondary-DEFAULT: hsl(120, 100%, 55%);--colors-tertiary-50: hsl(175, 100%, 97%);--colors-tertiary-100: hsl(175, 100%, 92%);--colors-tertiary-200: hsl(175, 100%, 84%);--colors-tertiary-300: hsl(175, 100%, 75%);--colors-tertiary-400: hsl(175, 100%, 66%);--colors-tertiary-500: hsl(175, 100%, 55%);--colors-tertiary-600: hsl(175, 100%, 45%);--colors-tertiary-700: hsl(175, 100%, 35%);--colors-tertiary-800: hsl(175, 100%, 24%);--colors-tertiary-900: hsl(175, 100%, 15%);--colors-tertiary-DEFAULT: hsl(175, 100%, 55%);--colors-success-50: hsl(149, 87%, 97%);--colors-success-100: hsl(149, 87%, 92%);--colors-success-200: hsl(149, 87%, 84%);--colors-success-300: hsl(149, 87%, 75%);--colors-success-400: hsl(149, 87%, 66%);--colors-success-500: hsl(149, 87%, 55%);--colors-success-600: hsl(149, 87%, 45%);--colors-success-700: hsl(149, 87%, 35%);--colors-success-800: hsl(149, 87%, 24%);--colors-success-900: hsl(149, 87%, 15%);--colors-success-DEFAULT: hsl(149, 87%, 55%);--colors-warning-50: hsl(32, 100%, 97%);--colors-warning-100: hsl(32, 100%, 92%);--colors-warning-200: hsl(32, 100%, 84%);--colors-warning-300: hsl(32, 100%, 75%);--colors-warning-400: hsl(32, 100%, 66%);--colors-warning-500: hsl(32, 100%, 55%);--colors-warning-600: hsl(32, 100%, 45%);--colors-warning-700: hsl(32, 100%, 35%);--colors-warning-800: hsl(32, 100%, 24%);--colors-warning-900: hsl(32, 100%, 15%);--colors-warning-DEFAULT: hsl(32, 100%, 55%);--colors-danger-50: hsl(345, 100%, 97%);--colors-danger-100: hsl(345, 100%, 92%);--colors-danger-200: hsl(345, 100%, 84%);--colors-danger-300: hsl(345, 100%, 75%);--colors-danger-400: hsl(345, 100%, 66%);--colors-danger-500: hsl(345, 100%, 55%);--colors-danger-600: hsl(345, 100%, 45%);--colors-danger-700: hsl(345, 100%, 35%);--colors-danger-800: hsl(345, 100%, 24%);--colors-danger-900: hsl(345, 100%, 15%);--colors-danger-DEFAULT: hsl(345, 100%, 55%);--colors-default-50: hsl(0, 0%, 97%);--colors-default-100: hsl(0, 0%, 92%);--colors-default-200: hsl(0, 0%, 84%);--colors-default-300: hsl(0, 0%, 75%);--colors-default-400: hsl(0, 0%, 66%);--colors-default-500: hsl(0, 0%, 55%);--colors-default-600: hsl(0, 0%, 45%);--colors-default-700: hsl(0, 0%, 35%);--colors-default-800: hsl(0, 0%, 24%);--colors-default-900: hsl(0, 0%, 15%);--colors-default-DEFAULT: hsl(0, 0%, 35%);--colors-surface-50: hsl(0, 0%, 97%);--colors-surface-100: hsl(0, 0%, 92%);--colors-surface-200: hsl(0, 0%, 84%);--colors-surface-300: hsl(0, 0%, 75%);--colors-surface-400: hsl(0, 0%, 66%);--colors-surface-500: hsl(0, 0%, 55%);--colors-surface-600: hsl(0, 0%, 45%);--colors-surface-700: hsl(0, 0%, 35%);--colors-surface-800: hsl(0, 0%, 24%);--colors-surface-900: hsl(0, 0%, 15%);--colors-surface-DEFAULT: hsl(0, 0%, 35%);--text-xs-fontSize: .75rem;--text-xs-lineHeight: 1rem;--text-sm-fontSize: .875rem;--text-sm-lineHeight: 1.25rem;--text-base-fontSize: 1rem;--text-base-lineHeight: 1.5rem;--text-lg-fontSize: 1.125rem;--text-lg-lineHeight: 1.75rem;--text-xl-fontSize: 1.25rem;--text-xl-lineHeight: 1.75rem;--text-2xl-fontSize: 1.5rem;--text-2xl-lineHeight: 2rem;--text-3xl-fontSize: 1.875rem;--text-3xl-lineHeight: 2.25rem;--text-4xl-fontSize: 2.25rem;--text-4xl-lineHeight: 2.5rem;--text-5xl-fontSize: 3rem;--text-5xl-lineHeight: 1;--text-6xl-fontSize: 3.75rem;--text-6xl-lineHeight: 1;--text-7xl-fontSize: 4.5rem;--text-7xl-lineHeight: 1;--text-8xl-fontSize: 6rem;--text-8xl-lineHeight: 1;--text-9xl-fontSize: 8rem;--text-9xl-lineHeight: 1;--text-color: var(--color-surface-100);--fontWeight-thin: 100;--fontWeight-extralight: 200;--fontWeight-light: 300;--fontWeight-normal: 400;--fontWeight-medium: 500;--fontWeight-semibold: 600;--fontWeight-bold: 700;--fontWeight-extrabold: 800;--fontWeight-black: 900;--tracking-tighter: -.05em;--tracking-tight: -.025em;--tracking-normal: 0em;--tracking-wide: .025em;--tracking-wider: .05em;--tracking-widest: .1em;--leading-none: 1;--leading-tight: 1.25;--leading-snug: 1.375;--leading-normal: 1.5;--leading-relaxed: 1.625;--leading-loose: 2;--textStrokeWidth-DEFAULT: 1.5rem;--textStrokeWidth-none: 0;--textStrokeWidth-sm: thin;--textStrokeWidth-md: medium;--textStrokeWidth-lg: thick;--radius-DEFAULT: .25rem;--radius-none: 0;--radius-xs: .125rem;--radius-sm: .25rem;--radius-md: .375rem;--radius-lg: .5rem;--radius-xl: .75rem;--radius-2xl: 1rem;--radius-3xl: 1.5rem;--radius-4xl: 2rem;--ease-linear: linear;--ease-in: cubic-bezier(.4, 0, 1, 1);--ease-out: cubic-bezier(0, 0, .2, 1);--ease-in-out: cubic-bezier(.4, 0, .2, 1);--ease-DEFAULT: cubic-bezier(.4, 0, .2, 1);--blur-DEFAULT: 8px;--blur-xs: 4px;--blur-sm: 8px;--blur-md: 12px;--blur-lg: 16px;--blur-xl: 24px;--blur-2xl: 40px;--blur-3xl: 64px;--perspective-dramatic: 100px;--perspective-near: 300px;--perspective-normal: 500px;--perspective-midrange: 800px;--perspective-distant: 1200px;--default-transition-duration: .15s;--default-transition-timingFunction: cubic-bezier(.4, 0, .2, 1);--default-font-family: var(--font-sans);--default-font-featureSettings: var(--font-sans--font-feature-settings);--default-font-variationSettings: var(--font-sans--font-variation-settings);--default-monoFont-family: var(--font-mono);--default-monoFont-featureSettings: var(--font-mono--font-feature-settings);--default-monoFont-variationSettings: var(--font-mono--font-variation-settings);--container-3xs: 16rem;--container-2xs: 18rem;--container-xs: 20rem;--container-sm: 24rem;--container-md: 28rem;--container-lg: 32rem;--container-xl: 36rem;--container-2xl: 42rem;--container-3xl: 48rem;--container-4xl: 56rem;--container-5xl: 64rem;--container-6xl: 72rem;--container-7xl: 80rem;--container-prose: 65ch;--background-color: var(--colors-primary-100);--borderRadius-sm: .25rem;--borderRadius-md: .5rem;--borderRadius-lg: 1rem;--borderRadius-full: 9999px;--boxShadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--boxShadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--transition-property: all;--transition-duration: .3s;--transition-timingFunction: ease-in-out;--fontSize-sm: .8rem;--fontSize-base: 1rem;--fontSize-lg: 1.2rem;--theme-font-family: "Manrope"}*,:after,:before,::backdrop,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;tab-size:4;font-family:var( --default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" );font-feature-settings:var(--default-font-featureSettings, normal);font-variation-settings:var(--default-font-variationSettings, normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var( --default-monoFont-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace );font-feature-settings:var(--default-monoFont-featureSettings, normal);font-variation-settings:var(--default-monoFont-variationSettings, normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea,::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance: -apple-pay-button)) or (contain-intrinsic-size: 1px){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]),::file-selector-button{appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}.text-2xl{font-size:var(--text-2xl-fontSize);line-height:var(--un-leading, var(--text-2xl-lineHeight))}.text-3xl{font-size:var(--text-3xl-fontSize);line-height:var(--un-leading, var(--text-3xl-lineHeight))}.text-4xl{font-size:var(--text-4xl-fontSize);line-height:var(--un-leading, var(--text-4xl-lineHeight))}.text-6xl{font-size:var(--text-6xl-fontSize);line-height:var(--un-leading, var(--text-6xl-lineHeight))}.text-lg{font-size:var(--text-lg-fontSize);line-height:var(--un-leading, var(--text-lg-lineHeight))}.text-sm{font-size:var(--text-sm-fontSize);line-height:var(--un-leading, var(--text-sm-lineHeight))}.text-xl{font-size:var(--text-xl-fontSize);line-height:var(--un-leading, var(--text-xl-lineHeight))}.dark .dark\\:text-white,.text-white{color:color-mix(in srgb,var(--colors-white) var(--un-text-opacity),transparent)}.text-black{color:color-mix(in srgb,var(--colors-black) var(--un-text-opacity),transparent)}.text-blue-600{color:color-mix(in srgb,var(--colors-blue-600) var(--un-text-opacity),transparent)}.text-gray-500{color:color-mix(in srgb,var(--colors-gray-500) var(--un-text-opacity),transparent)}.text-green-600{color:color-mix(in srgb,var(--colors-green-600) var(--un-text-opacity),transparent)}.text-red-500{color:color-mix(in srgb,var(--colors-red-500) var(--un-text-opacity),transparent)}.hover\\:text-red-700:hover{color:color-mix(in srgb,var(--colors-red-700) var(--un-text-opacity),transparent)}.font-bold{--un-font-weight:var(--fontWeight-bold);font-weight:var(--fontWeight-bold)}.font-mono{font-family:var(--font-mono)}.font-semibold{--un-font-weight:var(--fontWeight-semibold);font-weight:var(--fontWeight-semibold)}.m15{margin:calc(var(--spacing) * 15)}.m9{margin:calc(var(--spacing) * 9)}.mx-auto{margin-inline:auto}.my-2{margin-block:calc(var(--spacing) * 2)}.mt-4{margin-top:calc(var(--spacing) * 4)}.p-2{padding:calc(var(--spacing) * 2)}.p-4{padding:calc(var(--spacing) * 4)}.p-6{padding:calc(var(--spacing) * 6)}.p-8{padding:calc(var(--spacing) * 8)}.px-2{padding-inline:calc(var(--spacing) * 2)}.px-4{padding-inline:calc(var(--spacing) * 4)}.py-1{padding-block:calc(var(--spacing) * 1)}.py-2{padding-block:calc(var(--spacing) * 2)}.text-center{text-align:center}.align-middle{vertical-align:middle}.border,.border-1{border-width:1px}.border-gray-200{border-color:color-mix(in srgb,var(--colors-gray-200) var(--un-border-opacity),transparent)}.border-gray-900{border-color:color-mix(in srgb,var(--colors-gray-900) var(--un-border-opacity),transparent)}.dark .dark\\:border-gray-600{border-color:color-mix(in srgb,var(--colors-gray-600) var(--un-border-opacity),transparent)}.dark .dark\\:border-gray-700{border-color:color-mix(in srgb,var(--colors-gray-700) var(--un-border-opacity),transparent)}.rounded{border-radius:var(--radius-DEFAULT)}.rounded-full{border-radius:calc(infinity * 1px)}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.border-solid{--un-border-style:solid;border-style:solid}.bg-blue-100{background-color:color-mix(in srgb,var(--colors-blue-100) var(--un-bg-opacity),transparent)}.bg-blue-600{background-color:color-mix(in srgb,var(--colors-blue-600) var(--un-bg-opacity),transparent)}.bg-gray-100{background-color:color-mix(in srgb,var(--colors-gray-100) var(--un-bg-opacity),transparent)}.bg-gray-200{background-color:color-mix(in srgb,var(--colors-gray-200) var(--un-bg-opacity),transparent)}.bg-green{background-color:color-mix(in srgb,var(--colors-green-DEFAULT) var(--un-bg-opacity),transparent)}.bg-white{background-color:color-mix(in srgb,var(--colors-white) var(--un-bg-opacity),transparent)}.dark .dark\\:bg-gray-700{background-color:color-mix(in srgb,var(--colors-gray-700) var(--un-bg-opacity),transparent)}.dark .dark\\:bg-gray-800{background-color:color-mix(in srgb,var(--colors-gray-800) var(--un-bg-opacity),transparent)}.dark .dark\\:hover\\:bg-gray-600:hover{background-color:color-mix(in srgb,var(--colors-gray-600) var(--un-bg-opacity),transparent)}.dark .dark\\:hover\\:bg-gray-700:hover{background-color:color-mix(in srgb,var(--colors-gray-700) var(--un-bg-opacity),transparent)}.hover\\:bg-blue-700:hover{background-color:color-mix(in srgb,var(--colors-blue-700) var(--un-bg-opacity),transparent)}.hover\\:bg-gray-100:hover{background-color:color-mix(in srgb,var(--colors-gray-100) var(--un-bg-opacity),transparent)}.hover\\:bg-gray-300:hover{background-color:color-mix(in srgb,var(--colors-gray-300) var(--un-bg-opacity),transparent)}.disabled\\:opacity-50:disabled{opacity:50%}.flex{display:flex}.flex-grow{flex-grow:1}.flex-col{flex-direction:column}.gap-\\[10px\\]{gap:10px}.gap-16{gap:calc(var(--spacing) * 16)}.gap-2{gap:calc(var(--spacing) * 2)}.gap-4{gap:calc(var(--spacing) * 4)}.gap-8{gap:calc(var(--spacing) * 8)}.grid{display:grid}.grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.h-4{height:calc(var(--spacing) * 4)}.max-w-6xl{max-width:var(--container-6xl)}.w-\\[640px\\]{width:640px}.w-4{width:calc(var(--spacing) * 4)}.w-full{width:100%}.inline-block{display:inline-block}.cursor-pointer{cursor:pointer}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.uppercase{text-transform:uppercase}.shadow-md{--un-shadow:0 4px 6px -1px var(--un-shadow-color, rgb(0 0 0 / .1)),0 2px 4px -2px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.items-center{align-items:center}.box-border{box-sizing:border-box}.bottom-\\[30px\\]{bottom:30px}.right-\\[30px\\]{right:30px}.justify-between{justify-content:space-between}.justify-evenly{justify-content:space-evenly}.fixed{position:fixed}@supports (color: color-mix(in lab,red,red)){.dark .dark\\:text-white{color:color-mix(in oklab,var(--colors-white) var(--un-text-opacity),transparent)}.text-black{color:color-mix(in oklab,var(--colors-black) var(--un-text-opacity),transparent)}.text-blue-600{color:color-mix(in oklab,var(--colors-blue-600) var(--un-text-opacity),transparent)}.text-gray-500{color:color-mix(in oklab,var(--colors-gray-500) var(--un-text-opacity),transparent)}.text-green-600{color:color-mix(in oklab,var(--colors-green-600) var(--un-text-opacity),transparent)}.text-red-500{color:color-mix(in oklab,var(--colors-red-500) var(--un-text-opacity),transparent)}.text-white{color:color-mix(in oklab,var(--colors-white) var(--un-text-opacity),transparent)}.hover\\:text-red-700:hover{color:color-mix(in oklab,var(--colors-red-700) var(--un-text-opacity),transparent)}.border-gray-200{border-color:color-mix(in oklab,var(--colors-gray-200) var(--un-border-opacity),transparent)}.border-gray-900{border-color:color-mix(in oklab,var(--colors-gray-900) var(--un-border-opacity),transparent)}.dark .dark\\:border-gray-600{border-color:color-mix(in oklab,var(--colors-gray-600) var(--un-border-opacity),transparent)}.dark .dark\\:border-gray-700{border-color:color-mix(in oklab,var(--colors-gray-700) var(--un-border-opacity),transparent)}.bg-blue-100{background-color:color-mix(in oklab,var(--colors-blue-100) var(--un-bg-opacity),transparent)}.bg-blue-600{background-color:color-mix(in oklab,var(--colors-blue-600) var(--un-bg-opacity),transparent)}.bg-gray-100{background-color:color-mix(in oklab,var(--colors-gray-100) var(--un-bg-opacity),transparent)}.bg-gray-200{background-color:color-mix(in oklab,var(--colors-gray-200) var(--un-bg-opacity),transparent)}.bg-green{background-color:color-mix(in oklab,var(--colors-green-DEFAULT) var(--un-bg-opacity),transparent)}.bg-white{background-color:color-mix(in oklab,var(--colors-white) var(--un-bg-opacity),transparent)}.dark .dark\\:bg-gray-700{background-color:color-mix(in oklab,var(--colors-gray-700) var(--un-bg-opacity),transparent)}.dark .dark\\:bg-gray-800{background-color:color-mix(in oklab,var(--colors-gray-800) var(--un-bg-opacity),transparent)}.dark .dark\\:hover\\:bg-gray-600:hover{background-color:color-mix(in oklab,var(--colors-gray-600) var(--un-bg-opacity),transparent)}.dark .dark\\:hover\\:bg-gray-700:hover{background-color:color-mix(in oklab,var(--colors-gray-700) var(--un-bg-opacity),transparent)}.hover\\:bg-blue-700:hover{background-color:color-mix(in oklab,var(--colors-blue-700) var(--un-bg-opacity),transparent)}.hover\\:bg-gray-100:hover{background-color:color-mix(in oklab,var(--colors-gray-100) var(--un-bg-opacity),transparent)}.hover\\:bg-gray-300:hover{background-color:color-mix(in oklab,var(--colors-gray-300) var(--un-bg-opacity),transparent)}}@font-face{font-family:Manrope;font-weight:200;src:url(/modules/font/manrope/extralight.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:300;src:url(/modules/font/manrope/light.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:500;src:url(/modules/font/manrope/medium.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:400;src:url(/modules/font/manrope/regular.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:600;src:url(/modules/font/manrope/semibold.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:700;src:url(/modules/font/manrope/bold.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:800;src:url(/modules/font/manrope/extrabold.woff2) format("woff2")}body{font-family:var(--font-family)}html,body{font-family:var(--font-family);background-color:var(--background-color)!important;color:var(--text-color)!important;width:100%;min-height:100%;height:100%;padding:0;margin:0}body:not(.production) *:not(:defined){border:1px solid red}.dark{filter:invert(1) hue-rotate(180deg)}.dark img,.dark dialog,.dark video,.dark iframe{filter:invert(1) hue-rotate(180deg)}html{font-size:14px}@media (max-width: 768px){html{font-size:18px}}@media (max-width: 480px){html{font-size:20px}}textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}:root{box-sizing:border-box;-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;line-height:1.2;-webkit-font-smoothing:antialiased}*,*:before,*:after{box-sizing:border-box}*{margin:0}body{-webkit-font-smoothing:antialiased}a{color:currentColor;text-decoration:none;font-family:var(--font-family)}button,textarea,select{background-color:inherit;border-width:0;color:inherit}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{font-family:var(--font-family);overflow-wrap:break-word}dialog::backdrop{background-color:#000c}*::-webkit-scrollbar{width:8px;margin-right:10px}*::-webkit-scrollbar-track{background:transparent}*::-webkit-scrollbar-thumb{&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}border-radius:10px;border:none}*::-webkit-scrollbar-button{background:transparent;color:transparent}*{scrollbar-width:thin;scrollbar-color:transparent transparent;&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}}[full]{width:100%;height:100vh}[w-full]{width:100%}[grow]{flex-grow:1}[hide],.hide{display:none!important}[noscroll]{overflow:hidden}div [container]{display:flex}div [container][horizontal]{display:flex;flex-direction:col}.uix-card{--uix-card-width: auto;--uix-card-padding: var(--uix-container-padding, 0);--uix-card-border-size: var(--uix-container-border-size, 0px);--uix-card-border-radius: var(--radius-md);--uix-card-background-color: #fff;--uix-card-border-color: var( --uix-container-border-color, var(--color-default, #cccccc) );--uix-card-shadow: 0 4px 6px rgba(0, 0, 0, .1);--uix-card-min-height: var(--uix-container-min-height, 50px);--uix-card-gap: var(--uix-container-gap, 0);--uix-card-height: auto;--uix-card-justify: var(--uix-container-justify, flex-start);--uix-card-align-items: var(--uix-container-align-items, stretch);--uix-card-overflow: var(--uix-container-overflow, visible);--uix-card-position: var(--uix-container-position, static);--uix-card-list-style-type: var(--uix-container-list-style-type, none);--uix-card-text-color: var(--uix-container-text-color, var(--uix-text-color));border-width:var(--uix-card-border-size);border-radius:var(--uix-card-border-radius);background-color:var(--uix-card-background-color);border-color:var(--uix-card-border-color);box-shadow:var(--uix-card-shadow);list-style-type:var(--uix-card-list-style-type);color:var(--uix-card-text-color);&[clickable],&[clickable] *{cursor:pointer}>:last-child.uix-join{margin-left:calc(-1 * var(--uix-card-padding));margin-right:calc(-1 * var(--uix-card-padding));margin-bottom:calc(-1 * var(--uix-card-padding));padding-bottom:0;border-radius:var(--uix-card-border-radius)!important;.uix-button{border-radius:0!important;&:last-child{border-bottom-right-radius:var(--uix-card-border-radius)!important}&:first-child{border-right-width:0;border-bottom-left-radius:var(--uix-card-border-radius)!important}}}&[horizontal]>:last-child.uix-join{margin-top:calc(-1 * var(--uix-card-padding));margin-bottom:calc(-1 * var(--uix-card-padding));margin-right:0;padding-right:0}}.uix-join{display:flex;flex-direction:row;--uix-join-item-border-radius: var(--radius-md);>.uix-input,>.uix-button{margin:var(--uix-join-item-margin, 0);border-radius:0;border-right-width:0;&:not(:first-child){border-left-width:0}&:not(:last-child){border-right-width:0}&:first-child{border-top-left-radius:var(--uix-join-item-border-radius);border-bottom-left-radius:var(--uix-join-item-border-radius)}&:last-child{border-top-right-radius:var(--uix-join-item-border-radius);border-bottom-right-radius:var(--uix-join-item-border-radius)}&:not(:first-child){margin-left:calc(var(--uix-join-item-border-width, 1px) * -1)}}&[vertical]{flex-direction:column}}.uix-icon{display:inline-block;vertical-align:middle}&[solid]{stroke:currentColor;fill:currentColor}.uix-input{position:relative;display:flex;width:100%;height:var(--uix-input-height);border-radius:var(--uix-input-borderRadius);border:var(--uix-input-borderWidth) solid var(--uix-input-borderColor);font-size:var(--uix-input-fontSize);background-color:var(--uix-input-backgroundColor);color:var(--uix-input-textColor);transition:var(--uix-transition);input[type=text],input[type=password],input[type=email],input[type=number],input[type=decimal],input[type=search],input[type=tel],input[type=url]{width:100%;height:100%;outline:none;color:var(--uix-input-textColor);background-color:transparent;padding:var(--uix-input-paddingY) var(--uix-input-paddingX);border:0;&::placeholder{color:transparent}&:focus::placeholder{color:var(--uix-input-placeholderColor)}}label{position:absolute;left:var(--uix-input-paddingX);top:50%;transform:translateY(-50%);font-weight:var(--uix-input-labelFontWeight);color:var(--uix-input-labelColor);background-color:var(--uix-input-backgroundColor);padding:0 4px;transition:all .2s ease-in-out;pointer-events:none;&[required]:after{content:"*";color:var(--colors-danger-500);margin-left:2px}}input:focus+label,input:not(:placeholder-shown)+label{top:0;font-size:var(--uix-input-labelFontSize)}&:focus-within{border-color:var(--uix-input-focusRingColor);box-shadow:0 0 0 var(--uix-input-focusRingWidth) var(--uix-input-focusRingColor)}&[disabled]{cursor:not-allowed;opacity:var(--uix-input-disabledOpacity);input+label{cursor:not-allowed}}input:focus,input:focus-visible{outline:none}&[type=checkbox],&[type=radio]{border:0;height:auto;width:auto;background-color:transparent;box-shadow:none;align-items:center;gap:.75rem;cursor:pointer;label{position:static;transform:none;background-color:transparent;padding:0;cursor:pointer;font-weight:var(--fontWeight-normal);order:2;pointer-events:auto}input{appearance:none;-webkit-appearance:none;width:var(--uix-input-checkboxSize);height:var(--uix-input-checkboxSize);margin:0;border:var(--uix-input-borderWidth) solid var(--uix-input-borderColor);border-radius:var(--uix-input-checkboxBorderRadius);background-color:var(--uix-input-backgroundColor);cursor:pointer;position:relative;transition:var(--uix-transition);&:after{content:"";position:absolute;display:none;left:50%;top:50%}&:checked{background-color:var(--uix-input-checkboxCheckedBg);border-color:var(--uix-input-checkboxCheckedBg);&:after{display:block}}&:focus-visible{box-shadow:0 0 0 var(--uix-input-focusRingWidth) var(--uix-input-focusRingColor);border-color:var(--uix-input-focusRingColor)}}}&[type=checkbox] input:after{width:.375rem;height:.75rem;border:solid var(--uix-input-checkboxCheckColor);border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}&[type=radio] input{border-radius:var(--borderRadius-full);&:after{width:calc(var(--uix-input-checkboxSize) / 2);height:calc(var(--uix-input-checkboxSize) / 2);border-radius:var(--borderRadius-full);background-color:var(--uix-input-checkboxCheckColor);transform:translate(-50%,-50%)}}}.uix-calendar{uix-calendar-day{margin-inline:auto}[calendarDay]{display:inline-block;cursor:pointer;text-align:center;padding:.5rem;background-color:transparent;min-width:30px;&[toggled]{background-color:var(--colors-secondary-200);border-radius:50px}}}.uix-modal{--uix-modal-background-color: var(--colors-default-100, #ffffff);--uix-modal-box-shadow: 0 25px 50px -12px rgba(0, 0, 0, .25);--uix-modal-padding: var(--spacing-sm);--uix-modal-dialog-width: var(--sizes-xl);--uix-container-height: auto;background-color:transparent;border:0;dialog{background-color:var( --uix-modal-background-color, var(--colors-default-100, #ffffff) );&[open]{display:flex}position:absolute;margin:auto;z-index:1000;overflow-y:auto;box-sizing:border-box;transition:all .1s ease-in-out;border:0}}.uix-link{&[indent]{>a,>button{padding-left:var(--uix-link-indent)}}&[active]:hover{color:var(--uix-link-hover-text-color, var(--colors-primary-400))}&[selectable][selected]{background-color:var(--colors-primary-400)}&:hover{[tooltip]{display:flex}}&[tooltip]{display:inline-block;&:hover{[tooltip]{visibility:visible}}[tooltip]{visibility:hidden;width:120px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1000000000;top:50%;left:100%;transform:translateY(-50%)}}&[position~=top] [tooltip]{bottom:100%;left:50%;transform:translate(-50%)}&[position~=bottom] [tooltip]{top:100%;left:50%;transform:translate(-50%)}&[position~=left] [tooltip]{top:50%;right:100%;transform:translateY(-50%)}&[tooltip],&[dropdown],&[context],&[float]{position:relative}&[dropdown],&[accordion]{flex-direction:column}[float],[dropdown],[accordion],[context]{display:none}&[floatopen] [float]{display:block;position:absolute;bottom:50px;right:30px;width:30px}&[context]{z-index:auto}[dropdown],[context][open]{position:absolute;left:0;top:100%;width:100%;min-width:200px;z-index:1000;background-color:var(--colors-primary-100);box-shadow:0 8px 16px #0003;.uix-link:hover,input{background-color:var(--colors-primary-200)}>.uix-link,input{width:100%}}[context][open]{display:flex}&[selected]{[dropdown],[accordion]{display:flex}}&[vertical]{margin:0 auto}--uix-link-indent: 0;cursor:pointer;a,button{cursor:pointer;padding:var(--uix-link-padding);&:hover{color:var(--uix-link-hover-color, var(--colors-primary-700))}}color:var(--uix-link-text-color, var(--colors-primary-700));font-weight:var(--uix-link-font-weight, 600);width:var(--uix-link-width, auto);.uix-text-icon__element{display:flex;align-items:center;gap:var(--uix-link-icon-gap, .5rem);width:auto;&[reverse][vertical]{flex-direction:column-reverse}&:not([reverse])[vertical]{flex-direction:column}&[reverse]:not([vertical]){flex-direction:row-reverse}&:not([reverse]):not([vertical]){flex-direction:row}}transition:all .3s ease-in-out}.uix-button{border:var(--uix-button-borderSize, 0) solid var(--uix-button-borderColor);border-radius:var(--uix-button-borderRadius, var(--radius-md));box-shadow:var(--uix-button-shadow);--uix-button-textColor: var(--colors-default-100);width:var(--uix-button-width, "fit-content");>button,>a,>input{display:flex;background-color:var(--uix-button-backgroundColor, black);color:var(--uix-button-textColor);flex-direction:var(--uix-button-direction, row);align-items:var(--uix-button-alignItem, center);font-weight:var(--uix-button-fontWeight, 700);overflow:hidden;border-radius:inherit;gap:var(--uix-button-gap, calc(var(--spacing) * 2));transition:var(--uix-button-transition, background-color .2s ease-in-out);cursor:var(--uix-button-cursor, pointer);height:calc(var(--spacing) * 10);line-height:calc(var(--spacing) * 10);padding:var( --uix-button-padding, calc(var(--spacing) * 2.5) calc(var(--spacing) * 4) );word-break:keep-all;flex-basis:100%;justify-content:var(--uix-text-align, center);&:hover{opacity:var(--uix-button-hover-opacity, 1);color:var(--uix-button-hoverTextColor, var(--uix-button-textColor));background-color:var( --uix-button-hoverBackgroundColor, var(--colors-default-400) )}&:hover:active{opacity:var(--uix-button-hover-opacity, .9)}}.uix-icon,button,input,a{cursor:pointer}&[bordered]{--uix-button-border-size: 1px;--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderColor: var(--_variant-color-400);--uix-button-textColor: var(--_variant-color-700)}&[ghost]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderSize: 0px;--uix-button-textColor: var(--_variant-color-700)}&[outline]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-textColor: var(--_variant-color-800);--uix-button-borderSize: 1px;--uix-button-borderColor: var(--_variant-color-400)}&[float]{background-color:#000;--uix-button-hoverBackgroundColor: var(--_variant-color-500);--uix-button-textColor: var(--_variant-color-50);--uix-button-borderSize: 0px;--uix-button-borderRadius: 9999px;--uix-button-width: var(--uix-button-height);box-shadow:var(--shadow-md, 0 4px 6px -1px rgb(0 0 0 / .1));--uix-button-padding: .5rem}&[float]:hover{box-shadow:var(--shadow-lg, 0 10px 15px -3px rgb(0 0 0 / .1))}}.uix-avatar{>:not(uix-overlay){width:var(--uix-avatar-width);height:var(--uix-avatar-height);border-radius:var(--uix-avatar-border-radius);background-color:var(--uix-avatar-background-color)}&[ring]{box-shadow:0 0 0 var(--uix-avatar-ring-width) var(--uix-avatar-ring)}>img{width:100%;height:100%;object-fit:cover}>uix-overlay{position:absolute;z-index:100;--tx: 0;--ty: 0;transform:translate(var(--tx),var(--ty));cursor:pointer;text-align:center;background:transparent}>uix-overlay[y=top]{top:0%}>uix-overlay[y=bottom]{bottom:0%}>uix-overlay[y=center]{top:50%;--ty: -50%}>uix-overlay[x=left]{left:-5%}>uix-overlay[x=right]{right:0%}>uix-overlay[x=center]{left:50%;--tx: -50%}--uix-avatar-background-color: var(--color-default-30, #d1d5db);--uix-avatar-text: var(--color-default, #000000);--uix-avatar-ring: var(--color-default, #000000);--uix-avatar-ring-width: 2px;--uix-avatar-border-radius: 50%;display:flex;position:relative;justify-content:center;align-items:center;overflow:hidden;color:var(--uix-avatar-text);font-size:calc(var(--uix-avatar-width) / 2.5);font-weight:500;vertical-align:middle;text-align:center;min-width:var(--uix-avatar-width);padding:3px}.uix-circle{&:not([solid]){background-color:transparent}}
`,metaType:"text/css"}};self.addEventListener("install",e=>e.waitUntil(self.skipWaiting())),self.addEventListener("activate",e=>e.waitUntil(self.clients.claim())),self.addEventListener("fetch",e=>{const o=new URL(e.request.url),t=FILE_BUNDLE[o.pathname];t&&e.respondWith(new Response(t.content,{headers:{"Content-Type":t.metaType||"application/javascript"}}))});
